const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-BmcfyYKw.js","assets/get-substitution-CQFt05Pl.js","assets/xlsx-CM-TUkP_.js","assets/proyectoStore-DvgR2axb.js","assets/index-BV9e5Yt5.js","assets/index-BACldji-.css","assets/proyectoService-wNf4fISD.js","assets/PaginaTituloIcono-CW0YRi1P.js","assets/PaginaTituloIcono-CAPGkXv8.css","assets/ProyectoHeader-D5OgEq0F.js","assets/formatters-CqNDYFfu.js","assets/useInstanciaGestora-cSU6cze7.js","assets/peiService-DMb0o3t4.js","assets/useProcedenciaFondos-DCzG2v-v.js","assets/ConfirmDialog-C6-Dbl5P.js","assets/useConfirmDialog-D-apekYG.js","assets/ProcedenciaFondosLista-vx1VHyZS.css","assets/ProyectoNodoForm-Bb9EdFB2.js","assets/selectOptions-B5pGCBUk.js","assets/useProyectoCrud-CvoteDjY.js","assets/KpiNodoForm-BwQ6Mblx.js","assets/ObjetivoGralNodoForm-D5VHvhZm.js","assets/ObjetivoEspecNodoForm-DH8prtXc.js","assets/ObjetivoEspecOgNodoForm-CXplMPjG.js","assets/IndicadorOgNodoForm-BL5ZmESz.js","assets/IndicadorOeNodoForm-C5rdevM0.js","assets/ResultadoOgNodoForm-CXUrtrQa.js","assets/ResultadoOeNodoForm-bp-Xv6bR.js","assets/ProductoOeNodoForm-DtbjxAA4.js","assets/ProductoResultOeNodoForm-CI1mszQm.js","assets/IndicadorResOgNodoForm-Bjet_5h0.js","assets/IndicadorResOeNodoForm-BweX6q2d.js","assets/ProcesoResultadoOgNodoForm-D2y2xsld.js","assets/ProcesoResultadoOeNodoForm-C2ZI0Cac.js","assets/ProcesoProdOeNodoForm-CWYqjwk9.js","assets/ActividadResOgNodoForm-DFbXhG4c.js","assets/ActividadProdOeNodoForm-Ck_chesE.js","assets/ActividadResulOeNodoForm-Cmkc8SLa.js","assets/ActividadNodoForm-DkHu-IxH.js","assets/ProductoGralNodo-C301Sf2Q.js"])))=>i.map(i=>d[i]);
import{u as yA}from"./proyectoStore-DvgR2axb.js";import{_ as Xt,r as Ue,c as Qe,z as kt,o as Sr,a as Pu,e as Be,b as ct,f as je,d as le,w as ie,i as se,l as be,g as nt,h as Lt,F as Cn,j as oa,t as Re,p as bA,v as _A,A as zt,B as b4,y as Ht,C as _4,D as Vt,E as Vr,q as _i,k as Ne,G as w4,H as wA,I as Iu,J as Jl,K as Mt,L as xA,M as SA,N as Bo,O as x4,P as AA,Q as fc,R as W0,S as NA,T as EA,U as wi,V as Rt,W as At,X as Tc,m as yt,Y as gi,Z as du,$ as S4,a0 as PA,a1 as di,a2 as Ze,a3 as Zt,a4 as ln,a5 as IA,a6 as $i,n as LA,s as CA}from"./index-BV9e5Yt5.js";import{P as OA}from"./PaginaTituloIcono-CW0YRi1P.js";import{_ as kA}from"./ProyectoHeader-D5OgEq0F.js";import{c as Ll,g as RA,u as Bi,w as qA}from"./xlsx-CM-TUkP_.js";import{a as TA,b as MA}from"./formatters-CqNDYFfu.js";import{a as co}from"./proyectoService-wNf4fISD.js";import{u as A4}from"./useProcedenciaFondos-DCzG2v-v.js";import{_ as DA}from"./ConfirmDialog-C6-Dbl5P.js";import{u as FA}from"./useConfirmDialog-D-apekYG.js";/* empty css                                                                               */const jA={class:"text-caption text-grey"},$A={__name:"ProcedenciaFondosLista",setup(e){const t=Ue(!1),n=Ue(!1),r=Ue(!1),o=Ue(!1),i=Ue(null),a=Ue(null),s=Ue(""),u=Ue(1),l=Ue(5),c=[5,10,20,50,100],{entidadesFinancieras:f,cargarProcedencias:p,crearProcedencia:h,updateProcedencia:g,delProcedencia:b}=A4(),{openConfirmDialog:w}=FA(),{successMsg:y,errorMsg:S}=_A(),A=Qe(()=>{if(!s.value)return f.value;const _=s.value.toLowerCase();return f.value.filter(F=>F.sigla&&F.sigla.toLowerCase().includes(_)||F.financiera&&F.financiera.toLowerCase().includes(_))}),L=Qe(()=>{const _=(u.value-1)*l.value,F=_+l.value;return A.value.slice(_,F)}),j=Qe(()=>Math.ceil(A.value.length/l.value)),Z=Qe(()=>(u.value-1)*l.value+1),M=Qe(()=>{const _=u.value*l.value;return _>A.value.length?A.value.length:_});kt([s,l],()=>{u.value=1}),Sr(async()=>{p()});const I=Pu({id:null,sigla:"",financiera:""}),X=async(_=null)=>{_?(console.log("Es edicion"),r.value=!0,Object.assign(I,{id:_.id,sigla:_.sigla,financiera:_.financiera})):(console.log("Nuevo dato"),r.value=!1,P()),t.value=!0},H=()=>{t.value=!1,P()},P=()=>{var _;Object.assign(I,{id:null,sigla:"",financiera:""}),(_=i.value)==null||_.resetValidation()},N=async()=>{const{valid:_}=await i.value.validate();if(_){if(o.value=!0,r.value){if(await w({title:"Crear nuevo registro",message:"Desea Actualizar el registro de Procedencia de Fondos?",type:"update",confirmLabel:"Actualizar",cancelLabel:"Volver"}))try{await g(I.id,I),y("Registro Actualizado Correctamente"),await p()}catch(k){console.error("No se puado actualizar el registro",k),S("No se actualizo el registro")}finally{o.value=!1,t.value=!1}}else if(await w({title:"Crear nuevo registro",message:"Desea crear un nuevo registro de Procedencia de Fondos?",type:"create",confirmLabel:"Crear",cancelLabel:"Volver"}))try{await h(I),y("Registro creado"),await p()}catch(k){console.error("No se pudo crear el registro",k),S("No se creo el registro")}finally{o.value=!1,t.value=!1}}},V=async _=>{if(a.value=_,n.value=!0,console.log(a.value),await w({title:"Eliminar el registro",message:"Desea eliminar el registro?",type:"delete",confirmLabel:"Eliminar",cancelLabel:"Volver"}))try{await b(a.value),y("El Registro ha sido eliminado"),await p()}catch(k){console.error("No se elimino el registro con id: "+a.value,k),S("No se elimino el registro")}finally{o.value=!1,t.value=!1}};return(_,F)=>{const k=Be("v-col"),Q=Be("v-icon"),U=Be("v-tooltip"),ne=Be("v-btn"),ee=Be("v-row"),pe=Be("v-text-field"),O=Be("v-select"),W=Be("v-pagination"),C=Be("v-list-item"),D=Be("v-list"),G=Be("v-card"),K=Be("v-card-title"),te=Be("v-form"),ce=Be("v-card-text"),Ee=Be("v-spacer"),we=Be("v-card-actions"),ke=Be("v-dialog");return je(),ct("div",null,[le(ee,{class:"mb-4",align:"center"},{default:ie(()=>[le(k,{cols:"12",sm:"6"},{default:ie(()=>F[8]||(F[8]=[se("h3",{class:"text-h5"},"Procedencia de Fondos",-1),se("p",{class:"text-caption text-grey"},"Administración de fuentes de financiamiento",-1)])),_:1,__:[8]}),le(k,{cols:"12",sm:"6",class:"text-sm-right"},{default:ie(()=>[le(ne,{icon:"",onClick:F[0]||(F[0]=_e=>X()),color:"primary",size:"small"},{default:ie(()=>[le(Q,null,{default:ie(()=>F[9]||(F[9]=[be("mdi-plus")])),_:1,__:[9]}),le(U,{activator:"parent",location:"top"},{default:ie(()=>F[10]||(F[10]=[be("Nueva Procedencia")])),_:1,__:[10]})]),_:1})]),_:1})]),_:1}),le(pe,{modelValue:s.value,"onUpdate:modelValue":F[1]||(F[1]=_e=>s.value=_e),label:"Buscar procedencia de fondos","prepend-inner-icon":"mdi-magnify",variant:"outlined",clearable:"",class:"mb-4"},null,8,["modelValue"]),le(ee,{class:"mb-2",align:"center"},{default:ie(()=>[le(k,{cols:"12",sm:"6"},{default:ie(()=>[le(O,{modelValue:l.value,"onUpdate:modelValue":F[2]||(F[2]=_e=>l.value=_e),items:c,label:"Items por página",density:"compact",variant:"outlined",style:{"max-width":"150px"}},null,8,["modelValue"])]),_:1}),le(k,{cols:"12",sm:"6",class:"text-sm-right"},{default:ie(()=>[j.value>1?(je(),nt(W,{key:0,modelValue:u.value,"onUpdate:modelValue":F[3]||(F[3]=_e=>u.value=_e),length:j.value,"total-visible":7},null,8,["modelValue","length"])):Lt("",!0)]),_:1})]),_:1}),le(G,{class:"mb-6"},{default:ie(()=>[le(D,{lines:"two"},{default:ie(()=>[A.value.length>0?(je(!0),ct(Cn,{key:0},oa(L.value,_e=>(je(),nt(C,{key:_e.id,title:_e.sigla+" - "+_e.financiera},{append:ie(()=>[le(ne,{icon:"",variant:"text",color:"blue",onClick:ae=>X(_e)},{default:ie(()=>[le(Q,null,{default:ie(()=>F[11]||(F[11]=[be("mdi-pencil")])),_:1,__:[11]})]),_:2},1032,["onClick"]),le(ne,{icon:"",variant:"text",color:"red",onClick:ae=>V(_e.id)},{default:ie(()=>[le(Q,null,{default:ie(()=>F[12]||(F[12]=[be("mdi-delete")])),_:1,__:[12]})]),_:2},1032,["onClick"])]),_:2},1032,["title"]))),128)):(je(),nt(C,{key:1,title:"No hay procedencias registradas",class:"text-grey"}))]),_:1}),le(ee,{class:"mt-4",align:"center",justify:"space-between"},{default:ie(()=>[le(k,{cols:"12",sm:"6"},{default:ie(()=>[se("div",jA," Mostrando "+Re(Z.value)+"-"+Re(M.value)+" de "+Re(A.value.length)+" items ",1)]),_:1}),le(k,{cols:"12",sm:"6",class:"text-sm-right"},{default:ie(()=>[j.value>1?(je(),nt(W,{key:0,modelValue:u.value,"onUpdate:modelValue":F[4]||(F[4]=_e=>u.value=_e),length:j.value,"total-visible":7},null,8,["modelValue","length"])):Lt("",!0)]),_:1})]),_:1})]),_:1}),le(ke,{modelValue:t.value,"onUpdate:modelValue":F[7]||(F[7]=_e=>t.value=_e),"max-width":"600",persistent:""},{default:ie(()=>[le(G,null,{default:ie(()=>[le(K,{class:"text-h5"},{default:ie(()=>[be(Re(r.value?"Editar":"Nueva")+" Procedencia de Fondos ",1)]),_:1}),le(ce,null,{default:ie(()=>[le(te,{ref_key:"form",ref:i,onSubmit:bA(N,["prevent"])},{default:ie(()=>[le(pe,{modelValue:I.sigla,"onUpdate:modelValue":F[5]||(F[5]=_e=>I.sigla=_e),label:"Sigla*",hint:"Ejemplo: FPD, FONFOSC, etc.",rules:[_e=>!!_e||"La sigla es requerida",_e=>_e&&_e.length<=10||"La sigla no debe exceder 10 caracteres",_e=>/^[A-Z0-9]+$/.test(_e)||"Solo mayúsculas y números permitidos"],class:"mb-3",variant:"outlined"},null,8,["modelValue","rules"]),le(pe,{modelValue:I.financiera,"onUpdate:modelValue":F[6]||(F[6]=_e=>I.financiera=_e),label:"Fuente Financiera*",rules:[_e=>!!_e||"La fuente financiera es requerida"],required:"",class:"mb-3",variant:"outlined"},null,8,["modelValue","rules"])]),_:1},512),F[13]||(F[13]=se("small",{class:"text-caption text-grey"},"* Campos obligatorios",-1))]),_:1,__:[13]}),le(we,null,{default:ie(()=>[le(Ee),le(ne,{color:"grey-darken-1",variant:"text",onClick:H},{default:ie(()=>F[14]||(F[14]=[be(" Cancelar ")])),_:1,__:[14]}),le(ne,{color:"primary",variant:"elevated",onClick:N,loading:o.value},{default:ie(()=>[be(Re(r.value?"Actualizar":"Guardar"),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),le(DA)])}}},BA=Xt($A,[["__scopeId","data-v-b8fcf5ec"]]);function Mc(e){return b4()?(Jl(e),!0):!1}function Do(e){return typeof e=="function"?e():Ne(e)}const zA=typeof window<"u"&&typeof document<"u",GA=e=>typeof e<"u",UA=Object.prototype.toString,VA=e=>UA.call(e)==="[object Object]",HA=()=>{};function WA(e,t){function n(...r){return new Promise((o,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(o).catch(i)})}return n}const N4=e=>e();function YA(e=N4){const t=Ue(!0);function n(){t.value=!1}function r(){t.value=!0}const o=(...i)=>{t.value&&e(...i)};return{isActive:S4(t),pause:n,resume:r,eventFilter:o}}function h2(e,t=!1,n="Timeout"){return new Promise((r,o)=>{setTimeout(t?()=>o(n):r,e)})}function XA(e,t,n={}){const{eventFilter:r=N4,...o}=n;return kt(e,WA(r,t),o)}function ja(e,t,n={}){const{eventFilter:r,...o}=n,{eventFilter:i,pause:a,resume:s,isActive:u}=YA(r);return{stop:XA(e,t,{...o,eventFilter:i}),pause:a,resume:s,isActive:u}}function KA(e,t={}){if(!W0(e))return NA(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const r in e.value)n[r]=EA(()=>({get(){return e.value[r]},set(o){var i;if((i=Do(t.replaceRef))!=null?i:!0)if(Array.isArray(e.value)){const s=[...e.value];s[r]=o,e.value=s}else{const s={...e.value,[r]:o};Object.setPrototypeOf(s,Object.getPrototypeOf(e.value)),e.value=s}else e.value[r]=o}}));return n}function c0(e,t=!1){function n(f,{flush:p="sync",deep:h=!1,timeout:g,throwOnTimeout:b}={}){let w=null;const S=[new Promise(A=>{w=kt(e,L=>{f(L)!==t&&(w==null||w(),A(L))},{flush:p,deep:h,immediate:!0})})];return g!=null&&S.push(h2(g,b).then(()=>Do(e)).finally(()=>w==null?void 0:w())),Promise.race(S)}function r(f,p){if(!W0(f))return n(L=>L===f,p);const{flush:h="sync",deep:g=!1,timeout:b,throwOnTimeout:w}=p??{};let y=null;const A=[new Promise(L=>{y=kt([e,f],([j,Z])=>{t!==(j===Z)&&(y==null||y(),L(j))},{flush:h,deep:g,immediate:!0})})];return b!=null&&A.push(h2(b,w).then(()=>Do(e)).finally(()=>(y==null||y(),Do(e)))),Promise.race(A)}function o(f){return n(p=>!!p,f)}function i(f){return r(null,f)}function a(f){return r(void 0,f)}function s(f){return n(Number.isNaN,f)}function u(f,p){return n(h=>{const g=Array.from(h);return g.includes(f)||g.includes(Do(f))},p)}function l(f){return c(1,f)}function c(f=1,p){let h=-1;return n(()=>(h+=1,h>=f),p)}return Array.isArray(Do(e))?{toMatch:n,toContains:u,changed:l,changedTimes:c,get not(){return c0(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:o,toBeNull:i,toBeNaN:s,toBeUndefined:a,changed:l,changedTimes:c,get not(){return c0(e,!t)}}}function d0(e){return c0(e)}function ZA(e){var t;const n=Do(e);return(t=n==null?void 0:n.$el)!=null?t:n}const E4=zA?window:void 0;function P4(...e){let t,n,r,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,o]=e,t=E4):[t,n,r,o]=e,!t)return HA;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],a=()=>{i.forEach(c=>c()),i.length=0},s=(c,f,p,h)=>(c.addEventListener(f,p,h),()=>c.removeEventListener(f,p,h)),u=kt(()=>[ZA(t),Do(o)],([c,f])=>{if(a(),!c)return;const p=VA(f)?{...f}:f;i.push(...n.flatMap(h=>r.map(g=>s(c,h,g,p))))},{immediate:!0,flush:"post"}),l=()=>{u(),a()};return Mc(l),l}function JA(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function p2(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=E4,eventName:i="keydown",passive:a=!1,dedupe:s=!1}=r,u=JA(t);return P4(o,i,c=>{c.repeat&&Do(s)||u(c)&&n(c)},a)}function QA(e){return JSON.parse(JSON.stringify(e))}function uf(e,t,n,r={}){var o,i,a;const{clone:s=!1,passive:u=!1,eventName:l,deep:c=!1,defaultValue:f,shouldEmit:p}=r,h=Iu(),g=n||(h==null?void 0:h.emit)||((o=h==null?void 0:h.$emit)==null?void 0:o.bind(h))||((a=(i=h==null?void 0:h.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let b=l;t||(t="modelValue"),b=b||`update:${t.toString()}`;const w=A=>s?typeof s=="function"?s(A):QA(A):A,y=()=>GA(e[t])?w(e[t]):f,S=A=>{p?p(A)&&g(b,A):g(b,A)};if(u){const A=y(),L=Ue(A);let j=!1;return kt(()=>e[t],Z=>{j||(j=!0,L.value=w(Z),Bo(()=>j=!1))}),kt(L,Z=>{!j&&(Z!==e[t]||c)&&S(Z)},{deep:c}),L}else return Qe({get(){return y()},set(A){S(A)}})}var eN={value:()=>{}};function Dc(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ql(n)}function Ql(e){this._=e}function tN(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ql.prototype=Dc.prototype={constructor:Ql,on:function(e,t){var n=this._,r=tN(e+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(e=r[i]).type)&&(o=nN(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(o=(e=r[i]).type)n[o]=v2(n[o],e.name,t);else if(t==null)for(o in n)n[o]=v2(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ql(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function nN(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function v2(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=eN,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var f0="http://www.w3.org/1999/xhtml";const g2={svg:"http://www.w3.org/2000/svg",xhtml:f0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fc(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),g2.hasOwnProperty(t)?{space:g2[t],local:e}:e}function rN(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===f0&&t.documentElement.namespaceURI===f0?t.createElement(e):t.createElementNS(n,e)}}function oN(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function I4(e){var t=Fc(e);return(t.local?oN:rN)(t)}function iN(){}function Y0(e){return e==null?iN:function(){return this.querySelector(e)}}function aN(e){typeof e!="function"&&(e=Y0(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=new Array(a),u,l,c=0;c<a;++c)(u=i[c])&&(l=e.call(u,u.__data__,c,i))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new hr(r,this._parents)}function sN(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function uN(){return[]}function L4(e){return e==null?uN:function(){return this.querySelectorAll(e)}}function lN(e){return function(){return sN(e.apply(this,arguments))}}function cN(e){typeof e=="function"?e=lN(e):e=L4(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a=t[i],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(r.push(e.call(u,u.__data__,l,a)),o.push(u));return new hr(r,o)}function C4(e){return function(){return this.matches(e)}}function O4(e){return function(t){return t.matches(e)}}var dN=Array.prototype.find;function fN(e){return function(){return dN.call(this.children,e)}}function hN(){return this.firstElementChild}function pN(e){return this.select(e==null?hN:fN(typeof e=="function"?e:O4(e)))}var vN=Array.prototype.filter;function gN(){return Array.from(this.children)}function mN(e){return function(){return vN.call(this.children,e)}}function yN(e){return this.selectAll(e==null?gN:mN(typeof e=="function"?e:O4(e)))}function bN(e){typeof e!="function"&&(e=C4(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],u,l=0;l<a;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&s.push(u);return new hr(r,this._parents)}function k4(e){return new Array(e.length)}function _N(){return new hr(this._enter||this._groups.map(k4),this._parents)}function hc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}hc.prototype={constructor:hc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function wN(e){return function(){return e}}function xN(e,t,n,r,o,i){for(var a=0,s,u=t.length,l=i.length;a<l;++a)(s=t[a])?(s.__data__=i[a],r[a]=s):n[a]=new hc(e,i[a]);for(;a<u;++a)(s=t[a])&&(o[a]=s)}function SN(e,t,n,r,o,i,a){var s,u,l=new Map,c=t.length,f=i.length,p=new Array(c),h;for(s=0;s<c;++s)(u=t[s])&&(p[s]=h=a.call(u,u.__data__,s,t)+"",l.has(h)?o[s]=u:l.set(h,u));for(s=0;s<f;++s)h=a.call(e,i[s],s,i)+"",(u=l.get(h))?(r[s]=u,u.__data__=i[s],l.delete(h)):n[s]=new hc(e,i[s]);for(s=0;s<c;++s)(u=t[s])&&l.get(p[s])===u&&(o[s]=u)}function AN(e){return e.__data__}function NN(e,t){if(!arguments.length)return Array.from(this,AN);var n=t?SN:xN,r=this._parents,o=this._groups;typeof e!="function"&&(e=wN(e));for(var i=o.length,a=new Array(i),s=new Array(i),u=new Array(i),l=0;l<i;++l){var c=r[l],f=o[l],p=f.length,h=EN(e.call(c,c&&c.__data__,l,r)),g=h.length,b=s[l]=new Array(g),w=a[l]=new Array(g),y=u[l]=new Array(p);n(c,f,b,w,y,h,t);for(var S=0,A=0,L,j;S<g;++S)if(L=b[S]){for(S>=A&&(A=S+1);!(j=w[A])&&++A<g;);L._next=j||null}}return a=new hr(a,r),a._enter=s,a._exit=u,a}function EN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PN(){return new hr(this._exit||this._groups.map(k4),this._parents)}function IN(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function LN(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),u=0;u<a;++u)for(var l=n[u],c=r[u],f=l.length,p=s[u]=new Array(f),h,g=0;g<f;++g)(h=l[g]||c[g])&&(p[g]=h);for(;u<o;++u)s[u]=n[u];return new hr(s,this._parents)}function CN(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function ON(e){e||(e=kN);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],s=a.length,u=o[i]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(t)}return new hr(o,this._parents).order()}function kN(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function RN(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function qN(){return Array.from(this)}function TN(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function MN(){let e=0;for(const t of this)++e;return e}function DN(){return!this.node()}function FN(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,a=o.length,s;i<a;++i)(s=o[i])&&e.call(s,s.__data__,i,o);return this}function jN(e){return function(){this.removeAttribute(e)}}function $N(e){return function(){this.removeAttributeNS(e.space,e.local)}}function BN(e,t){return function(){this.setAttribute(e,t)}}function zN(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function GN(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function UN(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function VN(e,t){var n=Fc(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?$N:jN:typeof t=="function"?n.local?UN:GN:n.local?zN:BN)(n,t))}function R4(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function HN(e){return function(){this.style.removeProperty(e)}}function WN(e,t,n){return function(){this.style.setProperty(e,t,n)}}function YN(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function XN(e,t,n){return arguments.length>1?this.each((t==null?HN:typeof t=="function"?YN:WN)(e,t,n??"")):is(this.node(),e)}function is(e,t){return e.style.getPropertyValue(t)||R4(e).getComputedStyle(e,null).getPropertyValue(t)}function KN(e){return function(){delete this[e]}}function ZN(e,t){return function(){this[e]=t}}function JN(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function QN(e,t){return arguments.length>1?this.each((t==null?KN:typeof t=="function"?JN:ZN)(e,t)):this.node()[e]}function q4(e){return e.trim().split(/^|\s+/)}function X0(e){return e.classList||new T4(e)}function T4(e){this._node=e,this._names=q4(e.getAttribute("class")||"")}T4.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function M4(e,t){for(var n=X0(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function D4(e,t){for(var n=X0(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function eE(e){return function(){M4(this,e)}}function tE(e){return function(){D4(this,e)}}function nE(e,t){return function(){(t.apply(this,arguments)?M4:D4)(this,e)}}function rE(e,t){var n=q4(e+"");if(arguments.length<2){for(var r=X0(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?nE:t?eE:tE)(n,t))}function oE(){this.textContent=""}function iE(e){return function(){this.textContent=e}}function aE(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function sE(e){return arguments.length?this.each(e==null?oE:(typeof e=="function"?aE:iE)(e)):this.node().textContent}function uE(){this.innerHTML=""}function lE(e){return function(){this.innerHTML=e}}function cE(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function dE(e){return arguments.length?this.each(e==null?uE:(typeof e=="function"?cE:lE)(e)):this.node().innerHTML}function fE(){this.nextSibling&&this.parentNode.appendChild(this)}function hE(){return this.each(fE)}function pE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vE(){return this.each(pE)}function gE(e){var t=typeof e=="function"?e:I4(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function mE(){return null}function yE(e,t){var n=typeof e=="function"?e:I4(e),r=t==null?mE:typeof t=="function"?t:Y0(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function bE(){var e=this.parentNode;e&&e.removeChild(this)}function _E(){return this.each(bE)}function wE(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xE(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function SE(e){return this.select(e?xE:wE)}function AE(e){return arguments.length?this.property("__data__",e):this.node().__data__}function NE(e){return function(t){e.call(this,t,this.__data__)}}function EE(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function PE(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function IE(e,t,n){return function(){var r=this.__on,o,i=NE(t);if(r){for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function LE(e,t,n){var r=EE(e+""),o,i=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(o=0,c=s[u];o<i;++o)if((a=r[o]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?IE:PE,o=0;o<i;++o)this.each(s(r[o],t,n));return this}function F4(e,t,n){var r=R4(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function CE(e,t){return function(){return F4(this,e,t)}}function OE(e,t){return function(){return F4(this,e,t.apply(this,arguments))}}function kE(e,t){return this.each((typeof t=="function"?OE:CE)(e,t))}function*RE(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var j4=[null];function hr(e,t){this._groups=e,this._parents=t}function Lu(){return new hr([[document.documentElement]],j4)}function qE(){return this}hr.prototype=Lu.prototype={constructor:hr,select:aN,selectAll:cN,selectChild:pN,selectChildren:yN,filter:bN,data:NN,enter:_N,exit:PN,join:IN,merge:LN,selection:qE,order:CN,sort:ON,call:RN,nodes:qN,node:TN,size:MN,empty:DN,each:FN,attr:VN,style:XN,property:QN,classed:rE,text:sE,html:dE,raise:hE,lower:vE,append:gE,insert:yE,remove:_E,clone:SE,datum:AE,on:LE,dispatch:kE,[Symbol.iterator]:RE};function zr(e){return typeof e=="string"?new hr([[document.querySelector(e)]],[document.documentElement]):new hr([[e]],j4)}function TE(e){let t;for(;t=e.sourceEvent;)e=t;return e}function lo(e,t){if(e=TE(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const ME={passive:!1},gu={capture:!0,passive:!1};function lf(e){e.stopImmediatePropagation()}function Za(e){e.preventDefault(),e.stopImmediatePropagation()}function $4(e){var t=e.document.documentElement,n=zr(e).on("dragstart.drag",Za,gu);"onselectstart"in t?n.on("selectstart.drag",Za,gu):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function B4(e,t){var n=e.document.documentElement,r=zr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Za,gu),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Cl=e=>()=>e;function h0(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}h0.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function DE(e){return!e.ctrlKey&&!e.button}function FE(){return this.parentNode}function jE(e,t){return t??{x:e.x,y:e.y}}function $E(){return navigator.maxTouchPoints||"ontouchstart"in this}function BE(){var e=DE,t=FE,n=jE,r=$E,o={},i=Dc("start","drag","end"),a=0,s,u,l,c,f=0;function p(L){L.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",y,ME).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(L,j){if(!(c||!e.call(this,L,j))){var Z=A(this,t.call(this,L,j),L,j,"mouse");Z&&(zr(L.view).on("mousemove.drag",g,gu).on("mouseup.drag",b,gu),$4(L.view),lf(L),l=!1,s=L.clientX,u=L.clientY,Z("start",L))}}function g(L){if(Za(L),!l){var j=L.clientX-s,Z=L.clientY-u;l=j*j+Z*Z>f}o.mouse("drag",L)}function b(L){zr(L.view).on("mousemove.drag mouseup.drag",null),B4(L.view,l),Za(L),o.mouse("end",L)}function w(L,j){if(e.call(this,L,j)){var Z=L.changedTouches,M=t.call(this,L,j),I=Z.length,X,H;for(X=0;X<I;++X)(H=A(this,M,L,j,Z[X].identifier,Z[X]))&&(lf(L),H("start",L,Z[X]))}}function y(L){var j=L.changedTouches,Z=j.length,M,I;for(M=0;M<Z;++M)(I=o[j[M].identifier])&&(Za(L),I("drag",L,j[M]))}function S(L){var j=L.changedTouches,Z=j.length,M,I;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),M=0;M<Z;++M)(I=o[j[M].identifier])&&(lf(L),I("end",L,j[M]))}function A(L,j,Z,M,I,X){var H=i.copy(),P=lo(X||Z,j),N,V,_;if((_=n.call(L,new h0("beforestart",{sourceEvent:Z,target:p,identifier:I,active:a,x:P[0],y:P[1],dx:0,dy:0,dispatch:H}),M))!=null)return N=_.x-P[0]||0,V=_.y-P[1]||0,function F(k,Q,U){var ne=P,ee;switch(k){case"start":o[I]=F,ee=a++;break;case"end":delete o[I],--a;case"drag":P=lo(U||Q,j),ee=a;break}H.call(k,L,new h0(k,{sourceEvent:Q,subject:_,target:p,identifier:I,active:ee,x:P[0]+N,y:P[1]+V,dx:P[0]-ne[0],dy:P[1]-ne[1],dispatch:H}),M)}}return p.filter=function(L){return arguments.length?(e=typeof L=="function"?L:Cl(!!L),p):e},p.container=function(L){return arguments.length?(t=typeof L=="function"?L:Cl(L),p):t},p.subject=function(L){return arguments.length?(n=typeof L=="function"?L:Cl(L),p):n},p.touchable=function(L){return arguments.length?(r=typeof L=="function"?L:Cl(!!L),p):r},p.on=function(){var L=i.on.apply(i,arguments);return L===i?p:L},p.clickDistance=function(L){return arguments.length?(f=(L=+L)*L,p):Math.sqrt(f)},p}function K0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function z4(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Cu(){}var mu=.7,pc=1/mu,Ja="\\s*([+-]?\\d+)\\s*",yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zE=/^#([0-9a-f]{3,8})$/,GE=new RegExp(`^rgb\\(${Ja},${Ja},${Ja}\\)$`),UE=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),VE=new RegExp(`^rgba\\(${Ja},${Ja},${Ja},${yu}\\)$`),HE=new RegExp(`^rgba\\(${vo},${vo},${vo},${yu}\\)$`),WE=new RegExp(`^hsl\\(${yu},${vo},${vo}\\)$`),YE=new RegExp(`^hsla\\(${yu},${vo},${vo},${yu}\\)$`),m2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};K0(Cu,ea,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:y2,formatHex:y2,formatHex8:XE,formatHsl:KE,formatRgb:b2,toString:b2});function y2(){return this.rgb().formatHex()}function XE(){return this.rgb().formatHex8()}function KE(){return G4(this).formatHsl()}function b2(){return this.rgb().formatRgb()}function ea(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zE.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_2(t):n===3?new Qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ol(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ol(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GE.exec(e))?new Qn(t[1],t[2],t[3],1):(t=UE.exec(e))?new Qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=VE.exec(e))?Ol(t[1],t[2],t[3],t[4]):(t=HE.exec(e))?Ol(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=WE.exec(e))?S2(t[1],t[2]/100,t[3]/100,1):(t=YE.exec(e))?S2(t[1],t[2]/100,t[3]/100,t[4]):m2.hasOwnProperty(e)?_2(m2[e]):e==="transparent"?new Qn(NaN,NaN,NaN,0):null}function _2(e){return new Qn(e>>16&255,e>>8&255,e&255,1)}function Ol(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qn(e,t,n,r)}function ZE(e){return e instanceof Cu||(e=ea(e)),e?(e=e.rgb(),new Qn(e.r,e.g,e.b,e.opacity)):new Qn}function p0(e,t,n,r){return arguments.length===1?ZE(e):new Qn(e,t,n,r??1)}function Qn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}K0(Qn,p0,z4(Cu,{brighter(e){return e=e==null?pc:Math.pow(pc,e),new Qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mu:Math.pow(mu,e),new Qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qn(Ki(this.r),Ki(this.g),Ki(this.b),vc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:w2,formatHex:w2,formatHex8:JE,formatRgb:x2,toString:x2}));function w2(){return`#${Yi(this.r)}${Yi(this.g)}${Yi(this.b)}`}function JE(){return`#${Yi(this.r)}${Yi(this.g)}${Yi(this.b)}${Yi((isNaN(this.opacity)?1:this.opacity)*255)}`}function x2(){const e=vc(this.opacity);return`${e===1?"rgb(":"rgba("}${Ki(this.r)}, ${Ki(this.g)}, ${Ki(this.b)}${e===1?")":`, ${e})`}`}function vc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ki(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yi(e){return e=Ki(e),(e<16?"0":"")+e.toString(16)}function S2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Gr(e,t,n,r)}function G4(e){if(e instanceof Gr)return new Gr(e.h,e.s,e.l,e.opacity);if(e instanceof Cu||(e=ea(e)),!e)return new Gr;if(e instanceof Gr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(t===i?a=(n-r)/s+(n<r)*6:n===i?a=(r-t)/s+2:a=(t-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new Gr(a,s,u,e.opacity)}function QE(e,t,n,r){return arguments.length===1?G4(e):new Gr(e,t,n,r??1)}function Gr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}K0(Gr,QE,z4(Cu,{brighter(e){return e=e==null?pc:Math.pow(pc,e),new Gr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mu:Math.pow(mu,e),new Gr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Qn(cf(e>=240?e-240:e+120,o,r),cf(e,o,r),cf(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Gr(A2(this.h),kl(this.s),kl(this.l),vc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vc(this.opacity);return`${e===1?"hsl(":"hsla("}${A2(this.h)}, ${kl(this.s)*100}%, ${kl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function A2(e){return e=(e||0)%360,e<0?e+360:e}function kl(e){return Math.max(0,Math.min(1,e||0))}function cf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Z0=e=>()=>e;function e8(e,t){return function(n){return e+n*t}}function t8(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function n8(e){return(e=+e)==1?U4:function(t,n){return n-t?t8(t,n,e):Z0(isNaN(t)?n:t)}}function U4(e,t){var n=t-e;return n?e8(e,n):Z0(isNaN(e)?t:e)}const gc=function e(t){var n=n8(t);function r(o,i){var a=n((o=p0(o)).r,(i=p0(i)).r),s=n(o.g,i.g),u=n(o.b,i.b),l=U4(o.opacity,i.opacity);return function(c){return o.r=a(c),o.g=s(c),o.b=u(c),o.opacity=l(c),o+""}}return r.gamma=e,r}(1);function r8(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function o8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function i8(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=fu(e[a],t[a]);for(;a<n;++a)i[a]=t[a];return function(s){for(a=0;a<r;++a)i[a]=o[a](s);return i}}function a8(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function s8(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=fu(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var v0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,df=new RegExp(v0.source,"g");function u8(e){return function(){return e}}function l8(e){return function(t){return e(t)+""}}function V4(e,t){var n=v0.lastIndex=df.lastIndex=0,r,o,i,a=-1,s=[],u=[];for(e=e+"",t=t+"";(r=v0.exec(e))&&(o=df.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,u.push({i:a,x:fo(r,o)})),n=df.lastIndex;return n<t.length&&(i=t.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?l8(u[0].x):u8(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)s[(f=u[c]).i]=f.x(l);return s.join("")})}function fu(e,t){var n=typeof t,r;return t==null||n==="boolean"?Z0(t):(n==="number"?fo:n==="string"?(r=ea(t))?(t=r,gc):V4:t instanceof ea?gc:t instanceof Date?a8:o8(t)?r8:Array.isArray(t)?i8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?s8:fo)(e,t)}var N2=180/Math.PI,g0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function H4(e,t,n,r,o,i){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*N2,skewX:Math.atan(u)*N2,scaleX:a,scaleY:s}}var Rl;function c8(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?g0:H4(t.a,t.b,t.c,t.d,t.e,t.f)}function d8(e){return e==null||(Rl||(Rl=document.createElementNS("http://www.w3.org/2000/svg","g")),Rl.setAttribute("transform",e),!(e=Rl.transform.baseVal.consolidate()))?g0:(e=e.matrix,H4(e.a,e.b,e.c,e.d,e.e,e.f))}function W4(e,t,n,r){function o(l){return l.length?l.pop()+" ":""}function i(l,c,f,p,h,g){if(l!==f||c!==p){var b=h.push("translate(",null,t,null,n);g.push({i:b-4,x:fo(l,f)},{i:b-2,x:fo(c,p)})}else(f||p)&&h.push("translate("+f+t+p+n)}function a(l,c,f,p){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),p.push({i:f.push(o(f)+"rotate(",null,r)-2,x:fo(l,c)})):c&&f.push(o(f)+"rotate("+c+r)}function s(l,c,f,p){l!==c?p.push({i:f.push(o(f)+"skewX(",null,r)-2,x:fo(l,c)}):c&&f.push(o(f)+"skewX("+c+r)}function u(l,c,f,p,h,g){if(l!==f||c!==p){var b=h.push(o(h)+"scale(",null,",",null,")");g.push({i:b-4,x:fo(l,f)},{i:b-2,x:fo(c,p)})}else(f!==1||p!==1)&&h.push(o(h)+"scale("+f+","+p+")")}return function(l,c){var f=[],p=[];return l=e(l),c=e(c),i(l.translateX,l.translateY,c.translateX,c.translateY,f,p),a(l.rotate,c.rotate,f,p),s(l.skewX,c.skewX,f,p),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,p),l=c=null,function(h){for(var g=-1,b=p.length,w;++g<b;)f[(w=p[g]).i]=w.x(h);return f.join("")}}}var f8=W4(c8,"px, ","px)","deg)"),h8=W4(d8,", ",")",")"),p8=1e-12;function E2(e){return((e=Math.exp(e))+1/e)/2}function v8(e){return((e=Math.exp(e))-1/e)/2}function g8(e){return((e=Math.exp(2*e))-1)/(e+1)}const ec=function e(t,n,r){function o(i,a){var s=i[0],u=i[1],l=i[2],c=a[0],f=a[1],p=a[2],h=c-s,g=f-u,b=h*h+g*g,w,y;if(b<p8)y=Math.log(p/l)/t,w=function(M){return[s+M*h,u+M*g,l*Math.exp(t*M*y)]};else{var S=Math.sqrt(b),A=(p*p-l*l+r*b)/(2*l*n*S),L=(p*p-l*l-r*b)/(2*p*n*S),j=Math.log(Math.sqrt(A*A+1)-A),Z=Math.log(Math.sqrt(L*L+1)-L);y=(Z-j)/t,w=function(M){var I=M*y,X=E2(j),H=l/(n*S)*(X*g8(t*I+j)-v8(j));return[s+H*h,u+H*g,l*X/E2(t*I+j)]}}return w.duration=y*1e3*t/Math.SQRT2,w}return o.rho=function(i){var a=Math.max(.001,+i),s=a*a,u=s*s;return e(a,s,u)},o}(Math.SQRT2,2,4);var as=0,ru=0,Ws=0,Y4=1e3,mc,ou,yc=0,ta=0,jc=0,bu=typeof performance=="object"&&performance.now?performance:Date,X4=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function J0(){return ta||(X4(m8),ta=bu.now()+jc)}function m8(){ta=0}function bc(){this._call=this._time=this._next=null}bc.prototype=K4.prototype={constructor:bc,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?J0():+n)+(t==null?0:+t),!this._next&&ou!==this&&(ou?ou._next=this:mc=this,ou=this),this._call=e,this._time=n,m0()},stop:function(){this._call&&(this._call=null,this._time=1/0,m0())}};function K4(e,t,n){var r=new bc;return r.restart(e,t,n),r}function y8(){J0(),++as;for(var e=mc,t;e;)(t=ta-e._time)>=0&&e._call.call(void 0,t),e=e._next;--as}function P2(){ta=(yc=bu.now())+jc,as=ru=0;try{y8()}finally{as=0,_8(),ta=0}}function b8(){var e=bu.now(),t=e-yc;t>Y4&&(jc-=t,yc=e)}function _8(){for(var e,t=mc,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:mc=n);ou=e,m0(r)}function m0(e){if(!as){ru&&(ru=clearTimeout(ru));var t=e-ta;t>24?(e<1/0&&(ru=setTimeout(P2,e-bu.now()-jc)),Ws&&(Ws=clearInterval(Ws))):(Ws||(yc=bu.now(),Ws=setInterval(b8,Y4)),as=1,X4(P2))}}function I2(e,t,n){var r=new bc;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var w8=Dc("start","end","cancel","interrupt"),x8=[],Z4=0,L2=1,y0=2,tc=3,C2=4,b0=5,nc=6;function $c(e,t,n,r,o,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;S8(e,n,{name:t,index:r,group:o,on:w8,tween:x8,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Z4})}function Q0(e,t){var n=Wr(e,t);if(n.state>Z4)throw new Error("too late; already scheduled");return n}function yo(e,t){var n=Wr(e,t);if(n.state>tc)throw new Error("too late; already running");return n}function Wr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function S8(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=K4(i,0,n.time);function i(l){n.state=L2,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var c,f,p,h;if(n.state!==L2)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===tc)return I2(a);h.state===C2?(h.state=nc,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=nc,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(I2(function(){n.state===tc&&(n.state=C2,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=y0,n.on.call("start",e,e.__data__,n.index,n.group),n.state===y0){for(n.state=tc,o=new Array(p=n.tween.length),c=0,f=-1;c<p;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=h);o.length=f+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=b0,1),f=-1,p=o.length;++f<p;)o[f].call(e,c);n.state===b0&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=nc,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function rc(e,t){var n=e.__transition,r,o,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){i=!1;continue}o=r.state>y0&&r.state<b0,r.state=nc,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}i&&delete e.__transition}}function A8(e){return this.each(function(){rc(this,e)})}function N8(e,t){var n,r;return function(){var o=yo(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function E8(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=yo(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},u=0,l=o.length;u<l;++u)if(o[u].name===t){o[u]=s;break}u===l&&o.push(s)}i.tween=o}}function P8(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Wr(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===e)return a.value;return null}return this.each((t==null?N8:E8)(n,e,t))}function em(e,t,n){var r=e._id;return e.each(function(){var o=yo(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Wr(o,r).value[t]}}function J4(e,t){var n;return(typeof t=="number"?fo:t instanceof ea?gc:(n=ea(t))?(t=n,gc):V4)(e,t)}function I8(e){return function(){this.removeAttribute(e)}}function L8(e){return function(){this.removeAttributeNS(e.space,e.local)}}function C8(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function O8(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function k8(e,t,n){var r,o,i;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===r&&u===o?i:(o=u,i=t(r=a,s)))}}function R8(e,t,n){var r,o,i;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===r&&u===o?i:(o=u,i=t(r=a,s)))}}function q8(e,t){var n=Fc(e),r=n==="transform"?h8:J4;return this.attrTween(e,typeof t=="function"?(n.local?R8:k8)(n,r,em(this,"attr."+e,t)):t==null?(n.local?L8:I8)(n):(n.local?O8:C8)(n,r,t))}function T8(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function M8(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function D8(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&M8(e,i)),n}return o._value=t,o}function F8(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&T8(e,i)),n}return o._value=t,o}function j8(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Fc(e);return this.tween(n,(r.local?D8:F8)(r,t))}function $8(e,t){return function(){Q0(this,e).delay=+t.apply(this,arguments)}}function B8(e,t){return t=+t,function(){Q0(this,e).delay=t}}function z8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$8:B8)(t,e)):Wr(this.node(),t).delay}function G8(e,t){return function(){yo(this,e).duration=+t.apply(this,arguments)}}function U8(e,t){return t=+t,function(){yo(this,e).duration=t}}function V8(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?G8:U8)(t,e)):Wr(this.node(),t).duration}function H8(e,t){if(typeof t!="function")throw new Error;return function(){yo(this,e).ease=t}}function W8(e){var t=this._id;return arguments.length?this.each(H8(t,e)):Wr(this.node(),t).ease}function Y8(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;yo(this,e).ease=n}}function X8(e){if(typeof e!="function")throw new Error;return this.each(Y8(this._id,e))}function K8(e){typeof e!="function"&&(e=C4(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],u,l=0;l<a;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&s.push(u);return new zo(r,this._parents,this._name,this._id)}function Z8(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var u=t[s],l=n[s],c=u.length,f=a[s]=new Array(c),p,h=0;h<c;++h)(p=u[h]||l[h])&&(f[h]=p);for(;s<r;++s)a[s]=t[s];return new zo(a,this._parents,this._name,this._id)}function J8(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Q8(e,t,n){var r,o,i=J8(t)?Q0:yo;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}function eP(e,t){var n=this._id;return arguments.length<2?Wr(this.node(),n).on.on(e):this.each(Q8(n,e,t))}function tP(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function nP(){return this.on("end.remove",tP(this._id))}function rP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Y0(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s=r[a],u=s.length,l=i[a]=new Array(u),c,f,p=0;p<u;++p)(c=s[p])&&(f=e.call(c,c.__data__,p,s))&&("__data__"in c&&(f.__data__=c.__data__),l[p]=f,$c(l[p],t,n,p,l,Wr(c,n)));return new zo(i,this._parents,t,n)}function oP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=L4(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var u=r[s],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var p=e.call(c,c.__data__,f,u),h,g=Wr(c,n),b=0,w=p.length;b<w;++b)(h=p[b])&&$c(h,t,n,b,p,g);i.push(p),a.push(c)}return new zo(i,a,t,n)}var iP=Lu.prototype.constructor;function aP(){return new iP(this._groups,this._parents)}function sP(e,t){var n,r,o;return function(){var i=is(this,e),a=(this.style.removeProperty(e),is(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}function Q4(e){return function(){this.style.removeProperty(e)}}function uP(e,t,n){var r,o=n+"",i;return function(){var a=is(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}function lP(e,t,n){var r,o,i;return function(){var a=is(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),is(this,e))),a===u?null:a===r&&u===o?i:(o=u,i=t(r=a,s))}}function cP(e,t){var n,r,o,i="style."+t,a="end."+i,s;return function(){var u=yo(this,e),l=u.on,c=u.value[i]==null?s||(s=Q4(t)):void 0;(l!==n||o!==c)&&(r=(n=l).copy()).on(a,o=c),u.on=r}}function dP(e,t,n){var r=(e+="")=="transform"?f8:J4;return t==null?this.styleTween(e,sP(e,r)).on("end.style."+e,Q4(e)):typeof t=="function"?this.styleTween(e,lP(e,r,em(this,"style."+e,t))).each(cP(this._id,e)):this.styleTween(e,uP(e,r,t),n).on("end.style."+e,null)}function fP(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function hP(e,t,n){var r,o;function i(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&fP(e,a,n)),r}return i._value=t,i}function pP(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,hP(e,t,n??""))}function vP(e){return function(){this.textContent=e}}function gP(e){return function(){var t=e(this);this.textContent=t??""}}function mP(e){return this.tween("text",typeof e=="function"?gP(em(this,"text",e)):vP(e==null?"":e+""))}function yP(e){return function(t){this.textContent=e.call(this,t)}}function bP(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&yP(o)),t}return r._value=e,r}function _P(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,bP(e))}function wP(){for(var e=this._name,t=this._id,n=ex(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=Wr(u,t);$c(u,e,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new zo(r,this._parents,e,n)}function xP(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},u={value:function(){--o===0&&i()}};n.each(function(){var l=yo(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),o===0&&i()})}var SP=0;function zo(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ex(){return++SP}var Ro=Lu.prototype;zo.prototype={constructor:zo,select:rP,selectAll:oP,selectChild:Ro.selectChild,selectChildren:Ro.selectChildren,filter:K8,merge:Z8,selection:aP,transition:wP,call:Ro.call,nodes:Ro.nodes,node:Ro.node,size:Ro.size,empty:Ro.empty,each:Ro.each,on:eP,attr:q8,attrTween:j8,style:dP,styleTween:pP,text:mP,textTween:_P,remove:nP,tween:P8,delay:z8,duration:V8,ease:W8,easeVarying:X8,end:xP,[Symbol.iterator]:Ro[Symbol.iterator]};function AP(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var NP={time:null,delay:0,duration:250,ease:AP};function EP(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function PP(e){var t,n;e instanceof zo?(t=e._id,e=e._name):(t=ex(),(n=NP).time=J0(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,u,l=0;l<s;++l)(u=a[l])&&$c(u,e,t,l,a,n||EP(u,t));return new zo(r,this._parents,e,t)}Lu.prototype.interrupt=A8;Lu.prototype.transition=PP;const ql=e=>()=>e;function IP(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Fo(e,t,n){this.k=e,this.x=t,this.y=n}Fo.prototype={constructor:Fo,scale:function(e){return e===1?this:new Fo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Fo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ss=new Fo(1,0,0);Fo.prototype;function ff(e){e.stopImmediatePropagation()}function Ys(e){e.preventDefault(),e.stopImmediatePropagation()}function LP(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function CP(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function O2(){return this.__zoom||ss}function OP(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function kP(){return navigator.maxTouchPoints||"ontouchstart"in this}function RP(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function qP(){var e=LP,t=CP,n=RP,r=OP,o=kP,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=ec,l=Dc("start","zoom","end"),c,f,p,h=500,g=150,b=0,w=10;function y(_){_.property("__zoom",O2).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",X).on("dblclick.zoom",H).filter(o).on("touchstart.zoom",P).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(_,F,k,Q){var U=_.selection?_.selection():_;U.property("__zoom",O2),_!==U?j(_,F,k,Q):U.interrupt().each(function(){Z(this,arguments).event(Q).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},y.scaleBy=function(_,F,k,Q){y.scaleTo(_,function(){var U=this.__zoom.k,ne=typeof F=="function"?F.apply(this,arguments):F;return U*ne},k,Q)},y.scaleTo=function(_,F,k,Q){y.transform(_,function(){var U=t.apply(this,arguments),ne=this.__zoom,ee=k==null?L(U):typeof k=="function"?k.apply(this,arguments):k,pe=ne.invert(ee),O=typeof F=="function"?F.apply(this,arguments):F;return n(A(S(ne,O),ee,pe),U,a)},k,Q)},y.translateBy=function(_,F,k,Q){y.transform(_,function(){return n(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof k=="function"?k.apply(this,arguments):k),t.apply(this,arguments),a)},null,Q)},y.translateTo=function(_,F,k,Q,U){y.transform(_,function(){var ne=t.apply(this,arguments),ee=this.__zoom,pe=Q==null?L(ne):typeof Q=="function"?Q.apply(this,arguments):Q;return n(ss.translate(pe[0],pe[1]).scale(ee.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof k=="function"?-k.apply(this,arguments):-k),ne,a)},Q,U)};function S(_,F){return F=Math.max(i[0],Math.min(i[1],F)),F===_.k?_:new Fo(F,_.x,_.y)}function A(_,F,k){var Q=F[0]-k[0]*_.k,U=F[1]-k[1]*_.k;return Q===_.x&&U===_.y?_:new Fo(_.k,Q,U)}function L(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function j(_,F,k,Q){_.on("start.zoom",function(){Z(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){Z(this,arguments).event(Q).end()}).tween("zoom",function(){var U=this,ne=arguments,ee=Z(U,ne).event(Q),pe=t.apply(U,ne),O=k==null?L(pe):typeof k=="function"?k.apply(U,ne):k,W=Math.max(pe[1][0]-pe[0][0],pe[1][1]-pe[0][1]),C=U.__zoom,D=typeof F=="function"?F.apply(U,ne):F,G=u(C.invert(O).concat(W/C.k),D.invert(O).concat(W/D.k));return function(K){if(K===1)K=D;else{var te=G(K),ce=W/te[2];K=new Fo(ce,O[0]-te[0]*ce,O[1]-te[1]*ce)}ee.zoom(null,K)}})}function Z(_,F,k){return!k&&_.__zooming||new M(_,F)}function M(_,F){this.that=_,this.args=F,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,F),this.taps=0}M.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,F){return this.mouse&&_!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var F=zr(this.that).datum();l.call(_,this.that,new IP(_,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:l}),F)}};function I(_,...F){if(!e.apply(this,arguments))return;var k=Z(this,F).event(_),Q=this.__zoom,U=Math.max(i[0],Math.min(i[1],Q.k*Math.pow(2,r.apply(this,arguments)))),ne=lo(_);if(k.wheel)(k.mouse[0][0]!==ne[0]||k.mouse[0][1]!==ne[1])&&(k.mouse[1]=Q.invert(k.mouse[0]=ne)),clearTimeout(k.wheel);else{if(Q.k===U)return;k.mouse=[ne,Q.invert(ne)],rc(this),k.start()}Ys(_),k.wheel=setTimeout(ee,g),k.zoom("mouse",n(A(S(Q,U),k.mouse[0],k.mouse[1]),k.extent,a));function ee(){k.wheel=null,k.end()}}function X(_,...F){if(p||!e.apply(this,arguments))return;var k=_.currentTarget,Q=Z(this,F,!0).event(_),U=zr(_.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",W,!0),ne=lo(_,k),ee=_.clientX,pe=_.clientY;$4(_.view),ff(_),Q.mouse=[ne,this.__zoom.invert(ne)],rc(this),Q.start();function O(C){if(Ys(C),!Q.moved){var D=C.clientX-ee,G=C.clientY-pe;Q.moved=D*D+G*G>b}Q.event(C).zoom("mouse",n(A(Q.that.__zoom,Q.mouse[0]=lo(C,k),Q.mouse[1]),Q.extent,a))}function W(C){U.on("mousemove.zoom mouseup.zoom",null),B4(C.view,Q.moved),Ys(C),Q.event(C).end()}}function H(_,...F){if(e.apply(this,arguments)){var k=this.__zoom,Q=lo(_.changedTouches?_.changedTouches[0]:_,this),U=k.invert(Q),ne=k.k*(_.shiftKey?.5:2),ee=n(A(S(k,ne),Q,U),t.apply(this,F),a);Ys(_),s>0?zr(this).transition().duration(s).call(j,ee,Q,_):zr(this).call(y.transform,ee,Q,_)}}function P(_,...F){if(e.apply(this,arguments)){var k=_.touches,Q=k.length,U=Z(this,F,_.changedTouches.length===Q).event(_),ne,ee,pe,O;for(ff(_),ee=0;ee<Q;++ee)pe=k[ee],O=lo(pe,this),O=[O,this.__zoom.invert(O),pe.identifier],U.touch0?!U.touch1&&U.touch0[2]!==O[2]&&(U.touch1=O,U.taps=0):(U.touch0=O,ne=!0,U.taps=1+!!c);c&&(c=clearTimeout(c)),ne&&(U.taps<2&&(f=O[0],c=setTimeout(function(){c=null},h)),rc(this),U.start())}}function N(_,...F){if(this.__zooming){var k=Z(this,F).event(_),Q=_.changedTouches,U=Q.length,ne,ee,pe,O;for(Ys(_),ne=0;ne<U;++ne)ee=Q[ne],pe=lo(ee,this),k.touch0&&k.touch0[2]===ee.identifier?k.touch0[0]=pe:k.touch1&&k.touch1[2]===ee.identifier&&(k.touch1[0]=pe);if(ee=k.that.__zoom,k.touch1){var W=k.touch0[0],C=k.touch0[1],D=k.touch1[0],G=k.touch1[1],K=(K=D[0]-W[0])*K+(K=D[1]-W[1])*K,te=(te=G[0]-C[0])*te+(te=G[1]-C[1])*te;ee=S(ee,Math.sqrt(K/te)),pe=[(W[0]+D[0])/2,(W[1]+D[1])/2],O=[(C[0]+G[0])/2,(C[1]+G[1])/2]}else if(k.touch0)pe=k.touch0[0],O=k.touch0[1];else return;k.zoom("touch",n(A(ee,pe,O),k.extent,a))}}function V(_,...F){if(this.__zooming){var k=Z(this,F).event(_),Q=_.changedTouches,U=Q.length,ne,ee;for(ff(_),p&&clearTimeout(p),p=setTimeout(function(){p=null},h),ne=0;ne<U;++ne)ee=Q[ne],k.touch0&&k.touch0[2]===ee.identifier?delete k.touch0:k.touch1&&k.touch1[2]===ee.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(ee=lo(ee,this),Math.hypot(f[0]-ee[0],f[1]-ee[1])<w)){var pe=zr(this).on("dblclick.zoom");pe&&pe.apply(this,arguments)}}}return y.wheelDelta=function(_){return arguments.length?(r=typeof _=="function"?_:ql(+_),y):r},y.filter=function(_){return arguments.length?(e=typeof _=="function"?_:ql(!!_),y):e},y.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:ql(!!_),y):o},y.extent=function(_){return arguments.length?(t=typeof _=="function"?_:ql([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),y):t},y.scaleExtent=function(_){return arguments.length?(i[0]=+_[0],i[1]=+_[1],y):[i[0],i[1]]},y.translateExtent=function(_){return arguments.length?(a[0][0]=+_[0][0],a[1][0]=+_[1][0],a[0][1]=+_[0][1],a[1][1]=+_[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(_){return arguments.length?(n=_,y):n},y.duration=function(_){return arguments.length?(s=+_,y):s},y.interpolate=function(_){return arguments.length?(u=_,y):u},y.on=function(){var _=l.on.apply(l,arguments);return _===l?y:_},y.clickDistance=function(_){return arguments.length?(b=(_=+_)*_,y):Math.sqrt(b)},y.tapDistance=function(_){return arguments.length?(w=+_,y):w},y}var et=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(et||{}),tm=(e=>(e.Partial="partial",e.Full="full",e))(tm||{}),Ui=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Ui||{}),xi=(e=>(e.Strict="strict",e.Loose="loose",e))(xi||{}),_0=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(_0||{}),hu=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(hu||{}),tx=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(tx||{});const TP=["INPUT","SELECT","TEXTAREA"],MP=typeof document<"u"?document:null;function w0(e){var t,n;const r=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,o=typeof(r==null?void 0:r.hasAttribute)=="function"?r.hasAttribute("contenteditable"):!1,i=typeof(r==null?void 0:r.closest)=="function"?r.closest(".nokey"):null;return TP.includes(r==null?void 0:r.nodeName)||o||!!i}function DP(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function k2(e,t,n,r){const o=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(a=>a.trim().toLowerCase());if(o.length===1)return e.toLowerCase()===t.toLowerCase();r||n.add(e.toLowerCase());const i=o.every((a,s)=>n.has(a)&&Array.from(n.values())[s]===o[s]);return r&&n.delete(e.toLowerCase()),i}function FP(e,t){return n=>{if(!n.code&&!n.key)return!1;const r=jP(n.code,e);return Array.isArray(e)?e.some(o=>k2(n[r],o,t,n.type==="keyup")):k2(n[r],e,t,n.type==="keyup")}}function jP(e,t){return t.includes(e)?"code":"key"}function pu(e,t){const n=Qe(()=>At(t==null?void 0:t.target)??MP),r=fc(At(e)===!0);let o=!1;const i=new Set;let a=u(At(e));kt(()=>At(e),(l,c)=>{typeof c=="boolean"&&typeof l!="boolean"&&s(),a=u(l)},{immediate:!0}),P4(["blur","contextmenu"],s),p2((...l)=>a(...l),l=>{var c,f;const p=At(t==null?void 0:t.actInsideInputWithModifier)??!0,h=At(t==null?void 0:t.preventDefault)??!1;if(o=DP(l),(!o||o&&!p)&&w0(l))return;const b=((f=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:f[0])||l.target,w=(b==null?void 0:b.nodeName)==="BUTTON"||(b==null?void 0:b.nodeName)==="A";!h&&(o||!w)&&l.preventDefault(),r.value=!0},{eventName:"keydown",target:n}),p2((...l)=>a(...l),l=>{const c=At(t==null?void 0:t.actInsideInputWithModifier)??!0;if(r.value){if((!o||o&&!c)&&w0(l))return;o=!1,r.value=!1}},{eventName:"keyup",target:n});function s(){o=!1,i.clear(),r.value=At(e)===!0}function u(l){return l===null?(s(),()=>!1):typeof l=="boolean"?(s(),r.value=l,()=>!1):Array.isArray(l)||typeof l=="string"?FP(l,i):l}return r}const nx="vue-flow__node-desc",rx="vue-flow__edge-desc",$P="vue-flow__aria-live",ox=["Enter"," ","Escape"],Qa={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function _c(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function wc(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)}function Bc(e){return{width:e.offsetWidth,height:e.offsetHeight}}function na(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function ix(e,t){return{x:na(e.x,t[0][0],t[1][0]),y:na(e.y,t[0][1],t[1][1])}}function R2(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Si(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Zi(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Si(e)}function iu(e){return Zi(e)&&"computedPosition"in e}function Tl(e){return!Number.isNaN(e)&&Number.isFinite(e)}function BP(e){return Tl(e.width)&&Tl(e.height)&&Tl(e.x)&&Tl(e.y)}function zP(e,t,n){const r={id:e.id.toString(),type:e.type??"default",dimensions:du({width:0,height:0}),computedPosition:du({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:yn(e.data)?e.data:{},events:du(yn(e.events)?e.events:{})};return Object.assign(t??r,e,{id:e.id.toString(),parentNode:n})}function ax(e,t,n){var r,o;const i={id:e.id.toString(),type:e.type??(t==null?void 0:t.type)??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(r=e.sourceHandle)==null?void 0:r.toString(),targetHandle:(o=e.targetHandle)==null?void 0:o.toString(),updatable:e.updatable??(n==null?void 0:n.updatable),selectable:e.selectable??(n==null?void 0:n.selectable),focusable:e.focusable??(n==null?void 0:n.focusable),data:yn(e.data)?e.data:{},events:du(yn(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??(n==null?void 0:n.interactionWidth),...n??{}};return Object.assign(t??i,e,{id:e.id.toString()})}function sx(e,t,n,r){const o=typeof e=="string"?e:e.id,i=new Set,a=r==="source"?"target":"source";for(const s of n)s[a]===o&&i.add(s[r]);return t.filter(s=>i.has(s.id))}function GP(...e){if(e.length===3){const[i,a,s]=e;return sx(i,a,s,"target")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(i=>Si(i)&&i.source===r).map(i=>n.find(a=>Zi(a)&&a.id===i.target))}function UP(...e){if(e.length===3){const[i,a,s]=e;return sx(i,a,s,"source")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(i=>Si(i)&&i.target===r).map(i=>n.find(a=>Zi(a)&&a.id===i.source))}function ux({source:e,sourceHandle:t,target:n,targetHandle:r}){return`vueflow__edge-${e}${t??""}-${n}${r??""}`}function VP(e,t){return t.some(n=>Si(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function x0({x:e,y:t},{x:n,y:r,zoom:o}){return{x:e*o+n,y:t*o+r}}function _u({x:e,y:t},{x:n,y:r,zoom:o},i=!1,a=[1,1]){const s={x:(e-n)/o,y:(t-r)/o};return i?zc(s,a):s}function lx(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function xc({x:e,y:t,width:n,height:r}){return{x:e,y:t,x2:e+n,y2:t+r}}function cx({x:e,y:t,x2:n,y2:r}){return{x:e,y:t,width:n-e,height:r-t}}function HP(e,t){return cx(lx(xc(e),xc(t)))}function nm(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const r=e[n];t=lx(t,xc({...r.computedPosition,...r.dimensions}))}return cx(t)}function dx(e,t,n={x:0,y:0,zoom:1},r=!1,o=!1){const i={..._u(t,n),width:t.width/n.zoom,height:t.height/n.zoom},a=[];for(const s of e){const{dimensions:u,selectable:l=!0,hidden:c=!1}=s,f=u.width??s.width??null,p=u.height??s.height??null;if(o&&!l||c)continue;const h=wc(i,_c(s)),g=f===null||p===null,b=r&&h>0,w=(f??0)*(p??0);(g||b||h>=w||s.dragging)&&a.push(s)}return a}function Vi(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const r of e)n.add(r.id);return t.filter(r=>n.has(r.source)||n.has(r.target))}function q2(e,t,n,r,o,i=.1,a={x:0,y:0}){const s=t/(e.width*(1+i)),u=n/(e.height*(1+i)),l=Math.min(s,u),c=na(l,r,o),f=e.x+e.width/2,p=e.y+e.height/2,h=t/2-f*c+(a.x??0),g=n/2-p*c+(a.y??0);return{x:h,y:g,zoom:c}}function WP(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function fx(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:fx(n,t):!1}function wu(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`}function T2(e,t,n){return e<t?na(Math.abs(e-t),1,t)/t:e>n?-na(Math.abs(e-n),1,t)/t:0}function hx(e,t,n=15,r=40){const o=T2(e.x,r,t.width-r)*n,i=T2(e.y,r,t.height-r)*n;return[o,i]}function hf(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,r=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||r>0||e.position.x<0||e.position.y<0){let o={};if(typeof t.style=="function"?o={...t.style(t)}:t.style&&(o={...t.style}),o.width=o.width??`${t.dimensions.width}px`,o.height=o.height??`${t.dimensions.height}px`,n>0)if(typeof o.width=="string"){const i=Number(o.width.replace("px",""));o.width=`${i+n}px`}else o.width+=n;if(r>0)if(typeof o.height=="string"){const i=Number(o.height.replace("px",""));o.height=`${i+r}px`}else o.height+=r;if(e.position.x<0){const i=Math.abs(e.position.x);if(t.position.x=t.position.x-i,typeof o.width=="string"){const a=Number(o.width.replace("px",""));o.width=`${a+i}px`}else o.width+=i;e.position.x=0}if(e.position.y<0){const i=Math.abs(e.position.y);if(t.position.y=t.position.y-i,typeof o.height=="string"){const a=Number(o.height.replace("px",""));o.height=`${a+i}px`}else o.height+=i;e.position.y=0}t.dimensions.width=Number(o.width.toString().replace("px","")),t.dimensions.height=Number(o.height.toString().replace("px","")),typeof t.style=="function"?t.style=i=>{const a=t.style;return{...a(i),...o}}:t.style={...t.style,...o}}}}function M2(e,t){var n,r;const o=e.filter(a=>a.type==="add"||a.type==="remove");for(const a of o)if(a.type==="add")t.findIndex(u=>u.id===a.item.id)===-1&&t.push(a.item);else if(a.type==="remove"){const s=t.findIndex(u=>u.id===a.id);s!==-1&&t.splice(s,1)}const i=t.map(a=>a.id);for(const a of t)for(const s of e)if(s.id===a.id)switch(s.type){case"select":a.selected=s.selected;break;case"position":if(iu(a)&&(typeof s.position<"u"&&(a.position=s.position),typeof s.dragging<"u"&&(a.dragging=s.dragging),a.expandParent&&a.parentNode)){const u=t[i.indexOf(a.parentNode)];u&&iu(u)&&hf(a,u)}break;case"dimensions":if(iu(a)&&(typeof s.dimensions<"u"&&(a.dimensions=s.dimensions),typeof s.updateStyle<"u"&&s.updateStyle&&(a.style={...a.style||{},width:`${(n=s.dimensions)==null?void 0:n.width}px`,height:`${(r=s.dimensions)==null?void 0:r.height}px`}),typeof s.resizing<"u"&&(a.resizing=s.resizing),a.expandParent&&a.parentNode)){const u=t[i.indexOf(a.parentNode)];u&&iu(u)&&(!!u.dimensions.width&&!!u.dimensions.height?hf(a,u):Bo(()=>{hf(a,u)}))}break}return t}function fi(e,t){return{id:e,type:"select",selected:t}}function D2(e){return{item:e,type:"add"}}function F2(e){return{id:e,type:"remove"}}function j2(e,t,n,r,o){return{id:e,source:t,target:n,sourceHandle:r||null,targetHandle:o||null,type:"remove"}}function pi(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const a=t.has(o);!(i.selected===void 0&&!a)&&i.selected!==a&&(n&&(i.selected=a),r.push(fi(i.id,a)))}return r}function Xe(e){const t=new Set;let n=!1;const r=()=>t.size>0;e&&(n=!0,t.add(e));const o=s=>{t.delete(s)};return{on:s=>{e&&n&&t.delete(e),t.add(s);const u=()=>{o(s),e&&n&&t.add(e)};return Mc(u),{off:u}},off:o,trigger:s=>Promise.all(Array.from(t).map(u=>u(s))),hasListeners:r,fns:t}}function $2(e,t,n){let r=e;do{if(r&&r.matches(t))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function YP(e,t,n,r,o){var i,a;const s=[];for(const u of e)(u.selected||u.id===o)&&(!u.parentNode||!fx(u,r))&&(u.draggable||t&&typeof u.draggable>"u")&&s.push(du({id:u.id,position:u.position||{x:0,y:0},distance:{x:n.x-((i=u.computedPosition)==null?void 0:i.x)||0,y:n.y-((a=u.computedPosition)==null?void 0:a.y)||0},from:u.computedPosition,extent:u.extent,parentNode:u.parentNode,dimensions:u.dimensions,expandParent:u.expandParent}));return s}function pf({id:e,dragItems:t,findNode:n}){const r=[];for(const o of t){const i=n(o.id);i&&r.push(i)}return[e?r.find(o=>o.id===e):r[0],r]}function px(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function XP(e,t,n){const[r,o,i,a]=typeof e!="string"?px(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+a,n.computedPosition.y+r],[n.computedPosition.x+n.dimensions.width-o,n.computedPosition.y+n.dimensions.height-i]]:!1}function KP(e,t,n,r){let o=e.extent||n;if((o==="parent"||!Array.isArray(o)&&(o==null?void 0:o.range)==="parent")&&!e.expandParent)if(e.parentNode&&r&&e.dimensions.width&&e.dimensions.height){const i=XP(o,e,r);i&&(o=i)}else t(new Nn(bn.NODE_EXTENT_INVALID,e.id)),o=n;else if(Array.isArray(o)){const i=(r==null?void 0:r.computedPosition.x)||0,a=(r==null?void 0:r.computedPosition.y)||0;o=[[o[0][0]+i,o[0][1]+a],[o[1][0]+i,o[1][1]+a]]}else if(o!=="parent"&&(o!=null&&o.range)&&Array.isArray(o.range)){const[i,a,s,u]=px(o.padding),l=(r==null?void 0:r.computedPosition.x)||0,c=(r==null?void 0:r.computedPosition.y)||0;o=[[o.range[0][0]+l+u,o.range[0][1]+c+i],[o.range[1][0]+l-a,o.range[1][1]+c-s]]}return o==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:o}function ZP({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function rm(e,t,n,r,o){const i=ZP(e.dimensions,KP(e,n,r,o)),a=ix(t,i);return{position:{x:a.x-((o==null?void 0:o.computedPosition.x)||0),y:a.y-((o==null?void 0:o.computedPosition.y)||0)},computedPosition:a}}function us(e,t,n=et.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.computedPosition.x,i=((t==null?void 0:t.y)??0)+e.computedPosition.y,{width:a,height:s}=t??t7(e);if(r)return{x:o+a/2,y:i+s/2};switch((t==null?void 0:t.position)??n){case et.Top:return{x:o+a/2,y:i};case et.Right:return{x:o+a,y:i+s/2};case et.Bottom:return{x:o+a/2,y:i+s};case et.Left:return{x:o,y:i+s/2}}}function B2(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function JP({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:a,height:s,viewport:u}){const l={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const c=xc({x:(0-u.x)/u.zoom,y:(0-u.y)/u.zoom,width:a/u.zoom,height:s/u.zoom}),f=Math.max(0,Math.min(c.x2,l.x2)-Math.max(c.x,l.x)),p=Math.max(0,Math.min(c.y2,l.y2)-Math.max(c.y,l.y));return Math.ceil(f*p)>0}function QP(e,t,n=!1){const r=typeof e.zIndex=="number";let o=r?e.zIndex:0;const i=t(e.source),a=t(e.target);return!i||!a?0:(n&&(o=r?e.zIndex:Math.max(i.computedPosition.z||0,a.computedPosition.z||0)),o)}var bn=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(bn||{});const z2={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Nn extends Error{constructor(t,...n){var r;super((r=z2[t])==null?void 0:r.call(z2,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function om(e){return"clientX"in e}function e7(e){return"sourceEvent"in e}function ho(e,t){const n=om(e);let r,o;return n?(r=e.clientX,o=e.clientY):"touches"in e&&e.touches.length>0?(r=e.touches[0].clientX,o=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(r=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY):(r=0,o=0),{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}}const Sc=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function t7(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function zc(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const n7=()=>!0;function vf(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function r7(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())wc(o,_c(i))>0&&r.push(i);return r}const o7=250;function i7(e,t,n,r){var o,i;let a=[],s=Number.POSITIVE_INFINITY;const u=r7(e,n,t+o7);for(const l of u){const c=[...((o=l.handleBounds)==null?void 0:o.source)??[],...((i=l.handleBounds)==null?void 0:i.target)??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:p,y:h}=us(l,f,f.position,!0),g=Math.sqrt((p-e.x)**2+(h-e.y)**2);g>t||(g<s?(a=[{...f,x:p,y:h}],s=g):g===s&&a.push({...f,x:p,y:h}))}}if(!a.length)return null;if(a.length>1){const l=r.type==="source"?"target":"source";return a.find(c=>c.type===l)??a[0]}return a[0]}function G2(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:a,lib:s,flowId:u,isValidConnection:l=n7},c,f,p){const h=i==="target",g=t?a.querySelector(`.${s}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:b,y:w}=ho(e),y=a.elementFromPoint(b,w),S=y!=null&&y.classList.contains(`${s}-flow__handle`)?y:g,A={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const L=vx(void 0,S),j=S.getAttribute("data-nodeid"),Z=S.getAttribute("data-handleid"),M=S.classList.contains("connectable"),I=S.classList.contains("connectableend");if(!j||!L)return A;const X={source:h?j:r,sourceHandle:h?Z:o,target:h?r:j,targetHandle:h?o:Z};A.connection=X;const P=M&&I&&(n===xi.Strict?h&&L==="source"||!h&&L==="target":j!==r||Z!==o);A.isValid=P&&l(X,{nodes:f,edges:c,sourceNode:p(r),targetNode:p(j)}),A.toHandle=t}return A}function vx(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function a7(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function s7(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function u7(e,t,n,r,o,i=!1){var a,s,u;const l=r.get(e);if(!l)return null;const c=o===xi.Strict?(a=l.handleBounds)==null?void 0:a[t]:[...((s=l.handleBounds)==null?void 0:s.source)??[],...((u=l.handleBounds)==null?void 0:u.target)??[]],f=(n?c==null?void 0:c.find(p=>p.id===n):c==null?void 0:c[0])??null;return f&&i?{...f,...us(l,f,f.position,!0)}:f}const S0={[et.Left]:et.Right,[et.Right]:et.Left,[et.Top]:et.Bottom,[et.Bottom]:et.Top},l7=["production","prod"];function Gc(e,...t){gx()&&console.warn(`[Vue Flow]: ${e}`,...t)}function gx(){return!l7.includes("production")}function U2(e,t,n,r,o){const i=t.querySelectorAll(`.vue-flow__handle.${e}`);return i!=null&&i.length?Array.from(i).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:o,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...Bc(a)}}):null}function A0(e,t,n,r,o,i=!1,a){o.value=!1,e.selected?(i||e.selected&&t)&&(r([e]),Bo(()=>{a.blur()})):n([e])}function yn(e){return typeof Ne(e)<"u"}function c7(e,t,n,r){if(!e||!e.source||!e.target)return n(new Nn(bn.EDGE_INVALID,(e==null?void 0:e.id)??"[ID UNKNOWN]")),!1;let o;return Si(e)?o=e:o={...e,id:ux(e)},o=ax(o,void 0,r),VP(o,t)?!1:o}function d7(e,t,n,r,o){if(!t.source||!t.target)return o(new Nn(bn.EDGE_INVALID,e.id)),!1;if(!n)return o(new Nn(bn.EDGE_NOT_FOUND,e.id)),!1;const{id:i,...a}=e;return{...a,id:r?ux(t):i,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function V2(e,t,n){const r={},o=[];for(let i=0;i<e.length;++i){const a=e[i];if(!Zi(a)){n(new Nn(bn.NODE_INVALID,a==null?void 0:a.id)||`[ID UNKNOWN|INDEX ${i}]`);continue}const s=zP(a,t(a.id),a.parentNode);a.parentNode&&(r[a.parentNode]=!0),o[i]=s}for(const i of o){const a=t(i.parentNode)||o.find(s=>s.id===i.parentNode);i.parentNode&&!a&&n(new Nn(bn.NODE_MISSING_PARENT,i.id,i.parentNode)),(i.parentNode||r[i.id])&&(r[i.id]&&(i.isParent=!0),a&&(a.isParent=!0))}return o}function H2(e,t,n,r,o,i){let a=o;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${o}-${e}`;const u=r.get(a)||new Map;if(r.set(a,u.set(n,t)),i){a=`${o}-${e}-${i}`;const l=r.get(a)||new Map;r.set(a,l.set(n,t))}}function gf(e,t,n){e.clear();for(const r of n){const{source:o,target:i,sourceHandle:a=null,targetHandle:s=null}=r,u={edgeId:r.id,source:o,target:i,sourceHandle:a,targetHandle:s},l=`${o}-${a}--${i}-${s}`,c=`${i}-${s}--${o}-${a}`;H2("source",u,c,e,o,a),H2("target",u,l,e,i,s)}}function W2(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function mf(e,t,n,r,o,i,a,s){const u=[];for(const l of e){const c=Si(l)?l:c7(l,s,o,i);if(!c)continue;const f=n(c.source),p=n(c.target);if(!f||!p){o(new Nn(bn.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!f){o(new Nn(bn.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!p){o(new Nn(bn.EDGE_TARGET_MISSING,c.id,c.target));continue}if(t&&!t(c,{edges:s,nodes:a,sourceNode:f,targetNode:p})){o(new Nn(bn.EDGE_INVALID,c.id));continue}const h=r(c.id);u.push({...ax(c,h,i),sourceNode:f,targetNode:p})}return u}const Y2=Symbol("vueFlow"),mx=Symbol("nodeId"),yx=Symbol("nodeRef"),f7=Symbol("edgeId"),h7=Symbol("edgeRef"),Uc=Symbol("slots");function bx(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:r,noDragClassName:o,nodes:i,nodeExtent:a,nodeDragThreshold:s,viewport:u,autoPanOnNodeDrag:l,autoPanSpeed:c,nodesDraggable:f,panBy:p,findNode:h,multiSelectionActive:g,nodesSelectionActive:b,selectNodesOnDrag:w,removeSelectedElements:y,addSelectedNodes:S,updateNodePositions:A,emits:L}=ut(),{onStart:j,onDrag:Z,onStop:M,onClick:I,el:X,disabled:H,id:P,selectable:N,dragHandle:V}=e,_=fc(!1);let F=[],k,Q=null,U={x:void 0,y:void 0},ne={x:0,y:0},ee=null,pe=!1,O=0,W=!1;const C=g7(),D=({x:we,y:ke})=>{U={x:we,y:ke};let _e=!1;if(F=F.map(ae=>{const B={x:we-ae.distance.x,y:ke-ae.distance.y},{computedPosition:R}=rm(ae,n.value?zc(B,r.value):B,L.error,a.value,ae.parentNode?h(ae.parentNode):void 0);return _e=_e||ae.position.x!==R.x||ae.position.y!==R.y,ae.position=R,ae}),!!_e&&(A(F,!0,!0),_.value=!0,ee)){const[ae,B]=pf({id:P,dragItems:F,findNode:h});Z({event:ee,node:ae,nodes:B})}},G=()=>{if(!Q)return;const[we,ke]=hx(ne,Q,c.value);if(we!==0||ke!==0){const _e={x:(U.x??0)-we/u.value.zoom,y:(U.y??0)-ke/u.value.zoom};p({x:we,y:ke})&&D(_e)}O=requestAnimationFrame(G)},K=(we,ke)=>{pe=!0;const _e=h(P);!w.value&&!g.value&&_e&&(_e.selected||y()),_e&&At(N)&&w.value&&A0(_e,g.value,S,y,b,!1,ke);const ae=C(we.sourceEvent);if(U=ae,F=YP(i.value,f.value,ae,h,P),F.length){const[B,R]=pf({id:P,dragItems:F,findNode:h});j({event:we.sourceEvent,node:B,nodes:R})}},te=(we,ke)=>{var _e;we.sourceEvent.type==="touchmove"&&we.sourceEvent.touches.length>1||(s.value===0&&K(we,ke),U=C(we.sourceEvent),Q=((_e=t.value)==null?void 0:_e.getBoundingClientRect())||null,ne=ho(we.sourceEvent,Q))},ce=(we,ke)=>{const _e=C(we.sourceEvent);if(!W&&pe&&l.value&&(W=!0,G()),!pe){const ae=_e.xSnapped-(U.x??0),B=_e.ySnapped-(U.y??0);Math.sqrt(ae*ae+B*B)>s.value&&K(we,ke)}(U.x!==_e.xSnapped||U.y!==_e.ySnapped)&&F.length&&pe&&(ee=we.sourceEvent,ne=ho(we.sourceEvent,Q),D(_e))},Ee=we=>{let ke=!1;if(!pe&&!_.value&&!g.value){const _e=we.sourceEvent,ae=C(_e),B=ae.xSnapped-(U.x??0),R=ae.ySnapped-(U.y??0),oe=Math.sqrt(B*B+R*R);oe!==0&&oe<=s.value&&(I==null||I(_e),ke=!0)}if(F.length&&!ke){A(F,!1,!1);const[_e,ae]=pf({id:P,dragItems:F,findNode:h});M({event:we.sourceEvent,node:_e,nodes:ae})}F=[],_.value=!1,W=!1,pe=!1,U={x:void 0,y:void 0},cancelAnimationFrame(O)};return kt([()=>At(H),X],([we,ke],_e,ae)=>{if(ke){const B=zr(ke);we||(k=BE().on("start",R=>te(R,ke)).on("drag",R=>ce(R,ke)).on("end",R=>Ee(R)).filter(R=>{const oe=R.target,me=At(V);return!R.button&&(!o.value||!$2(oe,`.${o.value}`,ke)&&(!me||$2(oe,me,ke)))}),B.call(k)),ae(()=>{B.on(".drag",null),k&&(k.on("start",null),k.on("drag",null),k.on("end",null))})}}),_}function p7(){return{doubleClick:Xe(),click:Xe(),mouseEnter:Xe(),mouseMove:Xe(),mouseLeave:Xe(),contextMenu:Xe(),updateStart:Xe(),update:Xe(),updateEnd:Xe()}}function v7(e,t){const n=p7();return n.doubleClick.on(r=>{var o,i;t.edgeDoubleClick(r),(i=(o=e.events)==null?void 0:o.doubleClick)==null||i.call(o,r)}),n.click.on(r=>{var o,i;t.edgeClick(r),(i=(o=e.events)==null?void 0:o.click)==null||i.call(o,r)}),n.mouseEnter.on(r=>{var o,i;t.edgeMouseEnter(r),(i=(o=e.events)==null?void 0:o.mouseEnter)==null||i.call(o,r)}),n.mouseMove.on(r=>{var o,i;t.edgeMouseMove(r),(i=(o=e.events)==null?void 0:o.mouseMove)==null||i.call(o,r)}),n.mouseLeave.on(r=>{var o,i;t.edgeMouseLeave(r),(i=(o=e.events)==null?void 0:o.mouseLeave)==null||i.call(o,r)}),n.contextMenu.on(r=>{var o,i;t.edgeContextMenu(r),(i=(o=e.events)==null?void 0:o.contextMenu)==null||i.call(o,r)}),n.updateStart.on(r=>{var o,i;t.edgeUpdateStart(r),(i=(o=e.events)==null?void 0:o.updateStart)==null||i.call(o,r)}),n.update.on(r=>{var o,i;t.edgeUpdate(r),(i=(o=e.events)==null?void 0:o.update)==null||i.call(o,r)}),n.updateEnd.on(r=>{var o,i;t.edgeUpdateEnd(r),(i=(o=e.events)==null?void 0:o.updateEnd)==null||i.call(o,r)}),Object.entries(n).reduce((r,[o,i])=>(r.emit[o]=i.trigger,r.on[o]=i.on,r),{emit:{},on:{}})}function g7(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:r}=ut();return o=>{var i;const a=((i=r.value)==null?void 0:i.getBoundingClientRect())??{left:0,top:0},s=e7(o)?o.sourceEvent:o,{x:u,y:l}=ho(s,a),c=_u({x:u,y:l},e.value),{x:f,y:p}=n.value?zc(c,t.value):c;return{xSnapped:f,ySnapped:p,...c}}}function Ml(){return!0}function _x({handleId:e,nodeId:t,type:n,isValidConnection:r,edgeUpdaterType:o,onEdgeUpdate:i,onEdgeUpdateEnd:a}){const{id:s,vueFlowRef:u,connectionMode:l,connectionRadius:c,connectOnClick:f,connectionClickStartHandle:p,nodesConnectable:h,autoPanOnConnect:g,autoPanSpeed:b,findNode:w,panBy:y,startConnection:S,updateConnection:A,endConnection:L,emits:j,viewport:Z,edges:M,nodes:I,isValidConnection:X,nodeLookup:H}=ut();let P=null,N=!1,V=null;function _(k){var Q;const U=At(n)==="target",ne=om(k),ee=R2(k.target);if(ne&&k.button===0||!ne){let pe=function(Ce){ae=ho(Ce,we),D=i7(_u(ae,Z.value,!1,[1,1]),c.value,H.value,oe),B||(R(),B=!0);const De=G2(Ce,{handle:D,connectionMode:l.value,fromNodeId:At(t),fromHandleId:At(e),fromType:U?"target":"source",isValidConnection:C,doc:ee,lib:"vue",flowId:s,nodeLookup:H.value},M.value,I.value,w);V=De.handleDomNode,P=De.connection,N=s7(!!D,De.isValid);const ze={...Ie,isValid:N,to:De.toHandle&&N?x0({x:De.toHandle.x,y:De.toHandle.y},Z.value):ae,toHandle:De.toHandle,toPosition:N&&De.toHandle?De.toHandle.position:S0[oe.position],toNode:De.toHandle?H.value.get(De.toHandle.nodeId):null};if(!(N&&D&&(Ie!=null&&Ie.toHandle)&&ze.toHandle&&Ie.toHandle.type===ze.toHandle.type&&Ie.toHandle.nodeId===ze.toHandle.nodeId&&Ie.toHandle.id===ze.toHandle.id&&Ie.to.x===ze.to.x&&Ie.to.y===ze.to.y)){if(A(D&&N?x0({x:D.x,y:D.y},Z.value):ae,De.toHandle,a7(!!D,N)),Ie=ze,!D&&!N&&!V)return vf(_e);P&&P.source!==P.target&&V&&(vf(_e),_e=V,V.classList.add("connecting","vue-flow__handle-connecting"),V.classList.toggle("valid",!!N),V.classList.toggle("vue-flow__handle-valid",!!N))}},O=function(Ce){(D||V)&&P&&N&&(i?i(Ce,P):j.connect(P)),j.connectEnd(Ce),o&&(a==null||a(Ce)),vf(_e),cancelAnimationFrame(G),L(Ce),B=!1,N=!1,P=null,V=null,ee.removeEventListener("mousemove",pe),ee.removeEventListener("mouseup",O),ee.removeEventListener("touchmove",pe),ee.removeEventListener("touchend",O)};const W=w(At(t));let C=At(r)||X.value||Ml;!C&&W&&(C=(U?W.isValidSourcePos:W.isValidTargetPos)||Ml);let D,G=0;const{x:K,y:te}=ho(k),ce=ee==null?void 0:ee.elementFromPoint(K,te),Ee=vx(At(o),ce),we=(Q=u.value)==null?void 0:Q.getBoundingClientRect();if(!we||!Ee)return;const ke=u7(At(t),Ee,At(e),H.value,l.value);if(!ke)return;let _e,ae=ho(k,we),B=!1;const R=()=>{if(!g.value)return;const[Ce,De]=hx(ae,we,b.value);y({x:Ce,y:De}),G=requestAnimationFrame(R)},oe={...ke,nodeId:At(t),type:Ee,position:ke.position},me=H.value.get(At(t)),Pe={inProgress:!0,isValid:null,from:us(me,oe,et.Left,!0),fromHandle:oe,fromPosition:oe.position,fromNode:me,to:ae,toHandle:null,toPosition:S0[oe.position],toNode:null};S({nodeId:At(t),id:At(e),type:Ee,position:(ce==null?void 0:ce.getAttribute("data-handlepos"))||et.Top,...ae},{x:K-we.left,y:te-we.top}),j.connectStart({event:k,nodeId:At(t),handleId:At(e),handleType:Ee});let Ie=Pe;ee.addEventListener("mousemove",pe),ee.addEventListener("mouseup",O),ee.addEventListener("touchmove",pe),ee.addEventListener("touchend",O)}}function F(k){var Q,U;if(!f.value)return;const ne=At(n)==="target";if(!p.value){j.clickConnectStart({event:k,nodeId:At(t),handleId:At(e)}),S({nodeId:At(t),type:At(n),id:At(e),position:et.Top,...ho(k)},void 0,!0);return}let ee=At(r)||X.value||Ml;const pe=w(At(t));if(!ee&&pe&&(ee=(ne?pe.isValidSourcePos:pe.isValidTargetPos)||Ml),pe&&(typeof pe.connectable>"u"?h.value:pe.connectable)===!1)return;const O=R2(k.target),W=G2(k,{handle:{nodeId:At(t),id:At(e),type:At(n),position:et.Top,...ho(k)},connectionMode:l.value,fromNodeId:p.value.nodeId,fromHandleId:p.value.id??null,fromType:p.value.type,isValidConnection:ee,doc:O,lib:"vue",flowId:s,nodeLookup:H.value},M.value,I.value,w),C=((Q=W.connection)==null?void 0:Q.source)===((U=W.connection)==null?void 0:U.target);W.isValid&&W.connection&&!C&&j.connect(W.connection),j.clickConnectEnd(k),L(k,!0)}return{handlePointerDown:_,handleClick:F}}function m7(){return Ht(mx,"")}function wx(e){const t=e??m7()??"",n=Ht(yx,Ue(null)),{findNode:r,edges:o,emits:i}=ut(),a=r(t);return a||i.error(new Nn(bn.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:a,parentNode:Qe(()=>r(a.parentNode)),connectedEdges:Qe(()=>Vi([a],o.value))}}function y7(){return{doubleClick:Xe(),click:Xe(),mouseEnter:Xe(),mouseMove:Xe(),mouseLeave:Xe(),contextMenu:Xe(),dragStart:Xe(),drag:Xe(),dragStop:Xe()}}function b7(e,t){const n=y7();return n.doubleClick.on(r=>{var o,i;t.nodeDoubleClick(r),(i=(o=e.events)==null?void 0:o.doubleClick)==null||i.call(o,r)}),n.click.on(r=>{var o,i;t.nodeClick(r),(i=(o=e.events)==null?void 0:o.click)==null||i.call(o,r)}),n.mouseEnter.on(r=>{var o,i;t.nodeMouseEnter(r),(i=(o=e.events)==null?void 0:o.mouseEnter)==null||i.call(o,r)}),n.mouseMove.on(r=>{var o,i;t.nodeMouseMove(r),(i=(o=e.events)==null?void 0:o.mouseMove)==null||i.call(o,r)}),n.mouseLeave.on(r=>{var o,i;t.nodeMouseLeave(r),(i=(o=e.events)==null?void 0:o.mouseLeave)==null||i.call(o,r)}),n.contextMenu.on(r=>{var o,i;t.nodeContextMenu(r),(i=(o=e.events)==null?void 0:o.contextMenu)==null||i.call(o,r)}),n.dragStart.on(r=>{var o,i;t.nodeDragStart(r),(i=(o=e.events)==null?void 0:o.dragStart)==null||i.call(o,r)}),n.drag.on(r=>{var o,i;t.nodeDrag(r),(i=(o=e.events)==null?void 0:o.drag)==null||i.call(o,r)}),n.dragStop.on(r=>{var o,i;t.nodeDragStop(r),(i=(o=e.events)==null?void 0:o.dragStop)==null||i.call(o,r)}),Object.entries(n).reduce((r,[o,i])=>(r.emit[o]=i.trigger,r.on[o]=i.on,r),{emit:{},on:{}})}function xx(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:r,snapGrid:o,snapToGrid:i,nodesDraggable:a,emits:s}=ut();return(u,l=!1)=>{const c=i.value?o.value[0]:5,f=i.value?o.value[1]:5,p=l?4:1,h=u.x*c*p,g=u.y*f*p,b=[];for(const w of e.value)if(w.draggable||a&&typeof w.draggable>"u"){const y={x:w.computedPosition.x+h,y:w.computedPosition.y+g},{computedPosition:S}=rm(w,y,s.error,t.value,w.parentNode?r(w.parentNode):void 0);b.push({id:w.id,position:S,from:w.position,distance:{x:u.x,y:u.y},dimensions:w.dimensions})}n(b,!0,!1)}}const yf=.1,_7=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function si(){return Gc("Viewport not initialized yet."),Promise.resolve(!1)}const w7={zoomIn:si,zoomOut:si,zoomTo:si,fitView:si,setCenter:si,fitBounds:si,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:si,setTransform:si,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function x7(e){function t(r,o){return new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((o==null?void 0:o.interpolate)==="linear"?fu:ec).scaleBy(bf(e.d3Selection,o==null?void 0:o.duration,o==null?void 0:o.ease,()=>{i(!0)}),r):i(!1)})}function n(r,o,i,a){return new Promise(s=>{var u;const{x:l,y:c}=ix({x:-r,y:-o},e.translateExtent),f=ss.translate(-l,-c).scale(i);e.d3Selection&&e.d3Zoom?(u=e.d3Zoom)==null||u.interpolate((a==null?void 0:a.interpolate)==="linear"?fu:ec).transform(bf(e.d3Selection,a==null?void 0:a.duration,a==null?void 0:a.ease,()=>{s(!0)}),f):s(!1)})}return Qe(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:o=>t(1.2,o),zoomOut:o=>t(1/1.2,o),zoomTo:(o,i)=>new Promise(a=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((i==null?void 0:i.interpolate)==="linear"?fu:ec).scaleTo(bf(e.d3Selection,i==null?void 0:i.duration,i==null?void 0:i.ease,()=>{a(!0)}),o):a(!1)}),setViewport:(o,i)=>n(o.x,o.y,o.zoom,i),setTransform:(o,i)=>n(o.x,o.y,o.zoom,i),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(o={padding:yf,includeHiddenNodes:!1,duration:0})=>{var i,a;const s=[];for(const p of e.nodes)p.dimensions.width&&p.dimensions.height&&((o==null?void 0:o.includeHiddenNodes)||!p.hidden)&&(!((i=o.nodes)!=null&&i.length)||(a=o.nodes)!=null&&a.length&&o.nodes.includes(p.id))&&s.push(p);if(!s.length)return Promise.resolve(!1);const u=nm(s),{x:l,y:c,zoom:f}=q2(u,e.dimensions.width,e.dimensions.height,o.minZoom??e.minZoom,o.maxZoom??e.maxZoom,o.padding??yf,o.offset);return n(l,c,f,o)},setCenter:(o,i,a)=>{const s=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:e.maxZoom,u=e.dimensions.width/2-o*s,l=e.dimensions.height/2-i*s;return n(u,l,s,a)},fitBounds:(o,i={padding:yf})=>{const{x:a,y:s,zoom:u}=q2(o,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,i.padding);return n(a,s,u,i)},project:o=>_u(o,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:o=>{if(e.vueFlowRef){const{x:i,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:o.x-i,y:o.y-a};return _u(s,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:o=>{if(e.vueFlowRef){const{x:i,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:o.x+i,y:o.y+a};return x0(s,e.viewport)}return{x:0,y:0}}}:w7)}function bf(e,t=0,n=_7,r=()=>{}){const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e}function S7(e,t,n){const r=_4(!0);return r.run(()=>{const o=()=>{r.run(()=>{let b,w,y=!!(n.nodes.value.length||n.edges.value.length);b=ja([e.modelValue,()=>{var S,A;return(A=(S=e.modelValue)==null?void 0:S.value)==null?void 0:A.length}],([S])=>{S&&Array.isArray(S)&&(w==null||w.pause(),n.setElements(S),!w&&!y&&S.length?y=!0:w==null||w.resume())}),w=ja([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([S,A])=>{var L;(L=e.modelValue)!=null&&L.value&&Array.isArray(e.modelValue.value)&&(b==null||b.pause(),e.modelValue.value=[...S,...A],Bo(()=>{b==null||b.resume()}))},{immediate:y}),Jl(()=>{b==null||b.stop(),w==null||w.stop()})})},i=()=>{r.run(()=>{let b,w,y=!!n.nodes.value.length;b=ja([e.nodes,()=>{var S,A;return(A=(S=e.nodes)==null?void 0:S.value)==null?void 0:A.length}],([S])=>{S&&Array.isArray(S)&&(w==null||w.pause(),n.setNodes(S),!w&&!y&&S.length?y=!0:w==null||w.resume())}),w=ja([n.nodes,()=>n.nodes.value.length],([S])=>{var A;(A=e.nodes)!=null&&A.value&&Array.isArray(e.nodes.value)&&(b==null||b.pause(),e.nodes.value=[...S],Bo(()=>{b==null||b.resume()}))},{immediate:y}),Jl(()=>{b==null||b.stop(),w==null||w.stop()})})},a=()=>{r.run(()=>{let b,w,y=!!n.edges.value.length;b=ja([e.edges,()=>{var S,A;return(A=(S=e.edges)==null?void 0:S.value)==null?void 0:A.length}],([S])=>{S&&Array.isArray(S)&&(w==null||w.pause(),n.setEdges(S),!w&&!y&&S.length?y=!0:w==null||w.resume())}),w=ja([n.edges,()=>n.edges.value.length],([S])=>{var A;(A=e.edges)!=null&&A.value&&Array.isArray(e.edges.value)&&(b==null||b.pause(),e.edges.value=[...S],Bo(()=>{b==null||b.resume()}))},{immediate:y}),Jl(()=>{b==null||b.stop(),w==null||w.stop()})})},s=()=>{r.run(()=>{kt(()=>t.maxZoom,()=>{t.maxZoom&&yn(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},u=()=>{r.run(()=>{kt(()=>t.minZoom,()=>{t.minZoom&&yn(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},l=()=>{r.run(()=>{kt(()=>t.translateExtent,()=>{t.translateExtent&&yn(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},c=()=>{r.run(()=>{kt(()=>t.nodeExtent,()=>{t.nodeExtent&&yn(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},f=()=>{r.run(()=>{kt(()=>t.applyDefault,()=>{yn(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},p=()=>{r.run(()=>{const b=async w=>{let y=w;typeof t.autoConnect=="function"&&(y=await t.autoConnect(w)),y!==!1&&n.addEdges([y])};kt(()=>t.autoConnect,()=>{yn(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),kt(n.autoConnect,(w,y,S)=>{w?n.onConnect(b):n.hooks.value.connect.off(b),S(()=>{n.hooks.value.connect.off(b)})},{immediate:!0})})},h=()=>{const b=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const w of Object.keys(t)){const y=w;if(!b.includes(y)){const S=Mt(()=>t[y]),A=n[y];W0(A)&&r.run(()=>{kt(S,L=>{yn(L)&&(A.value=L)},{immediate:!0})})}}};(()=>{o(),i(),a(),u(),s(),l(),c(),f(),p(),h()})()}),()=>r.stop()}function A7(){return{edgesChange:Xe(),nodesChange:Xe(),nodeDoubleClick:Xe(),nodeClick:Xe(),nodeMouseEnter:Xe(),nodeMouseMove:Xe(),nodeMouseLeave:Xe(),nodeContextMenu:Xe(),nodeDragStart:Xe(),nodeDrag:Xe(),nodeDragStop:Xe(),nodesInitialized:Xe(),miniMapNodeClick:Xe(),miniMapNodeDoubleClick:Xe(),miniMapNodeMouseEnter:Xe(),miniMapNodeMouseMove:Xe(),miniMapNodeMouseLeave:Xe(),connect:Xe(),connectStart:Xe(),connectEnd:Xe(),clickConnectStart:Xe(),clickConnectEnd:Xe(),paneReady:Xe(),init:Xe(),move:Xe(),moveStart:Xe(),moveEnd:Xe(),selectionDragStart:Xe(),selectionDrag:Xe(),selectionDragStop:Xe(),selectionContextMenu:Xe(),selectionStart:Xe(),selectionEnd:Xe(),viewportChangeStart:Xe(),viewportChange:Xe(),viewportChangeEnd:Xe(),paneScroll:Xe(),paneClick:Xe(),paneContextMenu:Xe(),paneMouseEnter:Xe(),paneMouseMove:Xe(),paneMouseLeave:Xe(),edgeContextMenu:Xe(),edgeMouseEnter:Xe(),edgeMouseMove:Xe(),edgeMouseLeave:Xe(),edgeDoubleClick:Xe(),edgeClick:Xe(),edgeUpdateStart:Xe(),edgeUpdate:Xe(),edgeUpdateEnd:Xe(),updateNodeInternals:Xe(),error:Xe(e=>Gc(e.message))}}function N7(e,t){SA(()=>{for(const[n,r]of Object.entries(t.value)){const o=i=>{e(n,i)};r.fns.add(o),Mc(()=>{r.off(o)})}})}function Sx(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:tm.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:hu.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Ui.Bezier,style:{}},connectionMode:xi.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Sc()?"Meta":"Control",zoomActivationKeyCode:Sc()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:A7(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const E7=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function P7(e,t,n){const r=x7(e),o=ae=>{const B=ae??[];e.hooks.updateNodeInternals.trigger(B)},i=ae=>UP(ae,e.nodes,e.edges),a=ae=>GP(ae,e.nodes,e.edges),s=ae=>Vi(ae,e.edges),u=({id:ae,type:B,nodeId:R})=>{var oe;return Array.from(((oe=e.connectionLookup.get(`${R}-${B}-${ae??null}`))==null?void 0:oe.values())??[])},l=ae=>{if(ae)return t.value.get(ae)},c=ae=>{if(ae)return n.value.get(ae)},f=(ae,B,R)=>{var oe,me;const xe=[];for(const Pe of ae){const Ie={id:Pe.id,type:"position",dragging:R,from:Pe.from};if(B&&(Ie.position=Pe.position,Pe.parentNode)){const Ce=l(Pe.parentNode);Ie.position={x:Ie.position.x-(((oe=Ce==null?void 0:Ce.computedPosition)==null?void 0:oe.x)??0),y:Ie.position.y-(((me=Ce==null?void 0:Ce.computedPosition)==null?void 0:me.y)??0)}}xe.push(Ie)}xe!=null&&xe.length&&e.hooks.nodesChange.trigger(xe)},p=ae=>{if(!e.vueFlowRef)return;const B=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!B)return;const R=window.getComputedStyle(B),{m22:oe}=new window.DOMMatrixReadOnly(R.transform),me=[];for(const xe of ae){const Pe=xe,Ie=l(Pe.id);if(Ie){const Ce=Bc(Pe.nodeElement);if(!!(Ce.width&&Ce.height&&(Ie.dimensions.width!==Ce.width||Ie.dimensions.height!==Ce.height||Pe.forceUpdate))){const ze=Pe.nodeElement.getBoundingClientRect();Ie.dimensions=Ce,Ie.handleBounds.source=U2("source",Pe.nodeElement,ze,oe,Ie.id),Ie.handleBounds.target=U2("target",Pe.nodeElement,ze,oe,Ie.id),me.push({id:Ie.id,type:"dimensions",dimensions:Ce})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&r.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),me.length&&e.hooks.nodesChange.trigger(me)},h=(ae,B)=>{const R=new Set,oe=new Set;for(const Pe of ae)Zi(Pe)?R.add(Pe.id):Si(Pe)&&oe.add(Pe.id);const me=pi(t.value,R,!0),xe=pi(n.value,oe);if(e.multiSelectionActive){for(const Pe of R)me.push(fi(Pe,B));for(const Pe of oe)xe.push(fi(Pe,B))}me.length&&e.hooks.nodesChange.trigger(me),xe.length&&e.hooks.edgesChange.trigger(xe)},g=ae=>{if(e.multiSelectionActive){const B=ae.map(R=>fi(R.id,!0));e.hooks.nodesChange.trigger(B);return}e.hooks.nodesChange.trigger(pi(t.value,new Set(ae.map(B=>B.id)),!0)),e.hooks.edgesChange.trigger(pi(n.value))},b=ae=>{if(e.multiSelectionActive){const B=ae.map(R=>fi(R.id,!0));e.hooks.edgesChange.trigger(B);return}e.hooks.edgesChange.trigger(pi(n.value,new Set(ae.map(B=>B.id)))),e.hooks.nodesChange.trigger(pi(t.value,new Set,!0))},w=ae=>{h(ae,!0)},y=ae=>{const R=(ae||e.nodes).map(oe=>(oe.selected=!1,fi(oe.id,!1)));e.hooks.nodesChange.trigger(R)},S=ae=>{const R=(ae||e.edges).map(oe=>(oe.selected=!1,fi(oe.id,!1)));e.hooks.edgesChange.trigger(R)},A=ae=>{if(!ae||!ae.length)return h([],!1);const B=ae.reduce((R,oe)=>{const me=fi(oe.id,!1);return Zi(oe)?R.nodes.push(me):R.edges.push(me),R},{nodes:[],edges:[]});B.nodes.length&&e.hooks.nodesChange.trigger(B.nodes),B.edges.length&&e.hooks.edgesChange.trigger(B.edges)},L=ae=>{var B;(B=e.d3Zoom)==null||B.scaleExtent([ae,e.maxZoom]),e.minZoom=ae},j=ae=>{var B;(B=e.d3Zoom)==null||B.scaleExtent([e.minZoom,ae]),e.maxZoom=ae},Z=ae=>{var B;(B=e.d3Zoom)==null||B.translateExtent(ae),e.translateExtent=ae},M=ae=>{e.nodeExtent=ae,o()},I=ae=>{var B;(B=e.d3Zoom)==null||B.clickDistance(ae)},X=ae=>{e.nodesDraggable=ae,e.nodesConnectable=ae,e.elementsSelectable=ae},H=ae=>{const B=ae instanceof Function?ae(e.nodes):ae;!e.initialized&&!B.length||(e.nodes=V2(B,l,e.hooks.error.trigger))},P=ae=>{const B=ae instanceof Function?ae(e.edges):ae;if(!e.initialized&&!B.length)return;const R=mf(B,e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);gf(e.connectionLookup,n.value,R),e.edges=R},N=ae=>{const B=ae instanceof Function?ae([...e.nodes,...e.edges]):ae;!e.initialized&&!B.length||(H(B.filter(Zi)),P(B.filter(Si)))},V=ae=>{let B=ae instanceof Function?ae(e.nodes):ae;B=Array.isArray(B)?B:[B];const R=V2(B,l,e.hooks.error.trigger),oe=[];for(const me of R)oe.push(D2(me));oe.length&&e.hooks.nodesChange.trigger(oe)},_=ae=>{let B=ae instanceof Function?ae(e.edges):ae;B=Array.isArray(B)?B:[B];const R=mf(B,e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),oe=[];for(const me of R)oe.push(D2(me));oe.length&&e.hooks.edgesChange.trigger(oe)},F=(ae,B=!0,R=!1)=>{const oe=ae instanceof Function?ae(e.nodes):ae,me=Array.isArray(oe)?oe:[oe],xe=[],Pe=[];function Ie(De){const ze=s(De);for(const We of ze)(!yn(We.deletable)||We.deletable)&&Pe.push(j2(We.id,We.source,We.target,We.sourceHandle,We.targetHandle))}function Ce(De){const ze=[];for(const We of e.nodes)We.parentNode===De&&ze.push(We);if(ze.length){for(const We of ze)xe.push(F2(We.id));B&&Ie(ze);for(const We of ze)Ce(We.id)}}for(const De of me){const ze=typeof De=="string"?l(De):De;ze&&(yn(ze.deletable)&&!ze.deletable||(xe.push(F2(ze.id)),B&&Ie([ze]),R&&Ce(ze.id)))}Pe.length&&e.hooks.edgesChange.trigger(Pe),xe.length&&e.hooks.nodesChange.trigger(xe)},k=ae=>{const B=ae instanceof Function?ae(e.edges):ae,R=Array.isArray(B)?B:[B],oe=[];for(const me of R){const xe=typeof me=="string"?c(me):me;xe&&(yn(xe.deletable)&&!xe.deletable||oe.push(j2(typeof me=="string"?me:me.id,xe.source,xe.target,xe.sourceHandle,xe.targetHandle)))}e.hooks.edgesChange.trigger(oe)},Q=(ae,B,R=!0)=>{const oe=c(ae.id);if(!oe)return!1;const me=e.edges.indexOf(oe),xe=d7(ae,B,oe,R,e.hooks.error.trigger);if(xe){const[Pe]=mf([xe],e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((Ie,Ce)=>Ce===me?Pe:Ie),gf(e.connectionLookup,n.value,[Pe]),Pe}return!1},U=(ae,B,R={replace:!1})=>{const oe=c(ae);if(!oe)return;const me=typeof B=="function"?B(oe):B;oe.data=R.replace?me:{...oe.data,...me}},ne=ae=>M2(ae,e.nodes),ee=ae=>{const B=M2(ae,e.edges);return gf(e.connectionLookup,n.value,B),B},pe=(ae,B,R={replace:!1})=>{const oe=l(ae);if(!oe)return;const me=typeof B=="function"?B(oe):B;R.replace?e.nodes.splice(e.nodes.indexOf(oe),1,me):Object.assign(oe,me)},O=(ae,B,R={replace:!1})=>{const oe=l(ae);if(!oe)return;const me=typeof B=="function"?B(oe):B;oe.data=R.replace?me:{...oe.data,...me}},W=(ae,B,R=!1)=>{R?e.connectionClickStartHandle=ae:e.connectionStartHandle=ae,e.connectionEndHandle=null,e.connectionStatus=null,B&&(e.connectionPosition=B)},C=(ae,B=null,R=null)=>{e.connectionStartHandle&&(e.connectionPosition=ae,e.connectionEndHandle=B,e.connectionStatus=R)},D=(ae,B)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,B?e.connectionClickStartHandle=null:e.connectionStartHandle=null},G=ae=>{const B=BP(ae),R=B?null:iu(ae)?ae:l(ae.id);return!B&&!R?[null,null,B]:[B?ae:_c(R),R,B]},K=(ae,B=!0,R=e.nodes)=>{const[oe,me,xe]=G(ae);if(!oe)return[];const Pe=[];for(const Ie of R||e.nodes){if(!xe&&(Ie.id===me.id||!Ie.computedPosition))continue;const Ce=_c(Ie),De=wc(Ce,oe);(B&&De>0||De>=Number(oe.width)*Number(oe.height))&&Pe.push(Ie)}return Pe},te=(ae,B,R=!0)=>{const[oe]=G(ae);if(!oe)return!1;const me=wc(oe,B);return R&&me>0||me>=Number(oe.width)*Number(oe.height)},ce=ae=>{const{viewport:B,dimensions:R,d3Zoom:oe,d3Selection:me,translateExtent:xe}=e;if(!oe||!me||!ae.x&&!ae.y)return!1;const Pe=ss.translate(B.x+ae.x,B.y+ae.y).scale(B.zoom),Ie=[[0,0],[R.width,R.height]],Ce=oe.constrain()(Pe,Ie,xe),De=e.viewport.x!==Ce.x||e.viewport.y!==Ce.y||e.viewport.zoom!==Ce.k;return oe.transform(me,Ce),De},Ee=ae=>{const B=ae instanceof Function?ae(e):ae,R=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];yn(B.defaultEdgeOptions)&&(e.defaultEdgeOptions=B.defaultEdgeOptions);const oe=B.modelValue||B.nodes||B.edges?[]:void 0;oe&&(B.modelValue&&oe.push(...B.modelValue),B.nodes&&oe.push(...B.nodes),B.edges&&oe.push(...B.edges),N(oe));const me=()=>{yn(B.maxZoom)&&j(B.maxZoom),yn(B.minZoom)&&L(B.minZoom),yn(B.translateExtent)&&Z(B.translateExtent)};for(const xe of Object.keys(B)){const Pe=xe,Ie=B[Pe];![...E7,...R].includes(Pe)&&yn(Ie)&&(e[Pe]=Ie)}d0(()=>e.d3Zoom).not.toBeNull().then(me),e.initialized||(e.initialized=!0)};return{updateNodePositions:f,updateNodeDimensions:p,setElements:N,setNodes:H,setEdges:P,addNodes:V,addEdges:_,removeNodes:F,removeEdges:k,findNode:l,findEdge:c,updateEdge:Q,updateEdgeData:U,updateNode:pe,updateNodeData:O,applyEdgeChanges:ee,applyNodeChanges:ne,addSelectedElements:w,addSelectedNodes:g,addSelectedEdges:b,setMinZoom:L,setMaxZoom:j,setTranslateExtent:Z,setNodeExtent:M,setPaneClickDistance:I,removeSelectedElements:A,removeSelectedNodes:y,removeSelectedEdges:S,startConnection:W,updateConnection:C,endConnection:D,setInteractive:X,setState:Ee,getIntersectingNodes:K,getIncomers:i,getOutgoers:a,getConnectedEdges:s,getHandleConnections:u,isNodeIntersecting:te,panBy:ce,fitView:ae=>r.value.fitView(ae),zoomIn:ae=>r.value.zoomIn(ae),zoomOut:ae=>r.value.zoomOut(ae),zoomTo:(ae,B)=>r.value.zoomTo(ae,B),setViewport:(ae,B)=>r.value.setViewport(ae,B),setTransform:(ae,B)=>r.value.setTransform(ae,B),getViewport:()=>r.value.getViewport(),getTransform:()=>r.value.getTransform(),setCenter:(ae,B,R)=>r.value.setCenter(ae,B,R),fitBounds:(ae,B)=>r.value.fitBounds(ae,B),project:ae=>r.value.project(ae),screenToFlowCoordinate:ae=>r.value.screenToFlowCoordinate(ae),flowToScreenCoordinate:ae=>r.value.flowToScreenCoordinate(ae),toObject:()=>{const ae=[],B=[];for(const R of e.nodes){const{computedPosition:oe,handleBounds:me,selected:xe,dimensions:Pe,isParent:Ie,resizing:Ce,dragging:De,events:ze,...We}=R;ae.push(We)}for(const R of e.edges){const{selected:oe,sourceNode:me,targetNode:xe,events:Pe,...Ie}=R;B.push(Ie)}return JSON.parse(JSON.stringify({nodes:ae,edges:B,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:ae=>new Promise(B=>{const{nodes:R,edges:oe,position:me,zoom:xe,viewport:Pe}=ae;if(R&&H(R),oe&&P(oe),Pe!=null&&Pe.x&&(Pe!=null&&Pe.y)||me){const Ie=(Pe==null?void 0:Pe.x)||me[0],Ce=(Pe==null?void 0:Pe.y)||me[1],De=(Pe==null?void 0:Pe.zoom)||xe||e.viewport.zoom;return d0(()=>r.value.viewportInitialized).toBe(!0).then(()=>{r.value.setViewport({x:Ie,y:Ce,zoom:De}).then(()=>{B(!0)})})}else B(!0)}),updateNodeInternals:o,viewportHelper:r,$reset:()=>{const ae=Sx();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const B=ss.translate(ae.defaultViewport.x??0,ae.defaultViewport.y??0).scale(na(ae.defaultViewport.zoom??1,ae.minZoom,ae.maxZoom)),R=e.viewportRef.getBoundingClientRect(),oe=[[0,0],[R.width,R.height]],me=e.d3Zoom.constrain()(B,oe,ae.translateExtent);e.d3Zoom.transform(e.d3Selection,me)}Ee(ae)},$destroy:()=>{}}}const I7=["data-id","data-handleid","data-nodeid","data-handlepos"],L7={name:"Handle",compatConfig:{MODE:3}},bt=zt({...L7,props:{id:{default:null},type:{},position:{default:()=>et.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=xA(e,["position","connectable","connectableStart","connectableEnd","id"]),r=Mt(()=>n.type??"source"),o=Mt(()=>n.isValidConnection??null),{id:i,connectionStartHandle:a,connectionClickStartHandle:s,connectionEndHandle:u,vueFlowRef:l,nodesConnectable:c,noDragClassName:f,noPanClassName:p}=ut(),{id:h,node:g,nodeEl:b,connectedEdges:w}=wx(),y=Ue(),S=Mt(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),A=Mt(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),L=Mt(()=>{var P,N,V,_,F,k;return((P=a.value)==null?void 0:P.nodeId)===h&&((N=a.value)==null?void 0:N.id)===e.id&&((V=a.value)==null?void 0:V.type)===r.value||((_=u.value)==null?void 0:_.nodeId)===h&&((F=u.value)==null?void 0:F.id)===e.id&&((k=u.value)==null?void 0:k.type)===r.value}),j=Mt(()=>{var P,N,V;return((P=s.value)==null?void 0:P.nodeId)===h&&((N=s.value)==null?void 0:N.id)===e.id&&((V=s.value)==null?void 0:V.type)===r.value}),{handlePointerDown:Z,handleClick:M}=_x({nodeId:h,handleId:e.id,isValidConnection:o,type:r}),I=Qe(()=>typeof e.connectable=="string"&&e.connectable==="single"?!w.value.some(P=>{const N=P[`${r.value}Handle`];return P[r.value]!==h?!1:N?N===e.id:!0}):typeof e.connectable=="number"?w.value.filter(P=>{const N=P[`${r.value}Handle`];return P[r.value]!==h?!1:N?N===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(g,w.value):yn(e.connectable)?e.connectable:c.value);Sr(()=>{var P;if(!g.dimensions.width||!g.dimensions.height)return;const N=(P=g.handleBounds[r.value])==null?void 0:P.find(ne=>ne.id===e.id);if(!l.value||N)return;const V=l.value.querySelector(".vue-flow__transformationpane");if(!b.value||!y.value||!V||!e.id)return;const _=b.value.getBoundingClientRect(),F=y.value.getBoundingClientRect(),k=window.getComputedStyle(V),{m22:Q}=new window.DOMMatrixReadOnly(k.transform),U={id:e.id,position:e.position,x:(F.left-_.left)/Q,y:(F.top-_.top)/Q,type:r.value,nodeId:h,...Bc(y.value)};g.handleBounds[r.value]=[...g.handleBounds[r.value]??[],U]});function X(P){const N=om(P);I.value&&S.value&&(N&&P.button===0||!N)&&Z(P)}function H(P){!h||!s.value&&!S.value||I.value&&M(P)}return t({handleClick:M,handlePointerDown:Z,onClick:H,onPointerDown:X}),(P,N)=>(je(),ct("div",{ref_key:"handle",ref:y,"data-id":`${Ne(i)}-${Ne(h)}-${e.id}-${r.value}`,"data-handleid":e.id,"data-nodeid":Ne(h),"data-handlepos":P.position,class:_i(["vue-flow__handle",[`vue-flow__handle-${P.position}`,`vue-flow__handle-${e.id}`,Ne(f),Ne(p),r.value,{connectable:I.value,connecting:j.value,connectablestart:S.value,connectableend:A.value,connectionindicator:I.value&&(S.value&&!L.value||A.value&&L.value)}]]),onMousedown:X,onTouchstartPassive:X,onClick:H},[Vt(P.$slots,"default",{id:P.id})],42,I7))}}),Vc=function({sourcePosition:e=et.Bottom,targetPosition:t=et.Top,label:n,connectable:r=!0,isValidTargetPos:o,isValidSourcePos:i,data:a}){const s=a.label??n;return[Rt(bt,{type:"target",position:t,connectable:r,isValidConnection:o}),typeof s!="string"&&s?Rt(s):Rt(Cn,[s]),Rt(bt,{type:"source",position:e,connectable:r,isValidConnection:i})]};Vc.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Vc.inheritAttrs=!1;Vc.compatConfig={MODE:3};const C7=Vc,Hc=function({targetPosition:e=et.Top,label:t,connectable:n=!0,isValidTargetPos:r,data:o}){const i=o.label??t;return[Rt(bt,{type:"target",position:e,connectable:n,isValidConnection:r}),typeof i!="string"&&i?Rt(i):Rt(Cn,[i])]};Hc.props=["targetPosition","label","isValidTargetPos","connectable","data"];Hc.inheritAttrs=!1;Hc.compatConfig={MODE:3};const O7=Hc,Wc=function({sourcePosition:e=et.Bottom,label:t,connectable:n=!0,isValidSourcePos:r,data:o}){const i=o.label??t;return[typeof i!="string"&&i?Rt(i):Rt(Cn,[i]),Rt(bt,{type:"source",position:e,connectable:n,isValidConnection:r})]};Wc.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Wc.inheritAttrs=!1;Wc.compatConfig={MODE:3};const k7=Wc,R7=["transform"],q7=["width","height","x","y","rx","ry"],T7=["y"],M7={name:"EdgeText",compatConfig:{MODE:3}},D7=zt({...M7,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=Ue({x:0,y:0,width:0,height:0}),n=Ue(null),r=Qe(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);Sr(o),kt([()=>e.x,()=>e.y,n,()=>e.label],o);function o(){if(!n.value)return;const i=n.value.getBBox();(i.width!==t.value.width||i.height!==t.value.height)&&(t.value=i)}return(i,a)=>(je(),ct("g",{transform:r.value,class:"vue-flow__edge-textwrapper"},[i.labelShowBg?(je(),ct("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*i.labelBgPadding[0]}px`,height:`${t.value.height+2*i.labelBgPadding[1]}px`,x:-i.labelBgPadding[0],y:-i.labelBgPadding[1],style:Vr(i.labelBgStyle),rx:i.labelBgBorderRadius,ry:i.labelBgBorderRadius},null,12,q7)):Lt("",!0),se("text",yt(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:i.labelStyle}),[Vt(i.$slots,"default",{},()=>[typeof i.label!="string"?(je(),nt(gi(i.label),{key:0})):(je(),ct(Cn,{key:1},[be(Re(i.label),1)],64))])],16,T7)],8,R7))}}),F7=["id","d","marker-end","marker-start"],j7=["d","stroke-width"],$7={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Yc=zt({...$7,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=Ue(null),r=Ue(null),o=Ue(null),i=Tc();return t({pathEl:n,interactionEl:r,labelEl:o}),(a,s)=>(je(),ct(Cn,null,[se("path",yt(Ne(i),{id:a.id,ref_key:"pathEl",ref:n,d:a.path,class:"vue-flow__edge-path","marker-end":a.markerEnd,"marker-start":a.markerStart}),null,16,F7),a.interactionWidth?(je(),ct("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:a.path,"stroke-width":a.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,j7)):Lt("",!0),a.label&&a.labelX&&a.labelY?(je(),nt(D7,{key:1,ref_key:"labelEl",ref:o,x:a.labelX,y:a.labelY,label:a.label,"label-show-bg":a.labelShowBg,"label-bg-style":a.labelBgStyle,"label-bg-padding":a.labelBgPadding,"label-bg-border-radius":a.labelBgBorderRadius,"label-style":a.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Lt("",!0)],64))}});function Ax({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[i,s,o,a]}function Nx({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){const u=e*.125+o*.375+a*.375+n*.125,l=t*.125+i*.375+s*.375+r*.125,c=Math.abs(u-e),f=Math.abs(l-t);return[u,l,c,f]}function Dl(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function X2({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){let a,s;switch(e){case et.Left:a=t-Dl(t-r,i),s=n;break;case et.Right:a=t+Dl(r-t,i),s=n;break;case et.Top:a=t,s=n-Dl(n-o,i);break;case et.Bottom:a=t,s=n+Dl(o-n,i);break}return[a,s]}function Ex(e){const{sourceX:t,sourceY:n,sourcePosition:r=et.Bottom,targetX:o,targetY:i,targetPosition:a=et.Top,curvature:s=.25}=e,[u,l]=X2({pos:r,x1:t,y1:n,x2:o,y2:i,c:s}),[c,f]=X2({pos:a,x1:o,y1:i,x2:t,y2:n,c:s}),[p,h,g,b]=Nx({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:u,sourceControlY:l,targetControlX:c,targetControlY:f});return[`M${t},${n} C${u},${l} ${c},${f} ${o},${i}`,p,h,g,b]}function K2({pos:e,x1:t,y1:n,x2:r,y2:o}){let i,a;switch(e){case et.Left:case et.Right:i=.5*(t+r),a=n;break;case et.Top:case et.Bottom:i=t,a=.5*(n+o);break}return[i,a]}function Px(e){const{sourceX:t,sourceY:n,sourcePosition:r=et.Bottom,targetX:o,targetY:i,targetPosition:a=et.Top}=e,[s,u]=K2({pos:r,x1:t,y1:n,x2:o,y2:i}),[l,c]=K2({pos:a,x1:o,y1:i,x2:t,y2:n}),[f,p,h,g]=Nx({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:s,sourceControlY:u,targetControlX:l,targetControlY:c});return[`M${t},${n} C${s},${u} ${l},${c} ${o},${i}`,f,p,h,g]}const Z2={[et.Left]:{x:-1,y:0},[et.Right]:{x:1,y:0},[et.Top]:{x:0,y:-1},[et.Bottom]:{x:0,y:1}};function B7({source:e,sourcePosition:t=et.Bottom,target:n}){return t===et.Left||t===et.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function J2(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function z7({source:e,sourcePosition:t=et.Bottom,target:n,targetPosition:r=et.Top,center:o,offset:i}){const a=Z2[t],s=Z2[r],u={x:e.x+a.x*i,y:e.y+a.y*i},l={x:n.x+s.x*i,y:n.y+s.y*i},c=B7({source:u,sourcePosition:t,target:l}),f=c.x!==0?"x":"y",p=c[f];let h,g,b;const w={x:0,y:0},y={x:0,y:0},[S,A,L,j]=Ax({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*s[f]===-1){g=o.x??S,b=o.y??A;const M=[{x:g,y:u.y},{x:g,y:l.y}],I=[{x:u.x,y:b},{x:l.x,y:b}];a[f]===p?h=f==="x"?M:I:h=f==="x"?I:M}else{const M=[{x:u.x,y:l.y}],I=[{x:l.x,y:u.y}];if(f==="x"?h=a.x===p?I:M:h=a.y===p?M:I,t===r){const V=Math.abs(e[f]-n[f]);if(V<=i){const _=Math.min(i-1,i-V);a[f]===p?w[f]=(u[f]>e[f]?-1:1)*_:y[f]=(l[f]>n[f]?-1:1)*_}}if(t!==r){const V=f==="x"?"y":"x",_=a[f]===s[V],F=u[V]>l[V],k=u[V]<l[V];(a[f]===1&&(!_&&F||_&&k)||a[f]!==1&&(!_&&k||_&&F))&&(h=f==="x"?M:I)}const X={x:u.x+w.x,y:u.y+w.y},H={x:l.x+y.x,y:l.y+y.y},P=Math.max(Math.abs(X.x-h[0].x),Math.abs(H.x-h[0].x)),N=Math.max(Math.abs(X.y-h[0].y),Math.abs(H.y-h[0].y));P>=N?(g=(X.x+H.x)/2,b=h[0].y):(g=h[0].x,b=(X.y+H.y)/2)}return[[e,{x:u.x+w.x,y:u.y+w.y},...h,{x:l.x+y.x,y:l.y+y.y},n],g,b,L,j]}function G7(e,t,n,r){const o=Math.min(J2(e,t)/2,J2(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){const l=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+o*l},${a}Q ${i},${a} ${i},${a+o*c}`}const s=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${a+o*u}Q ${i},${a} ${i+o*s},${a}`}function N0(e){const{sourceX:t,sourceY:n,sourcePosition:r=et.Bottom,targetX:o,targetY:i,targetPosition:a=et.Top,borderRadius:s=5,centerX:u,centerY:l,offset:c=20}=e,[f,p,h,g,b]=z7({source:{x:t,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:a,center:{x:u,y:l},offset:c});return[f.reduce((y,S,A)=>{let L;return A>0&&A<f.length-1?L=G7(f[A-1],S,f[A+1],s):L=`${A===0?"M":"L"}${S.x} ${S.y}`,y+=L,y},""),p,h,g,b]}function U7(e){const{sourceX:t,sourceY:n,targetX:r,targetY:o}=e,[i,a,s,u]=Ax({sourceX:t,sourceY:n,targetX:r,targetY:o});return[`M ${t},${n}L ${r},${o}`,i,a,s,u]}const V7=zt({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=U7(e);return Rt(Yc,{path:n,labelX:r,labelY:o,...t,...e})}}}),H7=V7,W7=zt({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=N0({...e,sourcePosition:e.sourcePosition??et.Bottom,targetPosition:e.targetPosition??et.Top});return Rt(Yc,{path:n,labelX:r,labelY:o,...t,...e})}}}),Ix=W7,Y7=zt({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Rt(Ix,{...e,...t,borderRadius:0})}}),X7=Y7,K7=zt({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=Ex({...e,sourcePosition:e.sourcePosition??et.Bottom,targetPosition:e.targetPosition??et.Top});return Rt(Yc,{path:n,labelX:r,labelY:o,...t,...e})}}}),Z7=K7,J7=zt({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=Px({...e,sourcePosition:e.sourcePosition??et.Bottom,targetPosition:e.targetPosition??et.Top});return Rt(Yc,{path:n,labelX:r,labelY:o,...t,...e})}}}),Q7=J7,eI={input:k7,default:C7,output:O7},tI={default:Z7,straight:H7,step:X7,smoothstep:Ix,simplebezier:Q7};function nI(e,t,n){const r=Qe(()=>b=>t.value.get(b)),o=Qe(()=>b=>n.value.get(b)),i=Qe(()=>{const b={...tI,...e.edgeTypes},w=Object.keys(b);for(const y of e.edges)y.type&&!w.includes(y.type)&&(b[y.type]=y.type);return b}),a=Qe(()=>{const b={...eI,...e.nodeTypes},w=Object.keys(b);for(const y of e.nodes)y.type&&!w.includes(y.type)&&(b[y.type]=y.type);return b}),s=Qe(()=>e.onlyRenderVisibleElements?dx(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),u=Qe(()=>{if(e.onlyRenderVisibleElements){const b=[];for(const w of e.edges){const y=t.value.get(w.source),S=t.value.get(w.target);JP({sourcePos:y.computedPosition||{x:0,y:0},targetPos:S.computedPosition||{x:0,y:0},sourceWidth:y.dimensions.width,sourceHeight:y.dimensions.height,targetWidth:S.dimensions.width,targetHeight:S.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&b.push(w)}return b}return e.edges}),l=Qe(()=>[...s.value,...u.value]),c=Qe(()=>{const b=[];for(const w of e.nodes)w.selected&&b.push(w);return b}),f=Qe(()=>{const b=[];for(const w of e.edges)w.selected&&b.push(w);return b}),p=Qe(()=>[...c.value,...f.value]),h=Qe(()=>{const b=[];for(const w of e.nodes)w.dimensions.width&&w.dimensions.height&&w.handleBounds!==void 0&&b.push(w);return b}),g=Qe(()=>s.value.length>0&&h.value.length===s.value.length);return{getNode:r,getEdge:o,getElements:l,getEdgeTypes:i,getNodeTypes:a,getEdges:u,getNodes:s,getSelectedElements:p,getSelectedNodes:c,getSelectedEdges:f,getNodesInitialized:h,areNodesInitialized:g}}class Hi{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=Iu())==null?void 0:t.appContext.app,r=(n==null?void 0:n.config.globalProperties.$vueFlowStorage)??Hi.instance;return Hi.instance=r??new Hi,n&&(n.config.globalProperties.$vueFlowStorage=Hi.instance),Hi.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const r=Sx(),o=Pu(r),i={};for(const[p,h]of Object.entries(o.hooks)){const g=`on${p.charAt(0).toUpperCase()+p.slice(1)}`;i[g]=h.on}const a={};for(const[p,h]of Object.entries(o.hooks))a[p]=h.trigger;const s=Qe(()=>{const p=new Map;for(const h of o.nodes)p.set(h.id,h);return p}),u=Qe(()=>{const p=new Map;for(const h of o.edges)p.set(h.id,h);return p}),l=nI(o,s,u),c=P7(o,s,u);c.setState({...o,...n});const f={...i,...l,...c,...KA(o),nodeLookup:s,edgeLookup:u,emits:a,id:t,vueFlowVersion:"1.44.0",$destroy:()=>{this.remove(t)}};return this.set(t,f),f}getId(){return`vue-flow-${this.currentId++}`}}function ut(e){const t=Hi.getInstance(),n=b4(),r=typeof e=="object",o=r?e:{id:e},i=o.id,a=i??(n==null?void 0:n.vueFlowId);let s;if(n){const u=Ht(Y2,null);typeof u<"u"&&u!==null&&(!a||u.id===a)&&(s=u)}if(s||a&&(s=t.get(a)),!s||a&&s.id!==a){const u=i??t.getId(),l=t.create(u,o);s=l,(n??_4(!0)).run(()=>{kt(l.applyDefault,(f,p,h)=>{const g=w=>{l.applyNodeChanges(w)},b=w=>{l.applyEdgeChanges(w)};f?(l.onNodesChange(g),l.onEdgesChange(b)):(l.hooks.value.nodesChange.off(g),l.hooks.value.edgesChange.off(b)),h(()=>{l.hooks.value.nodesChange.off(g),l.hooks.value.edgesChange.off(b)})},{immediate:!0}),Mc(()=>{if(s){const f=t.get(s.id);f?f.$destroy():Gc(`No store instance found for id ${s.id} in storage.`)}})})}else r&&s.setState(o);if(n&&(wi(Y2,s),n.vueFlowId=s.id),r){const u=Iu();(u==null?void 0:u.type.name)!=="VueFlow"&&s.emits.error(new Nn(bn.USEVUEFLOW_OPTIONS))}return s}function rI(e){const{emits:t,dimensions:n}=ut();let r;Sr(()=>{const o=e.value,i=()=>{if(!o)return;const a=Bc(o);(a.width===0||a.height===0)&&t.error(new Nn(bn.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:a.width||500,height:a.height||500}};i(),window.addEventListener("resize",i),o&&(r=new ResizeObserver(()=>i()),r.observe(o)),x4(()=>{window.removeEventListener("resize",i),r&&o&&r.unobserve(o)})})}const oI={name:"UserSelection",compatConfig:{MODE:3}},iI=zt({...oI,props:{userSelectionRect:{}},setup(e){return(t,n)=>(je(),ct("div",{class:"vue-flow__selection vue-flow__container",style:Vr({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),aI=["tabIndex"],sI={name:"NodesSelection",compatConfig:{MODE:3}},uI=zt({...sI,setup(e){const{emits:t,viewport:n,getSelectedNodes:r,noPanClassName:o,disableKeyboardA11y:i,userSelectionActive:a}=ut(),s=xx(),u=Ue(null),l=bx({el:u,onStart(g){t.selectionDragStart(g)},onDrag(g){t.selectionDrag(g)},onStop(g){t.selectionDragStop(g)}});Sr(()=>{var g;i.value||(g=u.value)==null||g.focus({preventScroll:!0})});const c=Qe(()=>nm(r.value)),f=Qe(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function p(g){t.selectionContextMenu({event:g,nodes:r.value})}function h(g){i||Qa[g.key]&&(g.preventDefault(),s({x:Qa[g.key].x,y:Qa[g.key].y},g.shiftKey))}return(g,b)=>!Ne(a)&&c.value.width&&c.value.height?(je(),ct("div",{key:0,class:_i(["vue-flow__nodesselection vue-flow__container",Ne(o)]),style:Vr({transform:`translate(${Ne(n).x}px,${Ne(n).y}px) scale(${Ne(n).zoom})`})},[se("div",{ref_key:"el",ref:u,class:_i([{dragging:Ne(l)},"vue-flow__nodesselection-rect"]),style:Vr(f.value),tabIndex:Ne(i)?void 0:-1,onContextmenu:p,onKeydown:h},null,46,aI)],6)):Lt("",!0)}});function lI(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const cI={name:"Pane",compatConfig:{MODE:3}},dI=zt({...cI,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:r,emits:o,userSelectionActive:i,removeSelectedElements:a,userSelectionRect:s,elementsSelectable:u,nodesSelectionActive:l,getSelectedEdges:c,getSelectedNodes:f,removeNodes:p,removeEdges:h,selectionMode:g,deleteKeyCode:b,multiSelectionKeyCode:w,multiSelectionActive:y,edgeLookup:S,nodeLookup:A,connectionLookup:L,defaultEdgeOptions:j,connectionStartHandle:Z}=ut(),M=Ue(null),I=Ue(new Set),X=Ue(new Set),H=Ue(),P=Mt(()=>u.value&&(e.isSelecting||i.value)),N=Mt(()=>Z.value!==null);let V=!1,_=!1;const F=pu(b,{actInsideInputWithModifier:!1}),k=pu(w);kt(F,C=>{C&&(p(f.value),h(c.value),l.value=!1)}),kt(k,C=>{y.value=C});function Q(C,D){return G=>{G.target===D&&(C==null||C(G))}}function U(C){if(V||N.value){V=!1;return}o.paneClick(C),a(),l.value=!1}function ne(C){C.preventDefault(),C.stopPropagation(),o.paneContextMenu(C)}function ee(C){o.paneScroll(C)}function pe(C){var D,G,K;if(H.value=(D=t.value)==null?void 0:D.getBoundingClientRect(),!u.value||!e.isSelecting||C.button!==0||C.target!==M.value||!H.value)return;(K=(G=C.target)==null?void 0:G.setPointerCapture)==null||K.call(G,C.pointerId);const{x:te,y:ce}=lI(C,H.value);_=!0,V=!1,a(),s.value={width:0,height:0,startX:te,startY:ce,x:te,y:ce},o.selectionStart(C)}function O(C){var D;if(!H.value||!s.value)return;V=!0;const{x:G,y:K}=ho(C,H.value),{startX:te=0,startY:ce=0}=s.value,Ee={startX:te,startY:ce,x:G<te?G:te,y:K<ce?K:ce,width:Math.abs(G-te),height:Math.abs(K-ce)},we=I.value,ke=X.value;I.value=new Set(dx(n.value,Ee,r.value,g.value===tm.Partial,!0).map(ae=>ae.id)),X.value=new Set;const _e=((D=j.value)==null?void 0:D.selectable)??!0;for(const ae of I.value){const B=L.value.get(ae);if(B)for(const{edgeId:R}of B.values()){const oe=S.value.get(R);oe&&(oe.selectable??_e)&&X.value.add(R)}}if(!W2(we,I.value)){const ae=pi(A.value,I.value,!0);o.nodesChange(ae)}if(!W2(ke,X.value)){const ae=pi(S.value,X.value);o.edgesChange(ae)}s.value=Ee,i.value=!0,l.value=!1}function W(C){var D;C.button!==0||!_||((D=C.target)==null||D.releasePointerCapture(C.pointerId),!i.value&&s.value&&C.target===M.value&&U(C),i.value=!1,s.value=null,l.value=I.value.size>0,o.selectionEnd(C),e.selectionKeyPressed&&(V=!1),_=!1)}return(C,D)=>(je(),ct("div",{ref_key:"container",ref:M,class:_i(["vue-flow__pane vue-flow__container",{selection:C.isSelecting}]),onClick:D[0]||(D[0]=G=>P.value?void 0:Q(U,M.value)(G)),onContextmenu:D[1]||(D[1]=G=>Q(ne,M.value)(G)),onWheelPassive:D[2]||(D[2]=G=>Q(ee,M.value)(G)),onPointerenter:D[3]||(D[3]=G=>P.value?void 0:Ne(o).paneMouseEnter(G)),onPointerdown:D[4]||(D[4]=G=>P.value?pe(G):Ne(o).paneMouseMove(G)),onPointermove:D[5]||(D[5]=G=>P.value?O(G):Ne(o).paneMouseMove(G)),onPointerup:D[6]||(D[6]=G=>P.value?W(G):void 0),onPointerleave:D[7]||(D[7]=G=>Ne(o).paneMouseLeave(G))},[Vt(C.$slots,"default"),Ne(i)&&Ne(s)?(je(),nt(iI,{key:0,"user-selection-rect":Ne(s)},null,8,["user-selection-rect"])):Lt("",!0),Ne(l)&&Ne(f).length?(je(),nt(uI,{key:1})):Lt("",!0)],34))}}),fI={name:"Transform",compatConfig:{MODE:3}},hI=zt({...fI,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:r}=ut(),o=Qe(()=>n.value?!r.value:!1),i=Qe(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(a,s)=>(je(),ct("div",{class:"vue-flow__transformationpane vue-flow__container",style:Vr({transform:i.value,opacity:o.value?0:void 0})},[Vt(a.$slots,"default")],4))}}),pI={name:"Viewport",compatConfig:{MODE:3}},vI=zt({...pI,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:r,translateExtent:o,zoomActivationKeyCode:i,selectionKeyCode:a,panActivationKeyCode:s,panOnScroll:u,panOnScrollMode:l,panOnScrollSpeed:c,panOnDrag:f,zoomOnDoubleClick:p,zoomOnPinch:h,zoomOnScroll:g,preventScrolling:b,noWheelClassName:w,noPanClassName:y,emits:S,connectionStartHandle:A,userSelectionActive:L,paneDragging:j,d3Zoom:Z,d3Selection:M,d3ZoomHandler:I,viewport:X,viewportRef:H,paneClickDistance:P}=ut();rI(H);const N=fc(!1),V=fc(!1);let _=null,F=!1,k=0,Q={x:0,y:0,zoom:0};const U=pu(s),ne=pu(a),ee=pu(i),pe=Mt(()=>(!ne.value||ne.value&&a.value===!0)&&(U.value||f.value)),O=Mt(()=>U.value||u.value),W=Mt(()=>ne.value||a.value===!0&&pe.value!==!0);Sr(()=>{if(!H.value){Gc("Viewport element is missing");return}const ce=H.value,Ee=ce.getBoundingClientRect(),we=qP().clickDistance(P.value).scaleExtent([t.value,n.value]).translateExtent(o.value),ke=zr(ce).call(we),_e=ke.on("wheel.zoom"),ae=ss.translate(r.value.x??0,r.value.y??0).scale(na(r.value.zoom??1,t.value,n.value)),B=[[0,0],[Ee.width,Ee.height]],R=we.constrain()(ae,B,o.value);we.transform(ke,R),we.wheelDelta(D),Z.value=we,M.value=ke,I.value=_e,X.value={x:R.x,y:R.y,zoom:R.k},we.on("start",oe=>{var me;if(!oe.sourceEvent)return null;k=oe.sourceEvent.button,N.value=!0;const xe=K(oe.transform);((me=oe.sourceEvent)==null?void 0:me.type)==="mousedown"&&(j.value=!0),Q=xe,S.viewportChangeStart(xe),S.moveStart({event:oe,flowTransform:xe})}),we.on("end",oe=>{if(!oe.sourceEvent)return null;if(N.value=!1,j.value=!1,C(pe.value,k??0)&&!F&&S.paneContextMenu(oe.sourceEvent),F=!1,G(Q,oe.transform)){const me=K(oe.transform);Q=me,S.viewportChangeEnd(me),S.moveEnd({event:oe,flowTransform:me})}}),we.filter(oe=>{var me;const xe=ee.value||g.value,Pe=h.value&&oe.ctrlKey,Ie=oe.button;if(Ie===1&&oe.type==="mousedown"&&(te(oe,"vue-flow__node")||te(oe,"vue-flow__edge")))return!0;if(!pe.value&&!xe&&!O.value&&!p.value&&!h.value||L.value||!p.value&&oe.type==="dblclick"||te(oe,w.value)&&oe.type==="wheel"||te(oe,y.value)&&(oe.type!=="wheel"||O.value&&oe.type==="wheel"&&!ee.value)||!h.value&&oe.ctrlKey&&oe.type==="wheel"||!xe&&!O.value&&!Pe&&oe.type==="wheel")return!1;if(!h&&oe.type==="touchstart"&&((me=oe.touches)==null?void 0:me.length)>1)return oe.preventDefault(),!1;if(!pe.value&&(oe.type==="mousedown"||oe.type==="touchstart")||a.value===!0&&Array.isArray(f.value)&&f.value.includes(0)&&Ie===0||Array.isArray(f.value)&&!f.value.includes(Ie)&&(oe.type==="mousedown"||oe.type==="touchstart"))return!1;const Ce=Array.isArray(f.value)&&f.value.includes(Ie)||a.value===!0&&Array.isArray(f.value)&&!f.value.includes(0)||!Ie||Ie<=1;return(!oe.ctrlKey||U.value||oe.type==="wheel")&&Ce}),kt([L,pe],()=>{L.value&&!N.value?we.on("zoom",null):L.value||we.on("zoom",oe=>{X.value={x:oe.transform.x,y:oe.transform.y,zoom:oe.transform.k};const me=K(oe.transform);F=C(pe.value,k??0),S.viewportChange(me),S.move({event:oe,flowTransform:me})})},{immediate:!0}),kt([L,O,l,ee,h,b,w],()=>{O.value&&!ee.value&&!L.value?ke.on("wheel.zoom",oe=>{if(te(oe,w.value))return!1;const me=ee.value||g.value,xe=h.value&&oe.ctrlKey;if(!(!b.value||O.value||me||xe))return!1;oe.preventDefault(),oe.stopImmediatePropagation();const Ie=ke.property("__zoom").k||1,Ce=Sc();if(!U.value&&oe.ctrlKey&&h.value&&Ce){const gt=lo(oe),xt=D(oe),rt=Ie*2**xt;we.scaleTo(ke,rt,gt,oe);return}const De=oe.deltaMode===1?20:1;let ze=l.value===hu.Vertical?0:oe.deltaX*De,We=l.value===hu.Horizontal?0:oe.deltaY*De;!Ce&&oe.shiftKey&&l.value!==hu.Vertical&&!ze&&We&&(ze=We,We=0),we.translateBy(ke,-(ze/Ie)*c.value,-(We/Ie)*c.value);const it=K(ke.property("__zoom"));_&&clearTimeout(_),V.value?(S.move({event:oe,flowTransform:it}),S.viewportChange(it),_=setTimeout(()=>{S.moveEnd({event:oe,flowTransform:it}),S.viewportChangeEnd(it),V.value=!1},150)):(V.value=!0,S.moveStart({event:oe,flowTransform:it}),S.viewportChangeStart(it))},{passive:!1}):typeof _e<"u"&&ke.on("wheel.zoom",function(oe,me){const xe=!b.value&&oe.type==="wheel"&&!oe.ctrlKey,Pe=ee.value||g.value,Ie=h.value&&oe.ctrlKey;if(!Pe&&!u.value&&!Ie&&oe.type==="wheel"||xe||te(oe,w.value))return null;oe.preventDefault(),_e.call(this,oe,me)},{passive:!1})},{immediate:!0})});function C(ce,Ee){return Ee===2&&Array.isArray(ce)&&ce.includes(2)}function D(ce){const Ee=ce.ctrlKey&&Sc()?10:1;return-ce.deltaY*(ce.deltaMode===1?.05:ce.deltaMode?1:.002)*Ee}function G(ce,Ee){return ce.x!==Ee.x&&!Number.isNaN(Ee.x)||ce.y!==Ee.y&&!Number.isNaN(Ee.y)||ce.zoom!==Ee.k&&!Number.isNaN(Ee.k)}function K(ce){return{x:ce.x,y:ce.y,zoom:ce.k}}function te(ce,Ee){return ce.target.closest(`.${Ee}`)}return(ce,Ee)=>(je(),ct("div",{ref_key:"viewportRef",ref:H,class:"vue-flow__viewport vue-flow__container"},[le(dI,{"is-selecting":W.value,"selection-key-pressed":Ne(ne),class:_i({connecting:!!Ne(A),dragging:Ne(j),draggable:Ne(f)===!0||Array.isArray(Ne(f))&&Ne(f).includes(0)})},{default:ie(()=>[le(hI,null,{default:ie(()=>[Vt(ce.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),gI=["id"],mI=["id"],yI=["id"],bI={name:"A11yDescriptions",compatConfig:{MODE:3}},_I=zt({...bI,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:r}=ut();return(o,i)=>(je(),ct(Cn,null,[se("div",{id:`${Ne(nx)}-${Ne(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Re(Ne(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,gI),se("div",{id:`${Ne(rx)}-${Ne(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,mI),Ne(n)?Lt("",!0):(je(),ct("div",{key:0,id:`${Ne($P)}-${Ne(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Re(Ne(r)),9,yI))],64))}});function wI(){const e=ut();kt(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function xI(e,t,n){return n===et.Left?e-t:n===et.Right?e+t:e}function SI(e,t,n){return n===et.Top?e-t:n===et.Bottom?e+t:e}const im=function({radius:e=10,centerX:t=0,centerY:n=0,position:r=et.Top,type:o}){return Rt("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${o}`,cx:xI(t,e,r),cy:SI(n,e,r),r:e,stroke:"transparent",fill:"transparent"})};im.props=["radius","centerX","centerY","position","type"];im.compatConfig={MODE:3};const Q2=im,AI=zt({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:o,emits:i,nodesSelectionActive:a,noPanClassName:s,getEdgeTypes:u,removeSelectedEdges:l,findEdge:c,findNode:f,isValidConnection:p,multiSelectionActive:h,disableKeyboardA11y:g,elementsSelectable:b,edgesUpdatable:w,edgesFocusable:y,hooks:S}=ut(),A=Qe(()=>c(e.id)),{emit:L,on:j}=v7(A.value,i),Z=Ht(Uc),M=Iu(),I=Ue(!1),X=Ue(!1),H=Ue(""),P=Ue(null),N=Ue("source"),V=Ue(null),_=Mt(()=>typeof A.value.selectable>"u"?b.value:A.value.selectable),F=Mt(()=>typeof A.value.updatable>"u"?w.value:A.value.updatable),k=Mt(()=>typeof A.value.focusable>"u"?y.value:A.value.focusable);wi(f7,e.id),wi(h7,V);const Q=Qe(()=>A.value.class instanceof Function?A.value.class(A.value):A.value.class),U=Qe(()=>A.value.style instanceof Function?A.value.style(A.value):A.value.style),ne=Qe(()=>{const B=A.value.type||"default",R=Z==null?void 0:Z[`edge-${B}`];if(R)return R;let oe=A.value.template??u.value[B];if(typeof oe=="string"&&M){const me=Object.keys(M.appContext.components);me&&me.includes(B)&&(oe=Be(B,!1))}return oe&&typeof oe!="string"?oe:(i.error(new Nn(bn.EDGE_TYPE_MISSING,oe)),!1)}),{handlePointerDown:ee}=_x({nodeId:H,handleId:P,type:N,isValidConnection:p,edgeUpdaterType:N,onEdgeUpdate:W,onEdgeUpdateEnd:C});return()=>{const B=f(A.value.source),R=f(A.value.target),oe="pathOptions"in A.value?A.value.pathOptions:{};if(!B&&!R)return i.error(new Nn(bn.EDGE_SOURCE_TARGET_MISSING,A.value.id,A.value.source,A.value.target)),null;if(!B)return i.error(new Nn(bn.EDGE_SOURCE_MISSING,A.value.id,A.value.source)),null;if(!R)return i.error(new Nn(bn.EDGE_TARGET_MISSING,A.value.id,A.value.target)),null;if(!A.value||A.value.hidden||B.hidden||R.hidden)return null;let me;r.value===xi.Strict?me=B.handleBounds.source:me=[...B.handleBounds.source||[],...B.handleBounds.target||[]];const xe=B2(me,A.value.sourceHandle);let Pe;r.value===xi.Strict?Pe=R.handleBounds.target:Pe=[...R.handleBounds.target||[],...R.handleBounds.source||[]];const Ie=B2(Pe,A.value.targetHandle),Ce=(xe==null?void 0:xe.position)||et.Bottom,De=(Ie==null?void 0:Ie.position)||et.Top,{x:ze,y:We}=us(B,xe,Ce),{x:it,y:gt}=us(R,Ie,De);return A.value.sourceX=ze,A.value.sourceY=We,A.value.targetX=it,A.value.targetY=gt,Rt("g",{ref:V,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${ne.value===!1?"default":A.value.type||"default"}`,s.value,Q.value,{updating:I.value,selected:A.value.selected,animated:A.value.animated,inactive:!_.value&&!S.value.edgeClick.hasListeners()}],onClick:G,onContextmenu:K,onDblclick:te,onMouseenter:ce,onMousemove:Ee,onMouseleave:we,onKeyDown:k.value?ae:void 0,tabIndex:k.value?0:void 0,"aria-label":A.value.ariaLabel===null?void 0:A.value.ariaLabel||`Edge from ${A.value.source} to ${A.value.target}`,"aria-describedby":k.value?`${rx}-${t}`:void 0,role:k.value?"button":"img"},[X.value?null:Rt(ne.value===!1?u.value.default:ne.value,{id:e.id,sourceNode:B,targetNode:R,source:A.value.source,target:A.value.target,type:A.value.type,updatable:F.value,selected:A.value.selected,animated:A.value.animated,label:A.value.label,labelStyle:A.value.labelStyle,labelShowBg:A.value.labelShowBg,labelBgStyle:A.value.labelBgStyle,labelBgPadding:A.value.labelBgPadding,labelBgBorderRadius:A.value.labelBgBorderRadius,data:A.value.data,events:{...A.value.events,...j},style:U.value,markerStart:`url('#${wu(A.value.markerStart,t)}')`,markerEnd:`url('#${wu(A.value.markerEnd,t)}')`,sourcePosition:Ce,targetPosition:De,sourceX:ze,sourceY:We,targetX:it,targetY:gt,sourceHandleId:A.value.sourceHandle,targetHandleId:A.value.targetHandle,interactionWidth:A.value.interactionWidth,...oe}),[F.value==="source"||F.value===!0?[Rt("g",{onMousedown:ke,onMouseenter:pe,onMouseout:O},Rt(Q2,{position:Ce,centerX:ze,centerY:We,radius:o.value,type:"source","data-type":"source"}))]:null,F.value==="target"||F.value===!0?[Rt("g",{onMousedown:_e,onMouseenter:pe,onMouseout:O},Rt(Q2,{position:De,centerX:it,centerY:gt,radius:o.value,type:"target","data-type":"target"}))]:null]])};function pe(){I.value=!0}function O(){I.value=!1}function W(B,R){L.update({event:B,edge:A.value,connection:R})}function C(B){L.updateEnd({event:B,edge:A.value}),X.value=!1}function D(B,R){B.button===0&&(X.value=!0,H.value=R?A.value.target:A.value.source,P.value=(R?A.value.targetHandle:A.value.sourceHandle)??null,N.value=R?"target":"source",L.updateStart({event:B,edge:A.value}),ee(B))}function G(B){var R;const oe={event:B,edge:A.value};_.value&&(a.value=!1,A.value.selected&&h.value?(l([A.value]),(R=V.value)==null||R.blur()):n([A.value])),L.click(oe)}function K(B){L.contextMenu({event:B,edge:A.value})}function te(B){L.doubleClick({event:B,edge:A.value})}function ce(B){L.mouseEnter({event:B,edge:A.value})}function Ee(B){L.mouseMove({event:B,edge:A.value})}function we(B){L.mouseLeave({event:B,edge:A.value})}function ke(B){D(B,!0)}function _e(B){D(B,!1)}function ae(B){var R;!g.value&&ox.includes(B.key)&&_.value&&(B.key==="Escape"?((R=V.value)==null||R.blur(),l([c(e.id)])):n([c(e.id)]))}}}),NI=AI,EI=zt({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:r,connectionEndHandle:o,connectionPosition:i,connectionLineType:a,connectionLineStyle:s,connectionLineOptions:u,connectionStatus:l,viewport:c,findNode:f}=ut(),p=(e=Ht(Uc))==null?void 0:e["connection-line"],h=Qe(()=>{var S;return f((S=r.value)==null?void 0:S.nodeId)}),g=Qe(()=>{var S;return f((S=o.value)==null?void 0:S.nodeId)??null}),b=Qe(()=>({x:(i.value.x-c.value.x)/c.value.zoom,y:(i.value.y-c.value.y)/c.value.zoom})),w=Qe(()=>u.value.markerStart?`url(#${wu(u.value.markerStart,t)})`:""),y=Qe(()=>u.value.markerEnd?`url(#${wu(u.value.markerEnd,t)})`:"");return()=>{var S,A,L;if(!h.value||!r.value)return null;const j=r.value.id,Z=r.value.type,M=h.value.handleBounds;let I=(M==null?void 0:M[Z])??[];if(n.value===xi.Loose){const U=(M==null?void 0:M[Z==="source"?"target":"source"])??[];I=[...I,...U]}if(!I)return null;const X=(j?I.find(U=>U.id===j):I[0])??null,H=(X==null?void 0:X.position)??et.Top,{x:P,y:N}=us(h.value,X,H);let V=null;g.value&&(n.value===xi.Strict?V=((S=g.value.handleBounds[Z==="source"?"target":"source"])==null?void 0:S.find(U=>{var ne;return U.id===((ne=o.value)==null?void 0:ne.id)}))||null:V=((A=[...g.value.handleBounds.source??[],...g.value.handleBounds.target??[]])==null?void 0:A.find(U=>{var ne;return U.id===((ne=o.value)==null?void 0:ne.id)}))||null);const _=((L=o.value)==null?void 0:L.position)??(H?S0[H]:null);if(!H||!_)return null;const F=a.value??u.value.type??Ui.Bezier;let k="";const Q={sourceX:P,sourceY:N,sourcePosition:H,targetX:b.value.x,targetY:b.value.y,targetPosition:_};return F===Ui.Bezier?[k]=Ex(Q):F===Ui.Step?[k]=N0({...Q,borderRadius:0}):F===Ui.SmoothStep?[k]=N0(Q):F===Ui.SimpleBezier?[k]=Px(Q):k=`M${P},${N} ${b.value.x},${b.value.y}`,Rt("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Rt("g",{class:"vue-flow__connection"},p?Rt(p,{sourceX:P,sourceY:N,sourcePosition:H,targetX:b.value.x,targetY:b.value.y,targetPosition:_,sourceNode:h.value,sourceHandle:X,targetNode:g.value,targetHandle:V,markerEnd:y.value,markerStart:w.value,connectionStatus:l.value}):Rt("path",{d:k,class:[u.value.class,l,"vue-flow__connection-path"],style:{...s.value,...u.value.style},"marker-end":y.value,"marker-start":w.value})))}}}),PI=EI,II=["id","markerWidth","markerHeight","markerUnits","orient"],LI={name:"MarkerType",compatConfig:{MODE:3}},CI=zt({...LI,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(je(),ct("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===Ne(_0).ArrowClosed?(je(),ct("polyline",{key:0,style:Vr({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Lt("",!0),t.type===Ne(_0).Arrow?(je(),ct("polyline",{key:1,style:Vr({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Lt("",!0)],8,II))}}),OI={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},kI={name:"MarkerDefinitions",compatConfig:{MODE:3}},RI=zt({...kI,setup(e){const{id:t,edges:n,connectionLineOptions:r,defaultMarkerColor:o}=ut(),i=Qe(()=>{const a=new Set,s=[],u=l=>{if(l){const c=wu(l,t);a.has(c)||(typeof l=="object"?s.push({...l,id:c,color:l.color||o.value}):s.push({id:c,color:o.value,type:l}),a.add(c))}};for(const l of[r.value.markerEnd,r.value.markerStart])u(l);for(const l of n.value)for(const c of[l.markerStart,l.markerEnd])u(c);return s.sort((l,c)=>l.id.localeCompare(c.id))});return(a,s)=>(je(),ct("svg",OI,[se("defs",null,[(je(!0),ct(Cn,null,oa(i.value,u=>(je(),nt(CI,{id:u.id,key:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,"stroke-width":u.strokeWidth,orient:u.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),qI={name:"Edges",compatConfig:{MODE:3}},TI=zt({...qI,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:r}=ut();return(o,i)=>(je(),ct(Cn,null,[le(RI),(je(!0),ct(Cn,null,oa(Ne(n),a=>(je(),ct("svg",{key:a.id,class:"vue-flow__edges vue-flow__container",style:Vr({zIndex:Ne(QP)(a,Ne(t),Ne(r))})},[le(Ne(NI),{id:a.id},null,8,["id"])],4))),128)),le(Ne(PI))],64))}}),MI=zt({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:o,multiSelectionActive:i,emits:a,removeSelectedNodes:s,addSelectedNodes:u,updateNodeDimensions:l,onUpdateNodeInternals:c,getNodeTypes:f,nodeExtent:p,elevateNodesOnSelect:h,disableKeyboardA11y:g,ariaLiveMessage:b,snapToGrid:w,snapGrid:y,nodeDragThreshold:S,nodesDraggable:A,elementsSelectable:L,nodesConnectable:j,nodesFocusable:Z,hooks:M}=ut(),I=Ue(null);wi(yx,I),wi(mx,e.id);const X=Ht(Uc),H=Iu(),P=xx(),{node:N,parentNode:V}=wx(e.id),{emit:_,on:F}=b7(N,a),k=Mt(()=>typeof N.draggable>"u"?A.value:N.draggable),Q=Mt(()=>typeof N.selectable>"u"?L.value:N.selectable),U=Mt(()=>typeof N.connectable>"u"?j.value:N.connectable),ne=Mt(()=>typeof N.focusable>"u"?Z.value:N.focusable),ee=Qe(()=>Q.value||k.value||M.value.nodeClick.hasListeners()||M.value.nodeDoubleClick.hasListeners()||M.value.nodeMouseEnter.hasListeners()||M.value.nodeMouseMove.hasListeners()||M.value.nodeMouseLeave.hasListeners()),pe=Mt(()=>!!N.dimensions.width&&!!N.dimensions.height),O=Qe(()=>{const R=N.type||"default",oe=X==null?void 0:X[`node-${R}`];if(oe)return oe;let me=N.template||f.value[R];if(typeof me=="string"&&H){const xe=Object.keys(H.appContext.components);xe&&xe.includes(R)&&(me=Be(R,!1))}return me&&typeof me!="string"?me:(a.error(new Nn(bn.NODE_TYPE_MISSING,me)),!1)}),W=bx({id:e.id,el:I,disabled:()=>!k.value,selectable:Q,dragHandle:()=>N.dragHandle,onStart(R){_.dragStart(R)},onDrag(R){_.drag(R)},onStop(R){_.dragStop(R)},onClick(R){ae(R)}}),C=Qe(()=>N.class instanceof Function?N.class(N):N.class),D=Qe(()=>{const R=(N.style instanceof Function?N.style(N):N.style)||{},oe=N.width instanceof Function?N.width(N):N.width,me=N.height instanceof Function?N.height(N):N.height;return!R.width&&oe&&(R.width=typeof oe=="string"?oe:`${oe}px`),!R.height&&me&&(R.height=typeof me=="string"?me:`${me}px`),R}),G=Mt(()=>Number(N.zIndex??D.value.zIndex??0));return c(R=>{(R.includes(e.id)||!R.length)&&te()}),Sr(()=>{kt(()=>N.hidden,(R=!1,oe,me)=>{!R&&I.value&&(e.resizeObserver.observe(I.value),me(()=>{I.value&&e.resizeObserver.unobserve(I.value)}))},{immediate:!0,flush:"post"})}),kt([()=>N.type,()=>N.sourcePosition,()=>N.targetPosition],()=>{Bo(()=>{l([{id:e.id,nodeElement:I.value,forceUpdate:!0}])})}),kt([()=>N.position.x,()=>N.position.y,()=>{var R;return(R=V.value)==null?void 0:R.computedPosition.x},()=>{var R;return(R=V.value)==null?void 0:R.computedPosition.y},()=>{var R;return(R=V.value)==null?void 0:R.computedPosition.z},G,()=>N.selected,()=>N.dimensions.height,()=>N.dimensions.width,()=>{var R;return(R=V.value)==null?void 0:R.dimensions.height},()=>{var R;return(R=V.value)==null?void 0:R.dimensions.width}],([R,oe,me,xe,Pe,Ie])=>{const Ce={x:R,y:oe,z:Ie+(h.value&&N.selected?1e3:0)};typeof me<"u"&&typeof xe<"u"?N.computedPosition=WP({x:me,y:xe,z:Pe},Ce):N.computedPosition=Ce},{flush:"post",immediate:!0}),kt([()=>N.extent,p],([R,oe],[me,xe])=>{(R!==me||oe!==xe)&&K()}),N.extent==="parent"||typeof N.extent=="object"&&"range"in N.extent&&N.extent.range==="parent"?d0(()=>pe).toBe(!0).then(K):K(),()=>N.hidden?null:Rt("div",{ref:I,"data-id":N.id,class:["vue-flow__node",`vue-flow__node-${O.value===!1?"default":N.type||"default"}`,{[n.value]:k.value,dragging:W==null?void 0:W.value,draggable:k.value,selected:N.selected,selectable:Q.value,parent:N.isParent},C.value],style:{visibility:pe.value?"visible":"hidden",zIndex:N.computedPosition.z??G.value,transform:`translate(${N.computedPosition.x}px,${N.computedPosition.y}px)`,pointerEvents:ee.value?"all":"none",...D.value},tabIndex:ne.value?0:void 0,role:ne.value?"button":void 0,"aria-describedby":g.value?void 0:`${nx}-${t}`,"aria-label":N.ariaLabel,onMouseenter:ce,onMousemove:Ee,onMouseleave:we,onContextmenu:ke,onClick:ae,onDblclick:_e,onKeydown:B},[Rt(O.value===!1?f.value.default:O.value,{id:N.id,type:N.type,data:N.data,events:{...N.events,...F},selected:N.selected,resizing:N.resizing,dragging:W.value,connectable:U.value,position:N.computedPosition,dimensions:N.dimensions,isValidTargetPos:N.isValidTargetPos,isValidSourcePos:N.isValidSourcePos,parent:N.parentNode,parentNodeId:N.parentNode,zIndex:N.computedPosition.z??G.value,targetPosition:N.targetPosition,sourcePosition:N.sourcePosition,label:N.label,dragHandle:N.dragHandle,onUpdateNodeInternals:te})]);function K(){const R=N.computedPosition,{computedPosition:oe,position:me}=rm(N,w.value?zc(R,y.value):R,a.error,p.value,V.value);(N.computedPosition.x!==oe.x||N.computedPosition.y!==oe.y)&&(N.computedPosition={...N.computedPosition,...oe}),(N.position.x!==me.x||N.position.y!==me.y)&&(N.position=me)}function te(){I.value&&l([{id:e.id,nodeElement:I.value,forceUpdate:!0}])}function ce(R){W!=null&&W.value||_.mouseEnter({event:R,node:N})}function Ee(R){W!=null&&W.value||_.mouseMove({event:R,node:N})}function we(R){W!=null&&W.value||_.mouseLeave({event:R,node:N})}function ke(R){return _.contextMenu({event:R,node:N})}function _e(R){return _.doubleClick({event:R,node:N})}function ae(R){Q.value&&(!r.value||!k.value||S.value>0)&&A0(N,i.value,u,s,o,!1,I.value),_.click({event:R,node:N})}function B(R){if(!(w0(R)||g.value))if(ox.includes(R.key)&&Q.value){const oe=R.key==="Escape";A0(N,i.value,u,s,o,oe,I.value)}else k.value&&N.selected&&Qa[R.key]&&(R.preventDefault(),b.value=`Moved selected node ${R.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~N.position.x}, y: ${~~N.position.y}`,P({x:Qa[R.key].x,y:Qa[R.key].y},R.shiftKey))}}}),DI=MI;function FI(e={includeHiddenNodes:!1}){const{nodes:t}=ut();return Qe(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const jI={class:"vue-flow__nodes vue-flow__container"},$I={name:"Nodes",compatConfig:{MODE:3}},BI=zt({...$I,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:r}=ut(),o=FI(),i=Ue();return kt(o,a=>{a&&Bo(()=>{r.nodesInitialized(t.value)})},{immediate:!0}),Sr(()=>{i.value=new ResizeObserver(a=>{const s=a.map(u=>({id:u.target.getAttribute("data-id"),nodeElement:u.target,forceUpdate:!0}));Bo(()=>n(s))})}),x4(()=>{var a;return(a=i.value)==null?void 0:a.disconnect()}),(a,s)=>(je(),ct("div",jI,[i.value?(je(!0),ct(Cn,{key:0},oa(Ne(t),(u,l,c,f)=>{const p=[u.id];if(f&&f.key===u.id&&AA(f,p))return f;const h=(je(),nt(Ne(DI),{id:u.id,key:u.id,"resize-observer":i.value},null,8,["id","resize-observer"]));return h.memo=p,h},s,0),128)):Lt("",!0)]))}});function zI(){const{emits:e}=ut();Sr(()=>{if(gx()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Nn(bn.MISSING_STYLES))}})}const GI=se("div",{class:"vue-flow__edge-labels"},null,-1),UI={name:"VueFlow",compatConfig:{MODE:3}},VI=zt({...UI,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const r=e,o=w4(),i=uf(r,"modelValue",n),a=uf(r,"nodes",n),s=uf(r,"edges",n),u=ut(r),l=S7({modelValue:i,nodes:a,edges:s},r,u);return N7(n,u.hooks),wI(),zI(),wi(Uc,o),wA(()=>{l()}),t(u),(c,f)=>(je(),ct("div",{ref:Ne(u).vueFlowRef,class:"vue-flow"},[le(vI,null,{default:ie(()=>[le(TI),GI,le(BI),Vt(c.$slots,"zoom-pane")]),_:3}),Vt(c.$slots,"default"),le(_I)],512))}}),HI={name:"Panel",compatConfig:{MODE:3}},am=zt({...HI,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=ut(),r=Qe(()=>`${t.position}`.split("-"));return(o,i)=>(je(),ct("div",{class:_i(["vue-flow__panel",r.value]),style:Vr({pointerEvents:Ne(n)?"none":"all"})},[Vt(o.$slots,"default")],6))}});var jo=(e=>(e.Lines="lines",e.Dots="dots",e))(jo||{});const Lx=function({dimensions:e,size:t,color:n}){return Rt("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},Cx=function({radius:e,color:t}){return Rt("circle",{cx:e,cy:e,r:e,fill:t})};jo.Lines+"",jo.Dots+"";const WI={[jo.Dots]:"#81818a",[jo.Lines]:"#eee"},YI=["id","x","y","width","height","patternTransform"],XI={key:2,height:"100",width:"100"},KI=["fill"],ZI=["x","y","fill"],JI={name:"Background",compatConfig:{MODE:3}},QI=zt({...JI,props:{id:{},variant:{default:()=>jo.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=ut(),r=Qe(()=>{const a=n.value.zoom,[s,u]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],l=[s*a||1,u*a||1],c=e.size*a,[f,p]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],h=[f*a||1+l[0]/2,p*a||1+l[1]/2];return{scaledGap:l,offset:h,size:c}}),o=Mt(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),i=Mt(()=>e.color||e.patternColor||WI[e.variant||jo.Dots]);return(a,s)=>(je(),ct("svg",{class:"vue-flow__background vue-flow__container",style:Vr({height:`${a.height>100?100:a.height}%`,width:`${a.width>100?100:a.width}%`})},[Vt(a.$slots,"pattern-container",{id:o.value},()=>[se("pattern",{id:o.value,x:Ne(n).x%r.value.scaledGap[0],y:Ne(n).y%r.value.scaledGap[1],width:r.value.scaledGap[0],height:r.value.scaledGap[1],patternTransform:`translate(-${r.value.offset[0]},-${r.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[Vt(a.$slots,"pattern",{},()=>[a.variant===Ne(jo).Lines?(je(),nt(Ne(Lx),{key:0,size:a.lineWidth,color:i.value,dimensions:r.value.scaledGap},null,8,["size","color","dimensions"])):a.variant===Ne(jo).Dots?(je(),nt(Ne(Cx),{key:1,color:i.value,radius:r.value.size/2},null,8,["color","radius"])):Lt("",!0),a.bgColor?(je(),ct("svg",XI,[se("rect",{width:"100%",height:"100%",fill:a.bgColor},null,8,KI)])):Lt("",!0)])],8,YI)]),se("rect",{x:a.x,y:a.y,width:"100%",height:"100%",fill:`url(#${o.value})`},null,8,ZI),Vt(a.$slots,"default",{id:o.value})],4))}});var eL={value:()=>{}};function sm(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new oc(n)}function oc(e){this._=e}function tL(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}oc.prototype=sm.prototype={constructor:oc,on:function(e,t){var n=this._,r=tL(e+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(e=r[i]).type)&&(o=nL(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(o=(e=r[i]).type)n[o]=e5(n[o],e.name,t);else if(t==null)for(o in n)n[o]=e5(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new oc(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function nL(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function e5(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=eL,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var E0="http://www.w3.org/1999/xhtml";const t5={svg:"http://www.w3.org/2000/svg",xhtml:E0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xc(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),t5.hasOwnProperty(t)?{space:t5[t],local:e}:e}function rL(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===E0&&t.documentElement.namespaceURI===E0?t.createElement(e):t.createElementNS(n,e)}}function oL(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ox(e){var t=Xc(e);return(t.local?oL:rL)(t)}function iL(){}function um(e){return e==null?iL:function(){return this.querySelector(e)}}function aL(e){typeof e!="function"&&(e=um(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=new Array(a),u,l,c=0;c<a;++c)(u=i[c])&&(l=e.call(u,u.__data__,c,i))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new pr(r,this._parents)}function sL(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function uL(){return[]}function kx(e){return e==null?uL:function(){return this.querySelectorAll(e)}}function lL(e){return function(){return sL(e.apply(this,arguments))}}function cL(e){typeof e=="function"?e=lL(e):e=kx(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a=t[i],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(r.push(e.call(u,u.__data__,l,a)),o.push(u));return new pr(r,o)}function Rx(e){return function(){return this.matches(e)}}function qx(e){return function(t){return t.matches(e)}}var dL=Array.prototype.find;function fL(e){return function(){return dL.call(this.children,e)}}function hL(){return this.firstElementChild}function pL(e){return this.select(e==null?hL:fL(typeof e=="function"?e:qx(e)))}var vL=Array.prototype.filter;function gL(){return Array.from(this.children)}function mL(e){return function(){return vL.call(this.children,e)}}function yL(e){return this.selectAll(e==null?gL:mL(typeof e=="function"?e:qx(e)))}function bL(e){typeof e!="function"&&(e=Rx(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],u,l=0;l<a;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&s.push(u);return new pr(r,this._parents)}function Tx(e){return new Array(e.length)}function _L(){return new pr(this._enter||this._groups.map(Tx),this._parents)}function Ac(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ac.prototype={constructor:Ac,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function wL(e){return function(){return e}}function xL(e,t,n,r,o,i){for(var a=0,s,u=t.length,l=i.length;a<l;++a)(s=t[a])?(s.__data__=i[a],r[a]=s):n[a]=new Ac(e,i[a]);for(;a<u;++a)(s=t[a])&&(o[a]=s)}function SL(e,t,n,r,o,i,a){var s,u,l=new Map,c=t.length,f=i.length,p=new Array(c),h;for(s=0;s<c;++s)(u=t[s])&&(p[s]=h=a.call(u,u.__data__,s,t)+"",l.has(h)?o[s]=u:l.set(h,u));for(s=0;s<f;++s)h=a.call(e,i[s],s,i)+"",(u=l.get(h))?(r[s]=u,u.__data__=i[s],l.delete(h)):n[s]=new Ac(e,i[s]);for(s=0;s<c;++s)(u=t[s])&&l.get(p[s])===u&&(o[s]=u)}function AL(e){return e.__data__}function NL(e,t){if(!arguments.length)return Array.from(this,AL);var n=t?SL:xL,r=this._parents,o=this._groups;typeof e!="function"&&(e=wL(e));for(var i=o.length,a=new Array(i),s=new Array(i),u=new Array(i),l=0;l<i;++l){var c=r[l],f=o[l],p=f.length,h=EL(e.call(c,c&&c.__data__,l,r)),g=h.length,b=s[l]=new Array(g),w=a[l]=new Array(g),y=u[l]=new Array(p);n(c,f,b,w,y,h,t);for(var S=0,A=0,L,j;S<g;++S)if(L=b[S]){for(S>=A&&(A=S+1);!(j=w[A])&&++A<g;);L._next=j||null}}return a=new pr(a,r),a._enter=s,a._exit=u,a}function EL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PL(){return new pr(this._exit||this._groups.map(Tx),this._parents)}function IL(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function LL(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),u=0;u<a;++u)for(var l=n[u],c=r[u],f=l.length,p=s[u]=new Array(f),h,g=0;g<f;++g)(h=l[g]||c[g])&&(p[g]=h);for(;u<o;++u)s[u]=n[u];return new pr(s,this._parents)}function CL(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function OL(e){e||(e=kL);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],s=a.length,u=o[i]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(t)}return new pr(o,this._parents).order()}function kL(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function RL(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function qL(){return Array.from(this)}function TL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function ML(){let e=0;for(const t of this)++e;return e}function DL(){return!this.node()}function FL(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,a=o.length,s;i<a;++i)(s=o[i])&&e.call(s,s.__data__,i,o);return this}function jL(e){return function(){this.removeAttribute(e)}}function $L(e){return function(){this.removeAttributeNS(e.space,e.local)}}function BL(e,t){return function(){this.setAttribute(e,t)}}function zL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function GL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function UL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function VL(e,t){var n=Xc(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?$L:jL:typeof t=="function"?n.local?UL:GL:n.local?zL:BL)(n,t))}function Mx(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function HL(e){return function(){this.style.removeProperty(e)}}function WL(e,t,n){return function(){this.style.setProperty(e,t,n)}}function YL(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function XL(e,t,n){return arguments.length>1?this.each((t==null?HL:typeof t=="function"?YL:WL)(e,t,n??"")):ls(this.node(),e)}function ls(e,t){return e.style.getPropertyValue(t)||Mx(e).getComputedStyle(e,null).getPropertyValue(t)}function KL(e){return function(){delete this[e]}}function ZL(e,t){return function(){this[e]=t}}function JL(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function QL(e,t){return arguments.length>1?this.each((t==null?KL:typeof t=="function"?JL:ZL)(e,t)):this.node()[e]}function Dx(e){return e.trim().split(/^|\s+/)}function lm(e){return e.classList||new Fx(e)}function Fx(e){this._node=e,this._names=Dx(e.getAttribute("class")||"")}Fx.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function jx(e,t){for(var n=lm(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function $x(e,t){for(var n=lm(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function eC(e){return function(){jx(this,e)}}function tC(e){return function(){$x(this,e)}}function nC(e,t){return function(){(t.apply(this,arguments)?jx:$x)(this,e)}}function rC(e,t){var n=Dx(e+"");if(arguments.length<2){for(var r=lm(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?nC:t?eC:tC)(n,t))}function oC(){this.textContent=""}function iC(e){return function(){this.textContent=e}}function aC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function sC(e){return arguments.length?this.each(e==null?oC:(typeof e=="function"?aC:iC)(e)):this.node().textContent}function uC(){this.innerHTML=""}function lC(e){return function(){this.innerHTML=e}}function cC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function dC(e){return arguments.length?this.each(e==null?uC:(typeof e=="function"?cC:lC)(e)):this.node().innerHTML}function fC(){this.nextSibling&&this.parentNode.appendChild(this)}function hC(){return this.each(fC)}function pC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vC(){return this.each(pC)}function gC(e){var t=typeof e=="function"?e:Ox(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function mC(){return null}function yC(e,t){var n=typeof e=="function"?e:Ox(e),r=t==null?mC:typeof t=="function"?t:um(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function bC(){var e=this.parentNode;e&&e.removeChild(this)}function _C(){return this.each(bC)}function wC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function SC(e){return this.select(e?xC:wC)}function AC(e){return arguments.length?this.property("__data__",e):this.node().__data__}function NC(e){return function(t){e.call(this,t,this.__data__)}}function EC(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function PC(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function IC(e,t,n){return function(){var r=this.__on,o,i=NC(t);if(r){for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function LC(e,t,n){var r=EC(e+""),o,i=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(o=0,c=s[u];o<i;++o)if((a=r[o]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?IC:PC,o=0;o<i;++o)this.each(s(r[o],t,n));return this}function Bx(e,t,n){var r=Mx(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function CC(e,t){return function(){return Bx(this,e,t)}}function OC(e,t){return function(){return Bx(this,e,t.apply(this,arguments))}}function kC(e,t){return this.each((typeof t=="function"?OC:CC)(e,t))}function*RC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var zx=[null];function pr(e,t){this._groups=e,this._parents=t}function Ou(){return new pr([[document.documentElement]],zx)}function qC(){return this}pr.prototype=Ou.prototype={constructor:pr,select:aL,selectAll:cL,selectChild:pL,selectChildren:yL,filter:bL,data:NL,enter:_L,exit:PL,join:IL,merge:LL,selection:qC,order:CL,sort:OL,call:RL,nodes:qL,node:TL,size:ML,empty:DL,each:FL,attr:VL,style:XL,property:QL,classed:rC,text:sC,html:dC,raise:hC,lower:vC,append:gC,insert:yC,remove:_C,clone:SC,datum:AC,on:LC,dispatch:kC,[Symbol.iterator]:RC};function mi(e){return typeof e=="string"?new pr([[document.querySelector(e)]],[document.documentElement]):new pr([[e]],zx)}function TC(e){let t;for(;t=e.sourceEvent;)e=t;return e}function hi(e,t){if(e=TC(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const P0={capture:!0,passive:!1};function I0(e){e.preventDefault(),e.stopImmediatePropagation()}function MC(e){var t=e.document.documentElement,n=mi(e).on("dragstart.drag",I0,P0);"onselectstart"in t?n.on("selectstart.drag",I0,P0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function DC(e,t){var n=e.document.documentElement,r=mi(e).on("dragstart.drag",null);t&&(r.on("click.drag",I0,P0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function cm(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gx(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ku(){}var xu=.7,Nc=1/xu,es="\\s*([+-]?\\d+)\\s*",Su="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FC=/^#([0-9a-f]{3,8})$/,jC=new RegExp(`^rgb\\(${es},${es},${es}\\)$`),$C=new RegExp(`^rgb\\(${go},${go},${go}\\)$`),BC=new RegExp(`^rgba\\(${es},${es},${es},${Su}\\)$`),zC=new RegExp(`^rgba\\(${go},${go},${go},${Su}\\)$`),GC=new RegExp(`^hsl\\(${Su},${go},${go}\\)$`),UC=new RegExp(`^hsla\\(${Su},${go},${go},${Su}\\)$`),n5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cm(ku,Au,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:r5,formatHex:r5,formatHex8:VC,formatHsl:HC,formatRgb:o5,toString:o5});function r5(){return this.rgb().formatHex()}function VC(){return this.rgb().formatHex8()}function HC(){return Ux(this).formatHsl()}function o5(){return this.rgb().formatRgb()}function Au(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=FC.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?i5(t):n===3?new er(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jC.exec(e))?new er(t[1],t[2],t[3],1):(t=$C.exec(e))?new er(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BC.exec(e))?Fl(t[1],t[2],t[3],t[4]):(t=zC.exec(e))?Fl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GC.exec(e))?u5(t[1],t[2]/100,t[3]/100,1):(t=UC.exec(e))?u5(t[1],t[2]/100,t[3]/100,t[4]):n5.hasOwnProperty(e)?i5(n5[e]):e==="transparent"?new er(NaN,NaN,NaN,0):null}function i5(e){return new er(e>>16&255,e>>8&255,e&255,1)}function Fl(e,t,n,r){return r<=0&&(e=t=n=NaN),new er(e,t,n,r)}function WC(e){return e instanceof ku||(e=Au(e)),e?(e=e.rgb(),new er(e.r,e.g,e.b,e.opacity)):new er}function L0(e,t,n,r){return arguments.length===1?WC(e):new er(e,t,n,r??1)}function er(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}cm(er,L0,Gx(ku,{brighter(e){return e=e==null?Nc:Math.pow(Nc,e),new er(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xu:Math.pow(xu,e),new er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new er(Ji(this.r),Ji(this.g),Ji(this.b),Ec(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a5,formatHex:a5,formatHex8:YC,formatRgb:s5,toString:s5}));function a5(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}`}function YC(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}${Xi((isNaN(this.opacity)?1:this.opacity)*255)}`}function s5(){const e=Ec(this.opacity);return`${e===1?"rgb(":"rgba("}${Ji(this.r)}, ${Ji(this.g)}, ${Ji(this.b)}${e===1?")":`, ${e})`}`}function Ec(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ji(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xi(e){return e=Ji(e),(e<16?"0":"")+e.toString(16)}function u5(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ur(e,t,n,r)}function Ux(e){if(e instanceof Ur)return new Ur(e.h,e.s,e.l,e.opacity);if(e instanceof ku||(e=Au(e)),!e)return new Ur;if(e instanceof Ur)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(t===i?a=(n-r)/s+(n<r)*6:n===i?a=(r-t)/s+2:a=(t-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new Ur(a,s,u,e.opacity)}function XC(e,t,n,r){return arguments.length===1?Ux(e):new Ur(e,t,n,r??1)}function Ur(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}cm(Ur,XC,Gx(ku,{brighter(e){return e=e==null?Nc:Math.pow(Nc,e),new Ur(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xu:Math.pow(xu,e),new Ur(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new er(_f(e>=240?e-240:e+120,o,r),_f(e,o,r),_f(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Ur(l5(this.h),jl(this.s),jl(this.l),Ec(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ec(this.opacity);return`${e===1?"hsl(":"hsla("}${l5(this.h)}, ${jl(this.s)*100}%, ${jl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function l5(e){return e=(e||0)%360,e<0?e+360:e}function jl(e){return Math.max(0,Math.min(1,e||0))}function _f(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vx=e=>()=>e;function KC(e,t){return function(n){return e+n*t}}function ZC(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function JC(e){return(e=+e)==1?Hx:function(t,n){return n-t?ZC(t,n,e):Vx(isNaN(t)?n:t)}}function Hx(e,t){var n=t-e;return n?KC(e,n):Vx(isNaN(e)?t:e)}const c5=function e(t){var n=JC(t);function r(o,i){var a=n((o=L0(o)).r,(i=L0(i)).r),s=n(o.g,i.g),u=n(o.b,i.b),l=Hx(o.opacity,i.opacity);return function(c){return o.r=a(c),o.g=s(c),o.b=u(c),o.opacity=l(c),o+""}}return r.gamma=e,r}(1);function vi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var C0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wf=new RegExp(C0.source,"g");function QC(e){return function(){return e}}function eO(e){return function(t){return e(t)+""}}function tO(e,t){var n=C0.lastIndex=wf.lastIndex=0,r,o,i,a=-1,s=[],u=[];for(e=e+"",t=t+"";(r=C0.exec(e))&&(o=wf.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,u.push({i:a,x:vi(r,o)})),n=wf.lastIndex;return n<t.length&&(i=t.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?eO(u[0].x):QC(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)s[(f=u[c]).i]=f.x(l);return s.join("")})}var d5=180/Math.PI,O0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wx(e,t,n,r,o,i){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*d5,skewX:Math.atan(u)*d5,scaleX:a,scaleY:s}}var $l;function nO(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?O0:Wx(t.a,t.b,t.c,t.d,t.e,t.f)}function rO(e){return e==null||($l||($l=document.createElementNS("http://www.w3.org/2000/svg","g")),$l.setAttribute("transform",e),!(e=$l.transform.baseVal.consolidate()))?O0:(e=e.matrix,Wx(e.a,e.b,e.c,e.d,e.e,e.f))}function Yx(e,t,n,r){function o(l){return l.length?l.pop()+" ":""}function i(l,c,f,p,h,g){if(l!==f||c!==p){var b=h.push("translate(",null,t,null,n);g.push({i:b-4,x:vi(l,f)},{i:b-2,x:vi(c,p)})}else(f||p)&&h.push("translate("+f+t+p+n)}function a(l,c,f,p){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),p.push({i:f.push(o(f)+"rotate(",null,r)-2,x:vi(l,c)})):c&&f.push(o(f)+"rotate("+c+r)}function s(l,c,f,p){l!==c?p.push({i:f.push(o(f)+"skewX(",null,r)-2,x:vi(l,c)}):c&&f.push(o(f)+"skewX("+c+r)}function u(l,c,f,p,h,g){if(l!==f||c!==p){var b=h.push(o(h)+"scale(",null,",",null,")");g.push({i:b-4,x:vi(l,f)},{i:b-2,x:vi(c,p)})}else(f!==1||p!==1)&&h.push(o(h)+"scale("+f+","+p+")")}return function(l,c){var f=[],p=[];return l=e(l),c=e(c),i(l.translateX,l.translateY,c.translateX,c.translateY,f,p),a(l.rotate,c.rotate,f,p),s(l.skewX,c.skewX,f,p),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,p),l=c=null,function(h){for(var g=-1,b=p.length,w;++g<b;)f[(w=p[g]).i]=w.x(h);return f.join("")}}}var oO=Yx(nO,"px, ","px)","deg)"),iO=Yx(rO,", ",")",")"),aO=1e-12;function f5(e){return((e=Math.exp(e))+1/e)/2}function sO(e){return((e=Math.exp(e))-1/e)/2}function uO(e){return((e=Math.exp(2*e))-1)/(e+1)}const lO=function e(t,n,r){function o(i,a){var s=i[0],u=i[1],l=i[2],c=a[0],f=a[1],p=a[2],h=c-s,g=f-u,b=h*h+g*g,w,y;if(b<aO)y=Math.log(p/l)/t,w=function(M){return[s+M*h,u+M*g,l*Math.exp(t*M*y)]};else{var S=Math.sqrt(b),A=(p*p-l*l+r*b)/(2*l*n*S),L=(p*p-l*l-r*b)/(2*p*n*S),j=Math.log(Math.sqrt(A*A+1)-A),Z=Math.log(Math.sqrt(L*L+1)-L);y=(Z-j)/t,w=function(M){var I=M*y,X=f5(j),H=l/(n*S)*(X*uO(t*I+j)-sO(j));return[s+H*h,u+H*g,l*X/f5(t*I+j)]}}return w.duration=y*1e3*t/Math.SQRT2,w}return o.rho=function(i){var a=Math.max(.001,+i),s=a*a,u=s*s;return e(a,s,u)},o}(Math.SQRT2,2,4);var cs=0,au=0,Xs=0,Xx=1e3,Pc,su,Ic=0,ra=0,Kc=0,Nu=typeof performance=="object"&&performance.now?performance:Date,Kx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function dm(){return ra||(Kx(cO),ra=Nu.now()+Kc)}function cO(){ra=0}function Lc(){this._call=this._time=this._next=null}Lc.prototype=Zx.prototype={constructor:Lc,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?dm():+n)+(t==null?0:+t),!this._next&&su!==this&&(su?su._next=this:Pc=this,su=this),this._call=e,this._time=n,k0()},stop:function(){this._call&&(this._call=null,this._time=1/0,k0())}};function Zx(e,t,n){var r=new Lc;return r.restart(e,t,n),r}function dO(){dm(),++cs;for(var e=Pc,t;e;)(t=ra-e._time)>=0&&e._call.call(void 0,t),e=e._next;--cs}function h5(){ra=(Ic=Nu.now())+Kc,cs=au=0;try{dO()}finally{cs=0,hO(),ra=0}}function fO(){var e=Nu.now(),t=e-Ic;t>Xx&&(Kc-=t,Ic=e)}function hO(){for(var e,t=Pc,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Pc=n);su=e,k0(r)}function k0(e){if(!cs){au&&(au=clearTimeout(au));var t=e-ra;t>24?(e<1/0&&(au=setTimeout(h5,e-Nu.now()-Kc)),Xs&&(Xs=clearInterval(Xs))):(Xs||(Ic=Nu.now(),Xs=setInterval(fO,Xx)),cs=1,Kx(h5))}}function p5(e,t,n){var r=new Lc;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var pO=sm("start","end","cancel","interrupt"),vO=[],Jx=0,v5=1,R0=2,ic=3,g5=4,q0=5,ac=6;function Zc(e,t,n,r,o,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;gO(e,n,{name:t,index:r,group:o,on:pO,tween:vO,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Jx})}function fm(e,t){var n=Yr(e,t);if(n.state>Jx)throw new Error("too late; already scheduled");return n}function bo(e,t){var n=Yr(e,t);if(n.state>ic)throw new Error("too late; already running");return n}function Yr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function gO(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Zx(i,0,n.time);function i(l){n.state=v5,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var c,f,p,h;if(n.state!==v5)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===ic)return p5(a);h.state===g5?(h.state=ac,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=ac,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(p5(function(){n.state===ic&&(n.state=g5,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=R0,n.on.call("start",e,e.__data__,n.index,n.group),n.state===R0){for(n.state=ic,o=new Array(p=n.tween.length),c=0,f=-1;c<p;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=h);o.length=f+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=q0,1),f=-1,p=o.length;++f<p;)o[f].call(e,c);n.state===q0&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=ac,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function sc(e,t){var n=e.__transition,r,o,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){i=!1;continue}o=r.state>R0&&r.state<q0,r.state=ac,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}i&&delete e.__transition}}function mO(e){return this.each(function(){sc(this,e)})}function yO(e,t){var n,r;return function(){var o=bo(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function bO(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=bo(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},u=0,l=o.length;u<l;++u)if(o[u].name===t){o[u]=s;break}u===l&&o.push(s)}i.tween=o}}function _O(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Yr(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===e)return a.value;return null}return this.each((t==null?yO:bO)(n,e,t))}function hm(e,t,n){var r=e._id;return e.each(function(){var o=bo(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Yr(o,r).value[t]}}function Qx(e,t){var n;return(typeof t=="number"?vi:t instanceof Au?c5:(n=Au(t))?(t=n,c5):tO)(e,t)}function wO(e){return function(){this.removeAttribute(e)}}function xO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function SO(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function AO(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function NO(e,t,n){var r,o,i;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===r&&u===o?i:(o=u,i=t(r=a,s)))}}function EO(e,t,n){var r,o,i;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===r&&u===o?i:(o=u,i=t(r=a,s)))}}function PO(e,t){var n=Xc(e),r=n==="transform"?iO:Qx;return this.attrTween(e,typeof t=="function"?(n.local?EO:NO)(n,r,hm(this,"attr."+e,t)):t==null?(n.local?xO:wO)(n):(n.local?AO:SO)(n,r,t))}function IO(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function LO(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function CO(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&LO(e,i)),n}return o._value=t,o}function OO(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&IO(e,i)),n}return o._value=t,o}function kO(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Xc(e);return this.tween(n,(r.local?CO:OO)(r,t))}function RO(e,t){return function(){fm(this,e).delay=+t.apply(this,arguments)}}function qO(e,t){return t=+t,function(){fm(this,e).delay=t}}function TO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?RO:qO)(t,e)):Yr(this.node(),t).delay}function MO(e,t){return function(){bo(this,e).duration=+t.apply(this,arguments)}}function DO(e,t){return t=+t,function(){bo(this,e).duration=t}}function FO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?MO:DO)(t,e)):Yr(this.node(),t).duration}function jO(e,t){if(typeof t!="function")throw new Error;return function(){bo(this,e).ease=t}}function $O(e){var t=this._id;return arguments.length?this.each(jO(t,e)):Yr(this.node(),t).ease}function BO(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;bo(this,e).ease=n}}function zO(e){if(typeof e!="function")throw new Error;return this.each(BO(this._id,e))}function GO(e){typeof e!="function"&&(e=Rx(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],u,l=0;l<a;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&s.push(u);return new Go(r,this._parents,this._name,this._id)}function UO(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var u=t[s],l=n[s],c=u.length,f=a[s]=new Array(c),p,h=0;h<c;++h)(p=u[h]||l[h])&&(f[h]=p);for(;s<r;++s)a[s]=t[s];return new Go(a,this._parents,this._name,this._id)}function VO(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function HO(e,t,n){var r,o,i=VO(t)?fm:bo;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}function WO(e,t){var n=this._id;return arguments.length<2?Yr(this.node(),n).on.on(e):this.each(HO(n,e,t))}function YO(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function XO(){return this.on("end.remove",YO(this._id))}function KO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=um(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s=r[a],u=s.length,l=i[a]=new Array(u),c,f,p=0;p<u;++p)(c=s[p])&&(f=e.call(c,c.__data__,p,s))&&("__data__"in c&&(f.__data__=c.__data__),l[p]=f,Zc(l[p],t,n,p,l,Yr(c,n)));return new Go(i,this._parents,t,n)}function ZO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=kx(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var u=r[s],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var p=e.call(c,c.__data__,f,u),h,g=Yr(c,n),b=0,w=p.length;b<w;++b)(h=p[b])&&Zc(h,t,n,b,p,g);i.push(p),a.push(c)}return new Go(i,a,t,n)}var JO=Ou.prototype.constructor;function QO(){return new JO(this._groups,this._parents)}function ek(e,t){var n,r,o;return function(){var i=ls(this,e),a=(this.style.removeProperty(e),ls(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}function e6(e){return function(){this.style.removeProperty(e)}}function tk(e,t,n){var r,o=n+"",i;return function(){var a=ls(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}function nk(e,t,n){var r,o,i;return function(){var a=ls(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),ls(this,e))),a===u?null:a===r&&u===o?i:(o=u,i=t(r=a,s))}}function rk(e,t){var n,r,o,i="style."+t,a="end."+i,s;return function(){var u=bo(this,e),l=u.on,c=u.value[i]==null?s||(s=e6(t)):void 0;(l!==n||o!==c)&&(r=(n=l).copy()).on(a,o=c),u.on=r}}function ok(e,t,n){var r=(e+="")=="transform"?oO:Qx;return t==null?this.styleTween(e,ek(e,r)).on("end.style."+e,e6(e)):typeof t=="function"?this.styleTween(e,nk(e,r,hm(this,"style."+e,t))).each(rk(this._id,e)):this.styleTween(e,tk(e,r,t),n).on("end.style."+e,null)}function ik(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ak(e,t,n){var r,o;function i(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&ik(e,a,n)),r}return i._value=t,i}function sk(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ak(e,t,n??""))}function uk(e){return function(){this.textContent=e}}function lk(e){return function(){var t=e(this);this.textContent=t??""}}function ck(e){return this.tween("text",typeof e=="function"?lk(hm(this,"text",e)):uk(e==null?"":e+""))}function dk(e){return function(t){this.textContent=e.call(this,t)}}function fk(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&dk(o)),t}return r._value=e,r}function hk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,fk(e))}function pk(){for(var e=this._name,t=this._id,n=t6(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=Yr(u,t);Zc(u,e,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Go(r,this._parents,e,n)}function vk(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},u={value:function(){--o===0&&i()}};n.each(function(){var l=bo(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),o===0&&i()})}var gk=0;function Go(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function t6(){return++gk}var qo=Ou.prototype;Go.prototype={constructor:Go,select:KO,selectAll:ZO,selectChild:qo.selectChild,selectChildren:qo.selectChildren,filter:GO,merge:UO,selection:QO,transition:pk,call:qo.call,nodes:qo.nodes,node:qo.node,size:qo.size,empty:qo.empty,each:qo.each,on:WO,attr:PO,attrTween:kO,style:ok,styleTween:sk,text:ck,textTween:hk,remove:XO,tween:_O,delay:TO,duration:FO,ease:$O,easeVarying:zO,end:vk,[Symbol.iterator]:qo[Symbol.iterator]};function mk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var yk={time:null,delay:0,duration:250,ease:mk};function bk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function _k(e){var t,n;e instanceof Go?(t=e._id,e=e._name):(t=t6(),(n=yk).time=dm(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,u,l=0;l<s;++l)(u=a[l])&&Zc(u,e,t,l,a,n||bk(u,t));return new Go(r,this._parents,e,t)}Ou.prototype.interrupt=mO;Ou.prototype.transition=_k;const Bl=e=>()=>e;function wk(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function $o(e,t,n){this.k=e,this.x=t,this.y=n}$o.prototype={constructor:$o,scale:function(e){return e===1?this:new $o(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $o(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var pm=new $o(1,0,0);$o.prototype;function xf(e){e.stopImmediatePropagation()}function Ks(e){e.preventDefault(),e.stopImmediatePropagation()}function xk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Sk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function m5(){return this.__zoom||pm}function Ak(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Nk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ek(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Pk(){var e=xk,t=Sk,n=Ek,r=Ak,o=Nk,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=lO,l=sm("start","zoom","end"),c,f,p,h=500,g=150,b=0,w=10;function y(_){_.property("__zoom",m5).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",X).on("dblclick.zoom",H).filter(o).on("touchstart.zoom",P).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(_,F,k,Q){var U=_.selection?_.selection():_;U.property("__zoom",m5),_!==U?j(_,F,k,Q):U.interrupt().each(function(){Z(this,arguments).event(Q).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},y.scaleBy=function(_,F,k,Q){y.scaleTo(_,function(){var U=this.__zoom.k,ne=typeof F=="function"?F.apply(this,arguments):F;return U*ne},k,Q)},y.scaleTo=function(_,F,k,Q){y.transform(_,function(){var U=t.apply(this,arguments),ne=this.__zoom,ee=k==null?L(U):typeof k=="function"?k.apply(this,arguments):k,pe=ne.invert(ee),O=typeof F=="function"?F.apply(this,arguments):F;return n(A(S(ne,O),ee,pe),U,a)},k,Q)},y.translateBy=function(_,F,k,Q){y.transform(_,function(){return n(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof k=="function"?k.apply(this,arguments):k),t.apply(this,arguments),a)},null,Q)},y.translateTo=function(_,F,k,Q,U){y.transform(_,function(){var ne=t.apply(this,arguments),ee=this.__zoom,pe=Q==null?L(ne):typeof Q=="function"?Q.apply(this,arguments):Q;return n(pm.translate(pe[0],pe[1]).scale(ee.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof k=="function"?-k.apply(this,arguments):-k),ne,a)},Q,U)};function S(_,F){return F=Math.max(i[0],Math.min(i[1],F)),F===_.k?_:new $o(F,_.x,_.y)}function A(_,F,k){var Q=F[0]-k[0]*_.k,U=F[1]-k[1]*_.k;return Q===_.x&&U===_.y?_:new $o(_.k,Q,U)}function L(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function j(_,F,k,Q){_.on("start.zoom",function(){Z(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){Z(this,arguments).event(Q).end()}).tween("zoom",function(){var U=this,ne=arguments,ee=Z(U,ne).event(Q),pe=t.apply(U,ne),O=k==null?L(pe):typeof k=="function"?k.apply(U,ne):k,W=Math.max(pe[1][0]-pe[0][0],pe[1][1]-pe[0][1]),C=U.__zoom,D=typeof F=="function"?F.apply(U,ne):F,G=u(C.invert(O).concat(W/C.k),D.invert(O).concat(W/D.k));return function(K){if(K===1)K=D;else{var te=G(K),ce=W/te[2];K=new $o(ce,O[0]-te[0]*ce,O[1]-te[1]*ce)}ee.zoom(null,K)}})}function Z(_,F,k){return!k&&_.__zooming||new M(_,F)}function M(_,F){this.that=_,this.args=F,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,F),this.taps=0}M.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,F){return this.mouse&&_!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var F=mi(this.that).datum();l.call(_,this.that,new wk(_,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:l}),F)}};function I(_,...F){if(!e.apply(this,arguments))return;var k=Z(this,F).event(_),Q=this.__zoom,U=Math.max(i[0],Math.min(i[1],Q.k*Math.pow(2,r.apply(this,arguments)))),ne=hi(_);if(k.wheel)(k.mouse[0][0]!==ne[0]||k.mouse[0][1]!==ne[1])&&(k.mouse[1]=Q.invert(k.mouse[0]=ne)),clearTimeout(k.wheel);else{if(Q.k===U)return;k.mouse=[ne,Q.invert(ne)],sc(this),k.start()}Ks(_),k.wheel=setTimeout(ee,g),k.zoom("mouse",n(A(S(Q,U),k.mouse[0],k.mouse[1]),k.extent,a));function ee(){k.wheel=null,k.end()}}function X(_,...F){if(p||!e.apply(this,arguments))return;var k=_.currentTarget,Q=Z(this,F,!0).event(_),U=mi(_.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",W,!0),ne=hi(_,k),ee=_.clientX,pe=_.clientY;MC(_.view),xf(_),Q.mouse=[ne,this.__zoom.invert(ne)],sc(this),Q.start();function O(C){if(Ks(C),!Q.moved){var D=C.clientX-ee,G=C.clientY-pe;Q.moved=D*D+G*G>b}Q.event(C).zoom("mouse",n(A(Q.that.__zoom,Q.mouse[0]=hi(C,k),Q.mouse[1]),Q.extent,a))}function W(C){U.on("mousemove.zoom mouseup.zoom",null),DC(C.view,Q.moved),Ks(C),Q.event(C).end()}}function H(_,...F){if(e.apply(this,arguments)){var k=this.__zoom,Q=hi(_.changedTouches?_.changedTouches[0]:_,this),U=k.invert(Q),ne=k.k*(_.shiftKey?.5:2),ee=n(A(S(k,ne),Q,U),t.apply(this,F),a);Ks(_),s>0?mi(this).transition().duration(s).call(j,ee,Q,_):mi(this).call(y.transform,ee,Q,_)}}function P(_,...F){if(e.apply(this,arguments)){var k=_.touches,Q=k.length,U=Z(this,F,_.changedTouches.length===Q).event(_),ne,ee,pe,O;for(xf(_),ee=0;ee<Q;++ee)pe=k[ee],O=hi(pe,this),O=[O,this.__zoom.invert(O),pe.identifier],U.touch0?!U.touch1&&U.touch0[2]!==O[2]&&(U.touch1=O,U.taps=0):(U.touch0=O,ne=!0,U.taps=1+!!c);c&&(c=clearTimeout(c)),ne&&(U.taps<2&&(f=O[0],c=setTimeout(function(){c=null},h)),sc(this),U.start())}}function N(_,...F){if(this.__zooming){var k=Z(this,F).event(_),Q=_.changedTouches,U=Q.length,ne,ee,pe,O;for(Ks(_),ne=0;ne<U;++ne)ee=Q[ne],pe=hi(ee,this),k.touch0&&k.touch0[2]===ee.identifier?k.touch0[0]=pe:k.touch1&&k.touch1[2]===ee.identifier&&(k.touch1[0]=pe);if(ee=k.that.__zoom,k.touch1){var W=k.touch0[0],C=k.touch0[1],D=k.touch1[0],G=k.touch1[1],K=(K=D[0]-W[0])*K+(K=D[1]-W[1])*K,te=(te=G[0]-C[0])*te+(te=G[1]-C[1])*te;ee=S(ee,Math.sqrt(K/te)),pe=[(W[0]+D[0])/2,(W[1]+D[1])/2],O=[(C[0]+G[0])/2,(C[1]+G[1])/2]}else if(k.touch0)pe=k.touch0[0],O=k.touch0[1];else return;k.zoom("touch",n(A(ee,pe,O),k.extent,a))}}function V(_,...F){if(this.__zooming){var k=Z(this,F).event(_),Q=_.changedTouches,U=Q.length,ne,ee;for(xf(_),p&&clearTimeout(p),p=setTimeout(function(){p=null},h),ne=0;ne<U;++ne)ee=Q[ne],k.touch0&&k.touch0[2]===ee.identifier?delete k.touch0:k.touch1&&k.touch1[2]===ee.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(ee=hi(ee,this),Math.hypot(f[0]-ee[0],f[1]-ee[1])<w)){var pe=mi(this).on("dblclick.zoom");pe&&pe.apply(this,arguments)}}}return y.wheelDelta=function(_){return arguments.length?(r=typeof _=="function"?_:Bl(+_),y):r},y.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Bl(!!_),y):e},y.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:Bl(!!_),y):o},y.extent=function(_){return arguments.length?(t=typeof _=="function"?_:Bl([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),y):t},y.scaleExtent=function(_){return arguments.length?(i[0]=+_[0],i[1]=+_[1],y):[i[0],i[1]]},y.translateExtent=function(_){return arguments.length?(a[0][0]=+_[0][0],a[1][0]=+_[1][0],a[0][1]=+_[0][1],a[1][1]=+_[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(_){return arguments.length?(n=_,y):n},y.duration=function(_){return arguments.length?(s=+_,y):s},y.interpolate=function(_){return arguments.length?(u=_,y):u},y.on=function(){var _=l.on.apply(l,arguments);return _===l?y:_},y.clickDistance=function(_){return arguments.length?(b=(_=+_)*_,y):Math.sqrt(b)},y.tapDistance=function(_){return arguments.length?(w=+_,y):w},y}const n6=Symbol("MiniMapSlots"),Ik=["id","x","y","rx","ry","width","height","fill","stroke","stroke-width","shape-rendering"],Lk={name:"MiniMapNode",compatConfig:{MODE:3},inheritAttrs:!1},Ck=zt({...Lk,props:{id:{},type:{},selected:{type:Boolean},dragging:{type:Boolean},position:{},dimensions:{},borderRadius:{},color:{},shapeRendering:{},strokeColor:{},strokeWidth:{},hidden:{type:Boolean}},emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(e,{emit:t}){const n=e,r=Ht(n6),o=Tc(),i=Mt(()=>o.style??{});function a(f){t("click",f)}function s(f){t("dblclick",f)}function u(f){t("mouseenter",f)}function l(f){t("mousemove",f)}function c(f){t("mouseleave",f)}return(f,p)=>!f.hidden&&f.dimensions.width!==0&&f.dimensions.height!==0?(je(),ct(Cn,{key:0},[Ne(r)[`node-${n.type}`]?(je(),nt(gi(Ne(r)[`node-${n.type}`]),di(yt({key:0},{...n,...f.$attrs})),null,16)):(je(),ct("rect",yt({key:1,id:f.id},f.$attrs,{class:["vue-flow__minimap-node",{selected:f.selected,dragging:f.dragging}],x:f.position.x,y:f.position.y,rx:f.borderRadius,ry:f.borderRadius,width:f.dimensions.width,height:f.dimensions.height,fill:f.color||i.value.background||i.value.backgroundColor,stroke:f.strokeColor,"stroke-width":f.strokeWidth,"shape-rendering":f.shapeRendering,onClick:a,onDblclick:s,onMouseenter:u,onMousemove:l,onMouseleave:c}),null,16,Ik))],64)):Lt("",!0)}}),Ok=["width","height","viewBox","aria-labelledby"],kk=["id"],Rk=["d","fill","stroke","stroke-width"],qk={name:"MiniMap",compatConfig:{MODE:3}},Tk=zt({...qk,props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:{type:[String,Function]},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:{},height:{},ariaLabel:{default:"Vue Flow mini map"},inversePan:{type:Boolean,default:!1},zoomStep:{default:10},offsetScale:{default:5},maskBorderRadius:{default:0}},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(e,{emit:t}){const n=w4(),r=Tc(),o=200,i=150,{id:a,edges:s,viewport:u,translateExtent:l,dimensions:c,emits:f,d3Selection:p,d3Zoom:h,getNodesInitialized:g}=ut(),b=Ue();wi(n6,n);const w=Mt(()=>{var U;return e.width??((U=r.style)==null?void 0:U.width)??o}),y=Mt(()=>{var U;return e.height??((U=r.style)==null?void 0:U.height)??i}),S=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",A=Qe(()=>typeof e.nodeColor=="string"?()=>e.nodeColor:e.nodeColor),L=Qe(()=>typeof e.nodeStrokeColor=="string"?()=>e.nodeStrokeColor:e.nodeStrokeColor),j=Qe(()=>typeof e.nodeClassName=="string"?()=>e.nodeClassName:typeof e.nodeClassName=="function"?e.nodeClassName:()=>""),Z=Qe(()=>nm(g.value.filter(U=>!U.hidden))),M=Qe(()=>({x:-u.value.x/u.value.zoom,y:-u.value.y/u.value.zoom,width:c.value.width/u.value.zoom,height:c.value.height/u.value.zoom})),I=Qe(()=>g.value&&g.value.length?HP(Z.value,M.value):M.value),X=Qe(()=>{const U=I.value.width/w.value,ne=I.value.height/y.value;return Math.max(U,ne)}),H=Qe(()=>{const U=X.value*w.value,ne=X.value*y.value,ee=e.offsetScale*X.value;return{offset:ee,x:I.value.x-(U-I.value.width)/2-ee,y:I.value.y-(ne-I.value.height)/2-ee,width:U+ee*2,height:ne+ee*2}}),P=Qe(()=>!H.value.x||!H.value.y?"":`
    M${H.value.x-H.value.offset},${H.value.y-H.value.offset}
    h${H.value.width+H.value.offset*2}
    v${H.value.height+H.value.offset*2}
    h${-H.value.width-H.value.offset*2}z
    M${M.value.x+e.maskBorderRadius},${M.value.y}
    h${M.value.width-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},${e.maskBorderRadius}
    v${M.value.height-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},${e.maskBorderRadius}
    h${-(M.value.width-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},-${e.maskBorderRadius}
    v${-(M.value.height-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},-${e.maskBorderRadius}z`);PA(U=>{if(b.value){const ne=mi(b.value),ee=W=>{if(W.sourceEvent.type!=="wheel"||!p.value||!h.value)return;const C=-W.sourceEvent.deltaY*(W.sourceEvent.deltaMode===1?.05:W.sourceEvent.deltaMode?1:.002)*e.zoomStep,D=u.value.zoom*2**C;h.value.scaleTo(p.value,D)},pe=W=>{if(W.sourceEvent.type!=="mousemove"||!p.value||!h.value)return;const C=X.value*Math.max(1,u.value.zoom)*(e.inversePan?-1:1),D={x:u.value.x-W.sourceEvent.movementX*C,y:u.value.y-W.sourceEvent.movementY*C},G=[[0,0],[c.value.width,c.value.height]],K=pm.translate(D.x,D.y).scale(u.value.zoom),te=h.value.constrain()(K,G,l.value);h.value.transform(p.value,te)},O=Pk().on("zoom",e.pannable?pe:()=>{}).on("zoom.wheel",e.zoomable?ee:()=>{});ne.call(O),U(()=>{ne.on("zoom",null)})}},{flush:"post"});function N(U){const[ne,ee]=hi(U);t("click",{event:U,position:{x:ne,y:ee}})}function V(U,ne){const ee={event:U,node:ne,connectedEdges:Vi([ne],s.value)};f.miniMapNodeClick(ee),t("nodeClick",ee)}function _(U,ne){const ee={event:U,node:ne,connectedEdges:Vi([ne],s.value)};f.miniMapNodeDoubleClick(ee),t("nodeDblclick",ee)}function F(U,ne){const ee={event:U,node:ne,connectedEdges:Vi([ne],s.value)};f.miniMapNodeMouseEnter(ee),t("nodeMouseenter",ee)}function k(U,ne){const ee={event:U,node:ne,connectedEdges:Vi([ne],s.value)};f.miniMapNodeMouseMove(ee),t("nodeMousemove",ee)}function Q(U,ne){const ee={event:U,node:ne,connectedEdges:Vi([ne],s.value)};f.miniMapNodeMouseLeave(ee),t("nodeMouseleave",ee)}return(U,ne)=>(je(),nt(Ne(am),{position:U.position,class:_i(["vue-flow__minimap",{pannable:U.pannable,zoomable:U.zoomable}])},{default:ie(()=>[(je(),ct("svg",{ref_key:"el",ref:b,width:w.value,height:y.value,viewBox:[H.value.x,H.value.y,H.value.width,H.value.height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${Ne(a)}`,onClick:N},[U.ariaLabel?(je(),ct("title",{key:0,id:`vue-flow__minimap-${Ne(a)}`},Re(U.ariaLabel),9,kk)):Lt("",!0),(je(!0),ct(Cn,null,oa(Ne(g),ee=>(je(),nt(Ck,{id:ee.id,key:ee.id,position:ee.computedPosition,dimensions:ee.dimensions,selected:ee.selected,dragging:ee.dragging,style:Vr(ee.style),class:_i(j.value(ee)),color:A.value(ee),"border-radius":U.nodeBorderRadius,"stroke-color":L.value(ee),"stroke-width":U.nodeStrokeWidth,"shape-rendering":Ne(S),type:ee.type,hidden:ee.hidden,onClick:pe=>V(pe,ee),onDblclick:pe=>_(pe,ee),onMouseenter:pe=>F(pe,ee),onMousemove:pe=>k(pe,ee),onMouseleave:pe=>Q(pe,ee)},null,8,["id","position","dimensions","selected","dragging","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","hidden","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),se("path",{class:"vue-flow__minimap-mask",d:P.value,fill:U.maskColor,stroke:U.maskStrokeColor,"stroke-width":U.maskStrokeWidth,"fill-rule":"evenodd"},null,8,Rk)],8,Ok))]),_:1},8,["position","class"]))}}),Mk={name:"ControlButton",compatConfig:{MODE:3}},Dk=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},Fk={class:"vue-flow__controls-button"};function jk(e,t,n,r,o,i){return je(),ct("button",Fk,[Vt(e.$slots,"default")])}const zl=Dk(Mk,[["render",jk]]),$k={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Bk=se("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),zk=[Bk];function Gk(e,t){return je(),ct("svg",$k,zk)}const Uk={render:Gk},Vk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Hk=se("path",{d:"M0 0h32v4.2H0z"},null,-1),Wk=[Hk];function Yk(e,t){return je(),ct("svg",Vk,Wk)}const Xk={render:Yk},Kk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Zk=se("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),Jk=[Zk];function Qk(e,t){return je(),ct("svg",Kk,Jk)}const eR={render:Qk},tR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},nR=se("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),rR=[nR];function oR(e,t){return je(),ct("svg",tR,rR)}const iR={render:oR},aR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},sR=se("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),uR=[sR];function lR(e,t){return je(),ct("svg",aR,uR)}const cR={render:lR},dR={name:"Controls",compatConfig:{MODE:3}},fR=zt({...dR,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>tx.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:r,elementsSelectable:o,setInteractive:i,zoomIn:a,zoomOut:s,fitView:u,viewport:l,minZoom:c,maxZoom:f}=ut(),p=Mt(()=>n.value||r.value||o.value),h=Mt(()=>l.value.zoom<=c.value),g=Mt(()=>l.value.zoom>=f.value);function b(){a(),t("zoomIn")}function w(){s(),t("zoomOut")}function y(){u(e.fitViewParams),t("fitView")}function S(){i(!p.value),t("interactionChange",!p.value)}return(A,L)=>(je(),nt(Ne(am),{class:"vue-flow__controls",position:A.position},{default:ie(()=>[Vt(A.$slots,"top"),A.showZoom?(je(),ct(Cn,{key:0},[Vt(A.$slots,"control-zoom-in",{},()=>[le(zl,{class:"vue-flow__controls-zoomin",disabled:g.value,onClick:b},{default:ie(()=>[Vt(A.$slots,"icon-zoom-in",{},()=>[(je(),nt(gi(Ne(Uk))))])]),_:3},8,["disabled"])]),Vt(A.$slots,"control-zoom-out",{},()=>[le(zl,{class:"vue-flow__controls-zoomout",disabled:h.value,onClick:w},{default:ie(()=>[Vt(A.$slots,"icon-zoom-out",{},()=>[(je(),nt(gi(Ne(Xk))))])]),_:3},8,["disabled"])])],64)):Lt("",!0),A.showFitView?Vt(A.$slots,"control-fit-view",{key:1},()=>[le(zl,{class:"vue-flow__controls-fitview",onClick:y},{default:ie(()=>[Vt(A.$slots,"icon-fit-view",{},()=>[(je(),nt(gi(Ne(eR))))])]),_:3})]):Lt("",!0),A.showInteractive?Vt(A.$slots,"control-interactive",{key:2},()=>[A.showInteractive?(je(),nt(zl,{key:0,class:"vue-flow__controls-interactive",onClick:S},{default:ie(()=>[p.value?Vt(A.$slots,"icon-unlock",{key:0},()=>[(je(),nt(gi(Ne(cR))))]):Lt("",!0),p.value?Lt("",!0):Vt(A.$slots,"icon-lock",{key:1},()=>[(je(),nt(gi(Ne(iR))))])]),_:3})):Lt("",!0)]):Lt("",!0),Vt(A.$slots,"default")]),_:3},8,["position"]))}});function vm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Sf,y5;function hR(){if(y5)return Sf;y5=1;function e(){this.__data__=[],this.size=0}return Sf=e,Sf}var Af,b5;function ds(){if(b5)return Af;b5=1;function e(t,n){return t===n||t!==t&&n!==n}return Af=e,Af}var Nf,_5;function Jc(){if(_5)return Nf;_5=1;var e=ds();function t(n,r){for(var o=n.length;o--;)if(e(n[o][0],r))return o;return-1}return Nf=t,Nf}var Ef,w5;function pR(){if(w5)return Ef;w5=1;var e=Jc(),t=Array.prototype,n=t.splice;function r(o){var i=this.__data__,a=e(i,o);if(a<0)return!1;var s=i.length-1;return a==s?i.pop():n.call(i,a,1),--this.size,!0}return Ef=r,Ef}var Pf,x5;function vR(){if(x5)return Pf;x5=1;var e=Jc();function t(n){var r=this.__data__,o=e(r,n);return o<0?void 0:r[o][1]}return Pf=t,Pf}var If,S5;function gR(){if(S5)return If;S5=1;var e=Jc();function t(n){return e(this.__data__,n)>-1}return If=t,If}var Lf,A5;function mR(){if(A5)return Lf;A5=1;var e=Jc();function t(n,r){var o=this.__data__,i=e(o,n);return i<0?(++this.size,o.push([n,r])):o[i][1]=r,this}return Lf=t,Lf}var Cf,N5;function Qc(){if(N5)return Cf;N5=1;var e=hR(),t=pR(),n=vR(),r=gR(),o=mR();function i(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var l=a[s];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Cf=i,Cf}var Of,E5;function yR(){if(E5)return Of;E5=1;var e=Qc();function t(){this.__data__=new e,this.size=0}return Of=t,Of}var kf,P5;function bR(){if(P5)return kf;P5=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return kf=e,kf}var Rf,I5;function _R(){if(I5)return Rf;I5=1;function e(t){return this.__data__.get(t)}return Rf=e,Rf}var qf,L5;function wR(){if(L5)return qf;L5=1;function e(t){return this.__data__.has(t)}return qf=e,qf}var Tf,C5;function r6(){if(C5)return Tf;C5=1;var e=typeof Ll=="object"&&Ll&&Ll.Object===Object&&Ll;return Tf=e,Tf}var Mf,O5;function Xr(){if(O5)return Mf;O5=1;var e=r6(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Mf=n,Mf}var Df,k5;function fs(){if(k5)return Df;k5=1;var e=Xr(),t=e.Symbol;return Df=t,Df}var Ff,R5;function xR(){if(R5)return Ff;R5=1;var e=fs(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,o=e?e.toStringTag:void 0;function i(a){var s=n.call(a,o),u=a[o];try{a[o]=void 0;var l=!0}catch{}var c=r.call(a);return l&&(s?a[o]=u:delete a[o]),c}return Ff=i,Ff}var jf,q5;function SR(){if(q5)return jf;q5=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return jf=n,jf}var $f,T5;function ia(){if(T5)return $f;T5=1;var e=fs(),t=xR(),n=SR(),r="[object Null]",o="[object Undefined]",i=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?o:r:i&&i in Object(s)?t(s):n(s)}return $f=a,$f}var Bf,M5;function Ar(){if(M5)return Bf;M5=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Bf=e,Bf}var zf,D5;function Ru(){if(D5)return zf;D5=1;var e=ia(),t=Ar(),n="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",i="[object Proxy]";function a(s){if(!t(s))return!1;var u=e(s);return u==r||u==o||u==n||u==i}return zf=a,zf}var Gf,F5;function AR(){if(F5)return Gf;F5=1;var e=Xr(),t=e["__core-js_shared__"];return Gf=t,Gf}var Uf,j5;function NR(){if(j5)return Uf;j5=1;var e=AR(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Uf=n,Uf}var Vf,$5;function o6(){if($5)return Vf;$5=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Vf=n,Vf}var Hf,B5;function ER(){if(B5)return Hf;B5=1;var e=Ru(),t=NR(),n=Ar(),r=o6(),o=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!n(p)||t(p))return!1;var h=e(p)?c:i;return h.test(r(p))}return Hf=f,Hf}var Wf,z5;function PR(){if(z5)return Wf;z5=1;function e(t,n){return t==null?void 0:t[n]}return Wf=e,Wf}var Yf,G5;function aa(){if(G5)return Yf;G5=1;var e=ER(),t=PR();function n(r,o){var i=t(r,o);return e(i)?i:void 0}return Yf=n,Yf}var Xf,U5;function gm(){if(U5)return Xf;U5=1;var e=aa(),t=Xr(),n=e(t,"Map");return Xf=n,Xf}var Kf,V5;function ed(){if(V5)return Kf;V5=1;var e=aa(),t=e(Object,"create");return Kf=t,Kf}var Zf,H5;function IR(){if(H5)return Zf;H5=1;var e=ed();function t(){this.__data__=e?e(null):{},this.size=0}return Zf=t,Zf}var Jf,W5;function LR(){if(W5)return Jf;W5=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Jf=e,Jf}var Qf,Y5;function CR(){if(Y5)return Qf;Y5=1;var e=ed(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function o(i){var a=this.__data__;if(e){var s=a[i];return s===t?void 0:s}return r.call(a,i)?a[i]:void 0}return Qf=o,Qf}var eh,X5;function OR(){if(X5)return eh;X5=1;var e=ed(),t=Object.prototype,n=t.hasOwnProperty;function r(o){var i=this.__data__;return e?i[o]!==void 0:n.call(i,o)}return eh=r,eh}var th,K5;function kR(){if(K5)return th;K5=1;var e=ed(),t="__lodash_hash_undefined__";function n(r,o){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&o===void 0?t:o,this}return th=n,th}var nh,Z5;function RR(){if(Z5)return nh;Z5=1;var e=IR(),t=LR(),n=CR(),r=OR(),o=kR();function i(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var l=a[s];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,nh=i,nh}var rh,J5;function qR(){if(J5)return rh;J5=1;var e=RR(),t=Qc(),n=gm();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return rh=r,rh}var oh,Q5;function TR(){if(Q5)return oh;Q5=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return oh=e,oh}var ih,ey;function td(){if(ey)return ih;ey=1;var e=TR();function t(n,r){var o=n.__data__;return e(r)?o[typeof r=="string"?"string":"hash"]:o.map}return ih=t,ih}var ah,ty;function MR(){if(ty)return ah;ty=1;var e=td();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return ah=t,ah}var sh,ny;function DR(){if(ny)return sh;ny=1;var e=td();function t(n){return e(this,n).get(n)}return sh=t,sh}var uh,ry;function FR(){if(ry)return uh;ry=1;var e=td();function t(n){return e(this,n).has(n)}return uh=t,uh}var lh,oy;function jR(){if(oy)return lh;oy=1;var e=td();function t(n,r){var o=e(this,n),i=o.size;return o.set(n,r),this.size+=o.size==i?0:1,this}return lh=t,lh}var ch,iy;function mm(){if(iy)return ch;iy=1;var e=qR(),t=MR(),n=DR(),r=FR(),o=jR();function i(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var l=a[s];this.set(l[0],l[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,ch=i,ch}var dh,ay;function $R(){if(ay)return dh;ay=1;var e=Qc(),t=gm(),n=mm(),r=200;function o(i,a){var s=this.__data__;if(s instanceof e){var u=s.__data__;if(!t||u.length<r-1)return u.push([i,a]),this.size=++s.size,this;s=this.__data__=new n(u)}return s.set(i,a),this.size=s.size,this}return dh=o,dh}var fh,sy;function nd(){if(sy)return fh;sy=1;var e=Qc(),t=yR(),n=bR(),r=_R(),o=wR(),i=$R();function a(s){var u=this.__data__=new e(s);this.size=u.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=o,a.prototype.set=i,fh=a,fh}var hh,uy;function ym(){if(uy)return hh;uy=1;function e(t,n){for(var r=-1,o=t==null?0:t.length;++r<o&&n(t[r],r,t)!==!1;);return t}return hh=e,hh}var ph,ly;function i6(){if(ly)return ph;ly=1;var e=aa(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return ph=t,ph}var vh,cy;function rd(){if(cy)return vh;cy=1;var e=i6();function t(n,r,o){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[r]=o}return vh=t,vh}var gh,dy;function od(){if(dy)return gh;dy=1;var e=rd(),t=ds(),n=Object.prototype,r=n.hasOwnProperty;function o(i,a,s){var u=i[a];(!(r.call(i,a)&&t(u,s))||s===void 0&&!(a in i))&&e(i,a,s)}return gh=o,gh}var mh,fy;function qu(){if(fy)return mh;fy=1;var e=od(),t=rd();function n(r,o,i,a){var s=!i;i||(i={});for(var u=-1,l=o.length;++u<l;){var c=o[u],f=a?a(i[c],r[c],c,i,r):void 0;f===void 0&&(f=r[c]),s?t(i,c,f):e(i,c,f)}return i}return mh=n,mh}var yh,hy;function BR(){if(hy)return yh;hy=1;function e(t,n){for(var r=-1,o=Array(t);++r<t;)o[r]=n(r);return o}return yh=e,yh}var bh,py;function _o(){if(py)return bh;py=1;function e(t){return t!=null&&typeof t=="object"}return bh=e,bh}var _h,vy;function zR(){if(vy)return _h;vy=1;var e=ia(),t=_o(),n="[object Arguments]";function r(o){return t(o)&&e(o)==n}return _h=r,_h}var wh,gy;function Tu(){if(gy)return wh;gy=1;var e=zR(),t=_o(),n=Object.prototype,r=n.hasOwnProperty,o=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!o.call(a,"callee")};return wh=i,wh}var xh,my;function _n(){if(my)return xh;my=1;var e=Array.isArray;return xh=e,xh}var uu={exports:{}},Sh,yy;function GR(){if(yy)return Sh;yy=1;function e(){return!1}return Sh=e,Sh}uu.exports;var by;function hs(){return by||(by=1,function(e,t){var n=Xr(),r=GR(),o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===o,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||r;e.exports=l}(uu,uu.exports)),uu.exports}var Ah,_y;function id(){if(_y)return Ah;_y=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,o){var i=typeof r;return o=o??e,!!o&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<o}return Ah=n,Ah}var Nh,wy;function bm(){if(wy)return Nh;wy=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Nh=t,Nh}var Eh,xy;function UR(){if(xy)return Eh;xy=1;var e=ia(),t=bm(),n=_o(),r="[object Arguments]",o="[object Array]",i="[object Boolean]",a="[object Date]",s="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",f="[object Object]",p="[object RegExp]",h="[object Set]",g="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",y="[object DataView]",S="[object Float32Array]",A="[object Float64Array]",L="[object Int8Array]",j="[object Int16Array]",Z="[object Int32Array]",M="[object Uint8Array]",I="[object Uint8ClampedArray]",X="[object Uint16Array]",H="[object Uint32Array]",P={};P[S]=P[A]=P[L]=P[j]=P[Z]=P[M]=P[I]=P[X]=P[H]=!0,P[r]=P[o]=P[w]=P[i]=P[y]=P[a]=P[s]=P[u]=P[l]=P[c]=P[f]=P[p]=P[h]=P[g]=P[b]=!1;function N(V){return n(V)&&t(V.length)&&!!P[e(V)]}return Eh=N,Eh}var Ph,Sy;function ad(){if(Sy)return Ph;Sy=1;function e(t){return function(n){return t(n)}}return Ph=e,Ph}var lu={exports:{}};lu.exports;var Ay;function _m(){return Ay||(Ay=1,function(e,t){var n=r6(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i&&n.process,s=function(){try{var u=o&&o.require&&o.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(lu,lu.exports)),lu.exports}var Ih,Ny;function Mu(){if(Ny)return Ih;Ny=1;var e=UR(),t=ad(),n=_m(),r=n&&n.isTypedArray,o=r?t(r):e;return Ih=o,Ih}var Lh,Ey;function a6(){if(Ey)return Lh;Ey=1;var e=BR(),t=Tu(),n=_n(),r=hs(),o=id(),i=Mu(),a=Object.prototype,s=a.hasOwnProperty;function u(l,c){var f=n(l),p=!f&&t(l),h=!f&&!p&&r(l),g=!f&&!p&&!h&&i(l),b=f||p||h||g,w=b?e(l.length,String):[],y=w.length;for(var S in l)(c||s.call(l,S))&&!(b&&(S=="length"||h&&(S=="offset"||S=="parent")||g&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||o(S,y)))&&w.push(S);return w}return Lh=u,Lh}var Ch,Py;function sd(){if(Py)return Ch;Py=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,o=typeof r=="function"&&r.prototype||e;return n===o}return Ch=t,Ch}var Oh,Iy;function s6(){if(Iy)return Oh;Iy=1;function e(t,n){return function(r){return t(n(r))}}return Oh=e,Oh}var kh,Ly;function VR(){if(Ly)return kh;Ly=1;var e=s6(),t=e(Object.keys,Object);return kh=t,kh}var Rh,Cy;function wm(){if(Cy)return Rh;Cy=1;var e=sd(),t=VR(),n=Object.prototype,r=n.hasOwnProperty;function o(i){if(!e(i))return t(i);var a=[];for(var s in Object(i))r.call(i,s)&&s!="constructor"&&a.push(s);return a}return Rh=o,Rh}var qh,Oy;function Uo(){if(Oy)return qh;Oy=1;var e=Ru(),t=bm();function n(r){return r!=null&&t(r.length)&&!e(r)}return qh=n,qh}var Th,ky;function Ei(){if(ky)return Th;ky=1;var e=a6(),t=wm(),n=Uo();function r(o){return n(o)?e(o):t(o)}return Th=r,Th}var Mh,Ry;function HR(){if(Ry)return Mh;Ry=1;var e=qu(),t=Ei();function n(r,o){return r&&e(o,t(o),r)}return Mh=n,Mh}var Dh,qy;function WR(){if(qy)return Dh;qy=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Dh=e,Dh}var Fh,Ty;function YR(){if(Ty)return Fh;Ty=1;var e=Ar(),t=sd(),n=WR(),r=Object.prototype,o=r.hasOwnProperty;function i(a){if(!e(a))return n(a);var s=t(a),u=[];for(var l in a)l=="constructor"&&(s||!o.call(a,l))||u.push(l);return u}return Fh=i,Fh}var jh,My;function sa(){if(My)return jh;My=1;var e=a6(),t=YR(),n=Uo();function r(o){return n(o)?e(o,!0):t(o)}return jh=r,jh}var $h,Dy;function XR(){if(Dy)return $h;Dy=1;var e=qu(),t=sa();function n(r,o){return r&&e(o,t(o),r)}return $h=n,$h}var cu={exports:{}};cu.exports;var Fy;function u6(){return Fy||(Fy=1,function(e,t){var n=Xr(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,p=s?s(f):new l.constructor(f);return l.copy(p),p}e.exports=u}(cu,cu.exports)),cu.exports}var Bh,jy;function l6(){if(jy)return Bh;jy=1;function e(t,n){var r=-1,o=t.length;for(n||(n=Array(o));++r<o;)n[r]=t[r];return n}return Bh=e,Bh}var zh,$y;function c6(){if($y)return zh;$y=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,i=0,a=[];++r<o;){var s=t[r];n(s,r,t)&&(a[i++]=s)}return a}return zh=e,zh}var Gh,By;function d6(){if(By)return Gh;By=1;function e(){return[]}return Gh=e,Gh}var Uh,zy;function xm(){if(zy)return Uh;zy=1;var e=c6(),t=d6(),n=Object.prototype,r=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(a){return a==null?[]:(a=Object(a),e(o(a),function(s){return r.call(a,s)}))}:t;return Uh=i,Uh}var Vh,Gy;function KR(){if(Gy)return Vh;Gy=1;var e=qu(),t=xm();function n(r,o){return e(r,t(r),o)}return Vh=n,Vh}var Hh,Uy;function Sm(){if(Uy)return Hh;Uy=1;function e(t,n){for(var r=-1,o=n.length,i=t.length;++r<o;)t[i+r]=n[r];return t}return Hh=e,Hh}var Wh,Vy;function ud(){if(Vy)return Wh;Vy=1;var e=s6(),t=e(Object.getPrototypeOf,Object);return Wh=t,Wh}var Yh,Hy;function f6(){if(Hy)return Yh;Hy=1;var e=Sm(),t=ud(),n=xm(),r=d6(),o=Object.getOwnPropertySymbols,i=o?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return Yh=i,Yh}var Xh,Wy;function ZR(){if(Wy)return Xh;Wy=1;var e=qu(),t=f6();function n(r,o){return e(r,t(r),o)}return Xh=n,Xh}var Kh,Yy;function h6(){if(Yy)return Kh;Yy=1;var e=Sm(),t=_n();function n(r,o,i){var a=o(r);return t(r)?a:e(a,i(r))}return Kh=n,Kh}var Zh,Xy;function p6(){if(Xy)return Zh;Xy=1;var e=h6(),t=xm(),n=Ei();function r(o){return e(o,n,t)}return Zh=r,Zh}var Jh,Ky;function JR(){if(Ky)return Jh;Ky=1;var e=h6(),t=f6(),n=sa();function r(o){return e(o,n,t)}return Jh=r,Jh}var Qh,Zy;function QR(){if(Zy)return Qh;Zy=1;var e=aa(),t=Xr(),n=e(t,"DataView");return Qh=n,Qh}var ep,Jy;function eq(){if(Jy)return ep;Jy=1;var e=aa(),t=Xr(),n=e(t,"Promise");return ep=n,ep}var tp,Qy;function v6(){if(Qy)return tp;Qy=1;var e=aa(),t=Xr(),n=e(t,"Set");return tp=n,tp}var np,eb;function tq(){if(eb)return np;eb=1;var e=aa(),t=Xr(),n=e(t,"WeakMap");return np=n,np}var rp,tb;function ps(){if(tb)return rp;tb=1;var e=QR(),t=gm(),n=eq(),r=v6(),o=tq(),i=ia(),a=o6(),s="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",f="[object WeakMap]",p="[object DataView]",h=a(e),g=a(t),b=a(n),w=a(r),y=a(o),S=i;return(e&&S(new e(new ArrayBuffer(1)))!=p||t&&S(new t)!=s||n&&S(n.resolve())!=l||r&&S(new r)!=c||o&&S(new o)!=f)&&(S=function(A){var L=i(A),j=L==u?A.constructor:void 0,Z=j?a(j):"";if(Z)switch(Z){case h:return p;case g:return s;case b:return l;case w:return c;case y:return f}return L}),rp=S,rp}var op,nb;function nq(){if(nb)return op;nb=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var o=r.length,i=new r.constructor(o);return o&&typeof r[0]=="string"&&t.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return op=n,op}var ip,rb;function g6(){if(rb)return ip;rb=1;var e=Xr(),t=e.Uint8Array;return ip=t,ip}var ap,ob;function Am(){if(ob)return ap;ob=1;var e=g6();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return ap=t,ap}var sp,ib;function rq(){if(ib)return sp;ib=1;var e=Am();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}return sp=t,sp}var up,ab;function oq(){if(ab)return up;ab=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return up=t,up}var lp,sb;function iq(){if(sb)return lp;sb=1;var e=fs(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(o){return n?Object(n.call(o)):{}}return lp=r,lp}var cp,ub;function m6(){if(ub)return cp;ub=1;var e=Am();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}return cp=t,cp}var dp,lb;function aq(){if(lb)return dp;lb=1;var e=Am(),t=rq(),n=oq(),r=iq(),o=m6(),i="[object Boolean]",a="[object Date]",s="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",f="[object String]",p="[object Symbol]",h="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",y="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",L="[object Uint8Array]",j="[object Uint8ClampedArray]",Z="[object Uint16Array]",M="[object Uint32Array]";function I(X,H,P){var N=X.constructor;switch(H){case h:return e(X);case i:case a:return new N(+X);case g:return t(X,P);case b:case w:case y:case S:case A:case L:case j:case Z:case M:return o(X,P);case s:return new N;case u:case f:return new N(X);case l:return n(X);case c:return new N;case p:return r(X)}}return dp=I,dp}var fp,cb;function y6(){if(cb)return fp;cb=1;var e=Ar(),t=Object.create,n=function(){function r(){}return function(o){if(!e(o))return{};if(t)return t(o);r.prototype=o;var i=new r;return r.prototype=void 0,i}}();return fp=n,fp}var hp,db;function b6(){if(db)return hp;db=1;var e=y6(),t=ud(),n=sd();function r(o){return typeof o.constructor=="function"&&!n(o)?e(t(o)):{}}return hp=r,hp}var pp,fb;function sq(){if(fb)return pp;fb=1;var e=ps(),t=_o(),n="[object Map]";function r(o){return t(o)&&e(o)==n}return pp=r,pp}var vp,hb;function uq(){if(hb)return vp;hb=1;var e=sq(),t=ad(),n=_m(),r=n&&n.isMap,o=r?t(r):e;return vp=o,vp}var gp,pb;function lq(){if(pb)return gp;pb=1;var e=ps(),t=_o(),n="[object Set]";function r(o){return t(o)&&e(o)==n}return gp=r,gp}var mp,vb;function cq(){if(vb)return mp;vb=1;var e=lq(),t=ad(),n=_m(),r=n&&n.isSet,o=r?t(r):e;return mp=o,mp}var yp,gb;function _6(){if(gb)return yp;gb=1;var e=nd(),t=ym(),n=od(),r=HR(),o=XR(),i=u6(),a=l6(),s=KR(),u=ZR(),l=p6(),c=JR(),f=ps(),p=nq(),h=aq(),g=b6(),b=_n(),w=hs(),y=uq(),S=Ar(),A=cq(),L=Ei(),j=sa(),Z=1,M=2,I=4,X="[object Arguments]",H="[object Array]",P="[object Boolean]",N="[object Date]",V="[object Error]",_="[object Function]",F="[object GeneratorFunction]",k="[object Map]",Q="[object Number]",U="[object Object]",ne="[object RegExp]",ee="[object Set]",pe="[object String]",O="[object Symbol]",W="[object WeakMap]",C="[object ArrayBuffer]",D="[object DataView]",G="[object Float32Array]",K="[object Float64Array]",te="[object Int8Array]",ce="[object Int16Array]",Ee="[object Int32Array]",we="[object Uint8Array]",ke="[object Uint8ClampedArray]",_e="[object Uint16Array]",ae="[object Uint32Array]",B={};B[X]=B[H]=B[C]=B[D]=B[P]=B[N]=B[G]=B[K]=B[te]=B[ce]=B[Ee]=B[k]=B[Q]=B[U]=B[ne]=B[ee]=B[pe]=B[O]=B[we]=B[ke]=B[_e]=B[ae]=!0,B[V]=B[_]=B[W]=!1;function R(oe,me,xe,Pe,Ie,Ce){var De,ze=me&Z,We=me&M,it=me&I;if(xe&&(De=Ie?xe(oe,Pe,Ie,Ce):xe(oe)),De!==void 0)return De;if(!S(oe))return oe;var gt=b(oe);if(gt){if(De=p(oe),!ze)return a(oe,De)}else{var xt=f(oe),rt=xt==_||xt==F;if(w(oe))return i(oe,ze);if(xt==U||xt==X||rt&&!Ie){if(De=We||rt?{}:g(oe),!ze)return We?u(oe,o(De,oe)):s(oe,r(De,oe))}else{if(!B[xt])return Ie?oe:{};De=h(oe,xt,ze)}}Ce||(Ce=new e);var wt=Ce.get(oe);if(wt)return wt;Ce.set(oe,De),A(oe)?oe.forEach(function(_t){De.add(R(_t,me,xe,_t,oe,Ce))}):y(oe)&&oe.forEach(function(_t,xn){De.set(xn,R(_t,me,xe,xn,oe,Ce))});var He=it?We?c:l:We?j:L,wn=gt?void 0:He(oe);return t(wn||oe,function(_t,xn){wn&&(xn=_t,_t=oe[xn]),n(De,xn,R(_t,me,xe,xn,oe,Ce))}),De}return yp=R,yp}var bp,mb;function dq(){if(mb)return bp;mb=1;var e=_6(),t=4;function n(r){return e(r,t)}return bp=n,bp}var _p,yb;function Nm(){if(yb)return _p;yb=1;function e(t){return function(){return t}}return _p=e,_p}var wp,bb;function fq(){if(bb)return wp;bb=1;function e(t){return function(n,r,o){for(var i=-1,a=Object(n),s=o(n),u=s.length;u--;){var l=s[t?u:++i];if(r(a[l],l,a)===!1)break}return n}}return wp=e,wp}var xp,_b;function Em(){if(_b)return xp;_b=1;var e=fq(),t=e();return xp=t,xp}var Sp,wb;function Pm(){if(wb)return Sp;wb=1;var e=Em(),t=Ei();function n(r,o){return r&&e(r,o,t)}return Sp=n,Sp}var Ap,xb;function hq(){if(xb)return Ap;xb=1;var e=Uo();function t(n,r){return function(o,i){if(o==null)return o;if(!e(o))return n(o,i);for(var a=o.length,s=r?a:-1,u=Object(o);(r?s--:++s<a)&&i(u[s],s,u)!==!1;);return o}}return Ap=t,Ap}var Np,Sb;function ld(){if(Sb)return Np;Sb=1;var e=Pm(),t=hq(),n=t(e);return Np=n,Np}var Ep,Ab;function ua(){if(Ab)return Ep;Ab=1;function e(t){return t}return Ep=e,Ep}var Pp,Nb;function w6(){if(Nb)return Pp;Nb=1;var e=ua();function t(n){return typeof n=="function"?n:e}return Pp=t,Pp}var Ip,Eb;function x6(){if(Eb)return Ip;Eb=1;var e=ym(),t=ld(),n=w6(),r=_n();function o(i,a){var s=r(i)?e:t;return s(i,n(a))}return Ip=o,Ip}var Lp,Pb;function S6(){return Pb||(Pb=1,Lp=x6()),Lp}var Cp,Ib;function pq(){if(Ib)return Cp;Ib=1;var e=ld();function t(n,r){var o=[];return e(n,function(i,a,s){r(i,a,s)&&o.push(i)}),o}return Cp=t,Cp}var Op,Lb;function vq(){if(Lb)return Op;Lb=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Op=t,Op}var kp,Cb;function gq(){if(Cb)return kp;Cb=1;function e(t){return this.__data__.has(t)}return kp=e,kp}var Rp,Ob;function A6(){if(Ob)return Rp;Ob=1;var e=mm(),t=vq(),n=gq();function r(o){var i=-1,a=o==null?0:o.length;for(this.__data__=new e;++i<a;)this.add(o[i])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Rp=r,Rp}var qp,kb;function mq(){if(kb)return qp;kb=1;function e(t,n){for(var r=-1,o=t==null?0:t.length;++r<o;)if(n(t[r],r,t))return!0;return!1}return qp=e,qp}var Tp,Rb;function N6(){if(Rb)return Tp;Rb=1;function e(t,n){return t.has(n)}return Tp=e,Tp}var Mp,qb;function E6(){if(qb)return Mp;qb=1;var e=A6(),t=mq(),n=N6(),r=1,o=2;function i(a,s,u,l,c,f){var p=u&r,h=a.length,g=s.length;if(h!=g&&!(p&&g>h))return!1;var b=f.get(a),w=f.get(s);if(b&&w)return b==s&&w==a;var y=-1,S=!0,A=u&o?new e:void 0;for(f.set(a,s),f.set(s,a);++y<h;){var L=a[y],j=s[y];if(l)var Z=p?l(j,L,y,s,a,f):l(L,j,y,a,s,f);if(Z!==void 0){if(Z)continue;S=!1;break}if(A){if(!t(s,function(M,I){if(!n(A,I)&&(L===M||c(L,M,u,l,f)))return A.push(I)})){S=!1;break}}else if(!(L===j||c(L,j,u,l,f))){S=!1;break}}return f.delete(a),f.delete(s),S}return Mp=i,Mp}var Dp,Tb;function yq(){if(Tb)return Dp;Tb=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(o,i){r[++n]=[i,o]}),r}return Dp=e,Dp}var Fp,Mb;function Im(){if(Mb)return Fp;Mb=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(o){r[++n]=o}),r}return Fp=e,Fp}var jp,Db;function bq(){if(Db)return jp;Db=1;var e=fs(),t=g6(),n=ds(),r=E6(),o=yq(),i=Im(),a=1,s=2,u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Map]",p="[object Number]",h="[object RegExp]",g="[object Set]",b="[object String]",w="[object Symbol]",y="[object ArrayBuffer]",S="[object DataView]",A=e?e.prototype:void 0,L=A?A.valueOf:void 0;function j(Z,M,I,X,H,P,N){switch(I){case S:if(Z.byteLength!=M.byteLength||Z.byteOffset!=M.byteOffset)return!1;Z=Z.buffer,M=M.buffer;case y:return!(Z.byteLength!=M.byteLength||!P(new t(Z),new t(M)));case u:case l:case p:return n(+Z,+M);case c:return Z.name==M.name&&Z.message==M.message;case h:case b:return Z==M+"";case f:var V=o;case g:var _=X&a;if(V||(V=i),Z.size!=M.size&&!_)return!1;var F=N.get(Z);if(F)return F==M;X|=s,N.set(Z,M);var k=r(V(Z),V(M),X,H,P,N);return N.delete(Z),k;case w:if(L)return L.call(Z)==L.call(M)}return!1}return jp=j,jp}var $p,Fb;function _q(){if(Fb)return $p;Fb=1;var e=p6(),t=1,n=Object.prototype,r=n.hasOwnProperty;function o(i,a,s,u,l,c){var f=s&t,p=e(i),h=p.length,g=e(a),b=g.length;if(h!=b&&!f)return!1;for(var w=h;w--;){var y=p[w];if(!(f?y in a:r.call(a,y)))return!1}var S=c.get(i),A=c.get(a);if(S&&A)return S==a&&A==i;var L=!0;c.set(i,a),c.set(a,i);for(var j=f;++w<h;){y=p[w];var Z=i[y],M=a[y];if(u)var I=f?u(M,Z,y,a,i,c):u(Z,M,y,i,a,c);if(!(I===void 0?Z===M||l(Z,M,s,u,c):I)){L=!1;break}j||(j=y=="constructor")}if(L&&!j){var X=i.constructor,H=a.constructor;X!=H&&"constructor"in i&&"constructor"in a&&!(typeof X=="function"&&X instanceof X&&typeof H=="function"&&H instanceof H)&&(L=!1)}return c.delete(i),c.delete(a),L}return $p=o,$p}var Bp,jb;function wq(){if(jb)return Bp;jb=1;var e=nd(),t=E6(),n=bq(),r=_q(),o=ps(),i=_n(),a=hs(),s=Mu(),u=1,l="[object Arguments]",c="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function g(b,w,y,S,A,L){var j=i(b),Z=i(w),M=j?c:o(b),I=Z?c:o(w);M=M==l?f:M,I=I==l?f:I;var X=M==f,H=I==f,P=M==I;if(P&&a(b)){if(!a(w))return!1;j=!0,X=!1}if(P&&!X)return L||(L=new e),j||s(b)?t(b,w,y,S,A,L):n(b,w,M,y,S,A,L);if(!(y&u)){var N=X&&h.call(b,"__wrapped__"),V=H&&h.call(w,"__wrapped__");if(N||V){var _=N?b.value():b,F=V?w.value():w;return L||(L=new e),A(_,F,y,S,L)}}return P?(L||(L=new e),r(b,w,y,S,A,L)):!1}return Bp=g,Bp}var zp,$b;function P6(){if($b)return zp;$b=1;var e=wq(),t=_o();function n(r,o,i,a,s){return r===o?!0:r==null||o==null||!t(r)&&!t(o)?r!==r&&o!==o:e(r,o,i,a,n,s)}return zp=n,zp}var Gp,Bb;function xq(){if(Bb)return Gp;Bb=1;var e=nd(),t=P6(),n=1,r=2;function o(i,a,s,u){var l=s.length,c=l,f=!u;if(i==null)return!c;for(i=Object(i);l--;){var p=s[l];if(f&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++l<c;){p=s[l];var h=p[0],g=i[h],b=p[1];if(f&&p[2]){if(g===void 0&&!(h in i))return!1}else{var w=new e;if(u)var y=u(g,b,h,i,a,w);if(!(y===void 0?t(b,g,n|r,u,w):y))return!1}}return!0}return Gp=o,Gp}var Up,zb;function I6(){if(zb)return Up;zb=1;var e=Ar();function t(n){return n===n&&!e(n)}return Up=t,Up}var Vp,Gb;function Sq(){if(Gb)return Vp;Gb=1;var e=I6(),t=Ei();function n(r){for(var o=t(r),i=o.length;i--;){var a=o[i],s=r[a];o[i]=[a,s,e(s)]}return o}return Vp=n,Vp}var Hp,Ub;function L6(){if(Ub)return Hp;Ub=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Hp=e,Hp}var Wp,Vb;function Aq(){if(Vb)return Wp;Vb=1;var e=xq(),t=Sq(),n=L6();function r(o){var i=t(o);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(a){return a===o||e(a,o,i)}}return Wp=r,Wp}var Yp,Hb;function vs(){if(Hb)return Yp;Hb=1;var e=ia(),t=_o(),n="[object Symbol]";function r(o){return typeof o=="symbol"||t(o)&&e(o)==n}return Yp=r,Yp}var Xp,Wb;function Lm(){if(Wb)return Xp;Wb=1;var e=_n(),t=vs(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function o(i,a){if(e(i))return!1;var s=typeof i;return s=="number"||s=="symbol"||s=="boolean"||i==null||t(i)?!0:r.test(i)||!n.test(i)||a!=null&&i in Object(a)}return Xp=o,Xp}var Kp,Yb;function Nq(){if(Yb)return Kp;Yb=1;var e=mm(),t="Expected a function";function n(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var i=function(){var a=arguments,s=o?o.apply(this,a):a[0],u=i.cache;if(u.has(s))return u.get(s);var l=r.apply(this,a);return i.cache=u.set(s,l)||u,l};return i.cache=new(n.Cache||e),i}return n.Cache=e,Kp=n,Kp}var Zp,Xb;function Eq(){if(Xb)return Zp;Xb=1;var e=Nq(),t=500;function n(r){var o=e(r,function(a){return i.size===t&&i.clear(),a}),i=o.cache;return o}return Zp=n,Zp}var Jp,Kb;function Pq(){if(Kb)return Jp;Kb=1;var e=Eq(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(o){var i=[];return o.charCodeAt(0)===46&&i.push(""),o.replace(t,function(a,s,u,l){i.push(u?l.replace(n,"$1"):s||a)}),i});return Jp=r,Jp}var Qp,Zb;function cd(){if(Zb)return Qp;Zb=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,i=Array(o);++r<o;)i[r]=n(t[r],r,t);return i}return Qp=e,Qp}var e1,Jb;function Iq(){if(Jb)return e1;Jb=1;var e=fs(),t=cd(),n=_n(),r=vs(),o=e?e.prototype:void 0,i=o?o.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return i?i.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return e1=a,e1}var t1,Qb;function C6(){if(Qb)return t1;Qb=1;var e=Iq();function t(n){return n==null?"":e(n)}return t1=t,t1}var n1,e_;function dd(){if(e_)return n1;e_=1;var e=_n(),t=Lm(),n=Pq(),r=C6();function o(i,a){return e(i)?i:t(i,a)?[i]:n(r(i))}return n1=o,n1}var r1,t_;function Du(){if(t_)return r1;t_=1;var e=vs();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return r1=t,r1}var o1,n_;function fd(){if(n_)return o1;n_=1;var e=dd(),t=Du();function n(r,o){o=e(o,r);for(var i=0,a=o.length;r!=null&&i<a;)r=r[t(o[i++])];return i&&i==a?r:void 0}return o1=n,o1}var i1,r_;function Lq(){if(r_)return i1;r_=1;var e=fd();function t(n,r,o){var i=n==null?void 0:e(n,r);return i===void 0?o:i}return i1=t,i1}var a1,o_;function Cq(){if(o_)return a1;o_=1;function e(t,n){return t!=null&&n in Object(t)}return a1=e,a1}var s1,i_;function O6(){if(i_)return s1;i_=1;var e=dd(),t=Tu(),n=_n(),r=id(),o=bm(),i=Du();function a(s,u,l){u=e(u,s);for(var c=-1,f=u.length,p=!1;++c<f;){var h=i(u[c]);if(!(p=s!=null&&l(s,h)))break;s=s[h]}return p||++c!=f?p:(f=s==null?0:s.length,!!f&&o(f)&&r(h,f)&&(n(s)||t(s)))}return s1=a,s1}var u1,a_;function k6(){if(a_)return u1;a_=1;var e=Cq(),t=O6();function n(r,o){return r!=null&&t(r,o,e)}return u1=n,u1}var l1,s_;function Oq(){if(s_)return l1;s_=1;var e=P6(),t=Lq(),n=k6(),r=Lm(),o=I6(),i=L6(),a=Du(),s=1,u=2;function l(c,f){return r(c)&&o(f)?i(a(c),f):function(p){var h=t(p,c);return h===void 0&&h===f?n(p,c):e(f,h,s|u)}}return l1=l,l1}var c1,u_;function R6(){if(u_)return c1;u_=1;function e(t){return function(n){return n==null?void 0:n[t]}}return c1=e,c1}var d1,l_;function kq(){if(l_)return d1;l_=1;var e=fd();function t(n){return function(r){return e(r,n)}}return d1=t,d1}var f1,c_;function Rq(){if(c_)return f1;c_=1;var e=R6(),t=kq(),n=Lm(),r=Du();function o(i){return n(i)?e(r(i)):t(i)}return f1=o,f1}var h1,d_;function Vo(){if(d_)return h1;d_=1;var e=Aq(),t=Oq(),n=ua(),r=_n(),o=Rq();function i(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):o(a)}return h1=i,h1}var p1,f_;function q6(){if(f_)return p1;f_=1;var e=c6(),t=pq(),n=Vo(),r=_n();function o(i,a){var s=r(i)?e:t;return s(i,n(a,3))}return p1=o,p1}var v1,h_;function qq(){if(h_)return v1;h_=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,o){return r!=null&&t.call(r,o)}return v1=n,v1}var g1,p_;function T6(){if(p_)return g1;p_=1;var e=qq(),t=O6();function n(r,o){return r!=null&&t(r,o,e)}return g1=n,g1}var m1,v_;function Tq(){if(v_)return m1;v_=1;var e=wm(),t=ps(),n=Tu(),r=_n(),o=Uo(),i=hs(),a=sd(),s=Mu(),u="[object Map]",l="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function p(h){if(h==null)return!0;if(o(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||i(h)||s(h)||n(h)))return!h.length;var g=t(h);if(g==u||g==l)return!h.size;if(a(h))return!e(h).length;for(var b in h)if(f.call(h,b))return!1;return!0}return m1=p,m1}var y1,g_;function M6(){if(g_)return y1;g_=1;function e(t){return t===void 0}return y1=e,y1}var b1,m_;function D6(){if(m_)return b1;m_=1;var e=ld(),t=Uo();function n(r,o){var i=-1,a=t(r)?Array(r.length):[];return e(r,function(s,u,l){a[++i]=o(s,u,l)}),a}return b1=n,b1}var _1,y_;function F6(){if(y_)return _1;y_=1;var e=cd(),t=Vo(),n=D6(),r=_n();function o(i,a){var s=r(i)?e:n;return s(i,t(a,3))}return _1=o,_1}var w1,b_;function Mq(){if(b_)return w1;b_=1;function e(t,n,r,o){var i=-1,a=t==null?0:t.length;for(o&&a&&(r=t[++i]);++i<a;)r=n(r,t[i],i,t);return r}return w1=e,w1}var x1,__;function Dq(){if(__)return x1;__=1;function e(t,n,r,o,i){return i(t,function(a,s,u){r=o?(o=!1,a):n(r,a,s,u)}),r}return x1=e,x1}var S1,w_;function j6(){if(w_)return S1;w_=1;var e=Mq(),t=ld(),n=Vo(),r=Dq(),o=_n();function i(a,s,u){var l=o(a)?e:r,c=arguments.length<3;return l(a,n(s,4),u,c,t)}return S1=i,S1}var A1,x_;function Fq(){if(x_)return A1;x_=1;var e=ia(),t=_n(),n=_o(),r="[object String]";function o(i){return typeof i=="string"||!t(i)&&n(i)&&e(i)==r}return A1=o,A1}var N1,S_;function jq(){if(S_)return N1;S_=1;var e=R6(),t=e("length");return N1=t,N1}var E1,A_;function $q(){if(A_)return E1;A_=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=t+n+r,i="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+o+i+"]");function u(l){return s.test(l)}return E1=u,E1}var P1,N_;function Bq(){if(N_)return P1;N_=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=t+n+r,i="\\ufe0e\\ufe0f",a="["+e+"]",s="["+o+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+s+"|"+u+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=l+"?",b="["+i+"]?",w="(?:"+h+"(?:"+[c,f,p].join("|")+")"+b+g+")*",y=b+g+w,S="(?:"+[c+s+"?",s,f,p,a].join("|")+")",A=RegExp(u+"(?="+u+")|"+S+y,"g");function L(j){for(var Z=A.lastIndex=0;A.test(j);)++Z;return Z}return P1=L,P1}var I1,E_;function zq(){if(E_)return I1;E_=1;var e=jq(),t=$q(),n=Bq();function r(o){return t(o)?n(o):e(o)}return I1=r,I1}var L1,P_;function Gq(){if(P_)return L1;P_=1;var e=wm(),t=ps(),n=Uo(),r=Fq(),o=zq(),i="[object Map]",a="[object Set]";function s(u){if(u==null)return 0;if(n(u))return r(u)?o(u):u.length;var l=t(u);return l==i||l==a?u.size:e(u).length}return L1=s,L1}var C1,I_;function Uq(){if(I_)return C1;I_=1;var e=ym(),t=y6(),n=Pm(),r=Vo(),o=ud(),i=_n(),a=hs(),s=Ru(),u=Ar(),l=Mu();function c(f,p,h){var g=i(f),b=g||a(f)||l(f);if(p=r(p,4),h==null){var w=f&&f.constructor;b?h=g?new w:[]:u(f)?h=s(w)?t(o(f)):{}:h={}}return(b?e:n)(f,function(y,S,A){return p(h,y,S,A)}),h}return C1=c,C1}var O1,L_;function Vq(){if(L_)return O1;L_=1;var e=fs(),t=Tu(),n=_n(),r=e?e.isConcatSpreadable:void 0;function o(i){return n(i)||t(i)||!!(r&&i&&i[r])}return O1=o,O1}var k1,C_;function Cm(){if(C_)return k1;C_=1;var e=Sm(),t=Vq();function n(r,o,i,a,s){var u=-1,l=r.length;for(i||(i=t),s||(s=[]);++u<l;){var c=r[u];o>0&&i(c)?o>1?n(c,o-1,i,a,s):e(s,c):a||(s[s.length]=c)}return s}return k1=n,k1}var R1,O_;function Hq(){if(O_)return R1;O_=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return R1=e,R1}var q1,k_;function $6(){if(k_)return q1;k_=1;var e=Hq(),t=Math.max;function n(r,o,i){return o=t(o===void 0?r.length-1:o,0),function(){for(var a=arguments,s=-1,u=t(a.length-o,0),l=Array(u);++s<u;)l[s]=a[o+s];s=-1;for(var c=Array(o+1);++s<o;)c[s]=a[s];return c[o]=i(l),e(r,this,c)}}return q1=n,q1}var T1,R_;function Wq(){if(R_)return T1;R_=1;var e=Nm(),t=i6(),n=ua(),r=t?function(o,i){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return T1=r,T1}var M1,q_;function Yq(){if(q_)return M1;q_=1;var e=800,t=16,n=Date.now;function r(o){var i=0,a=0;return function(){var s=n(),u=t-(s-a);if(a=s,u>0){if(++i>=e)return arguments[0]}else i=0;return o.apply(void 0,arguments)}}return M1=r,M1}var D1,T_;function B6(){if(T_)return D1;T_=1;var e=Wq(),t=Yq(),n=t(e);return D1=n,D1}var F1,M_;function hd(){if(M_)return F1;M_=1;var e=ua(),t=$6(),n=B6();function r(o,i){return n(t(o,i,e),o+"")}return F1=r,F1}var j1,D_;function z6(){if(D_)return j1;D_=1;function e(t,n,r,o){for(var i=t.length,a=r+(o?1:-1);o?a--:++a<i;)if(n(t[a],a,t))return a;return-1}return j1=e,j1}var $1,F_;function Xq(){if(F_)return $1;F_=1;function e(t){return t!==t}return $1=e,$1}var B1,j_;function Kq(){if(j_)return B1;j_=1;function e(t,n,r){for(var o=r-1,i=t.length;++o<i;)if(t[o]===n)return o;return-1}return B1=e,B1}var z1,$_;function Zq(){if($_)return z1;$_=1;var e=z6(),t=Xq(),n=Kq();function r(o,i,a){return i===i?n(o,i,a):e(o,t,a)}return z1=r,z1}var G1,B_;function Jq(){if(B_)return G1;B_=1;var e=Zq();function t(n,r){var o=n==null?0:n.length;return!!o&&e(n,r,0)>-1}return G1=t,G1}var U1,z_;function Qq(){if(z_)return U1;z_=1;function e(t,n,r){for(var o=-1,i=t==null?0:t.length;++o<i;)if(r(n,t[o]))return!0;return!1}return U1=e,U1}var V1,G_;function eT(){if(G_)return V1;G_=1;function e(){}return V1=e,V1}var H1,U_;function tT(){if(U_)return H1;U_=1;var e=v6(),t=eT(),n=Im(),r=1/0,o=e&&1/n(new e([,-0]))[1]==r?function(i){return new e(i)}:t;return H1=o,H1}var W1,V_;function nT(){if(V_)return W1;V_=1;var e=A6(),t=Jq(),n=Qq(),r=N6(),o=tT(),i=Im(),a=200;function s(u,l,c){var f=-1,p=t,h=u.length,g=!0,b=[],w=b;if(c)g=!1,p=n;else if(h>=a){var y=l?null:o(u);if(y)return i(y);g=!1,p=r,w=new e}else w=l?[]:b;e:for(;++f<h;){var S=u[f],A=l?l(S):S;if(S=c||S!==0?S:0,g&&A===A){for(var L=w.length;L--;)if(w[L]===A)continue e;l&&w.push(A),b.push(S)}else p(w,A,c)||(w!==b&&w.push(A),b.push(S))}return b}return W1=s,W1}var Y1,H_;function G6(){if(H_)return Y1;H_=1;var e=Uo(),t=_o();function n(r){return t(r)&&e(r)}return Y1=n,Y1}var X1,W_;function rT(){if(W_)return X1;W_=1;var e=Cm(),t=hd(),n=nT(),r=G6(),o=t(function(i){return n(e(i,1,r,!0))});return X1=o,X1}var K1,Y_;function oT(){if(Y_)return K1;Y_=1;var e=cd();function t(n,r){return e(r,function(o){return n[o]})}return K1=t,K1}var Z1,X_;function U6(){if(X_)return Z1;X_=1;var e=oT(),t=Ei();function n(r){return r==null?[]:e(r,t(r))}return Z1=n,Z1}var J1,K_;function Nr(){if(K_)return J1;K_=1;var e;if(typeof vm=="function")try{e={clone:dq(),constant:Nm(),each:S6(),filter:q6(),has:T6(),isArray:_n(),isEmpty:Tq(),isFunction:Ru(),isUndefined:M6(),keys:Ei(),map:F6(),reduce:j6(),size:Gq(),transform:Uq(),union:rT(),values:U6()}}catch{}return e||(e=window._),J1=e,J1}var Q1,Z_;function Om(){if(Z_)return Q1;Z_=1;var e=Nr();Q1=o;var t="\0",n="\0",r="";function o(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(c){return this._label=c,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return e.keys(this._nodes)},o.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},o.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},o.prototype.setNodes=function(c,f){var p=arguments,h=this;return e.each(c,function(g){p.length>1?h.setNode(g,f):h.setNode(g)}),this},o.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},o.prototype.node=function(c){return this._nodes[c]},o.prototype.hasNode=function(c){return e.has(this._nodes,c)},o.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var p=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){f.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),p),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),p),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},o.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var p=f;!e.isUndefined(p);p=this.parent(p))if(p===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},o.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},o.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},o.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},o.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},o.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},o.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},o.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},o.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var p=this;e.each(this._nodes,function(b,w){c(w)&&f.setNode(w,b)}),e.each(this._edgeObjs,function(b){f.hasNode(b.v)&&f.hasNode(b.w)&&f.setEdge(b,p.edge(b))});var h={};function g(b){var w=p.parent(b);return w===void 0||f.hasNode(w)?(h[b]=w,w):w in h?h[w]:g(w)}return this._isCompound&&e.each(f.nodes(),function(b){f.setParent(b,g(b))}),f},o.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return e.values(this._edgeObjs)},o.prototype.setPath=function(c,f){var p=this,h=arguments;return e.reduce(c,function(g,b){return h.length>1?p.setEdge(g,b,f):p.setEdge(g,b),b}),this},o.prototype.setEdge=function(){var c,f,p,h,g=!1,b=arguments[0];typeof b=="object"&&b!==null&&"v"in b?(c=b.v,f=b.w,p=b.name,arguments.length===2&&(h=arguments[1],g=!0)):(c=b,f=arguments[1],p=arguments[3],arguments.length>2&&(h=arguments[2],g=!0)),c=""+c,f=""+f,e.isUndefined(p)||(p=""+p);var w=s(this._isDirected,c,f,p);if(e.has(this._edgeLabels,w))return g&&(this._edgeLabels[w]=h),this;if(!e.isUndefined(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[w]=g?h:this._defaultEdgeLabelFn(c,f,p);var y=u(this._isDirected,c,f,p);return c=y.v,f=y.w,Object.freeze(y),this._edgeObjs[w]=y,i(this._preds[f],c),i(this._sucs[c],f),this._in[f][w]=y,this._out[c][w]=y,this._edgeCount++,this},o.prototype.edge=function(c,f,p){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,f,p);return this._edgeLabels[h]},o.prototype.hasEdge=function(c,f,p){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,f,p);return e.has(this._edgeLabels,h)},o.prototype.removeEdge=function(c,f,p){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,f,p),g=this._edgeObjs[h];return g&&(c=g.v,f=g.w,delete this._edgeLabels[h],delete this._edgeObjs[h],a(this._preds[f],c),a(this._sucs[c],f),delete this._in[f][h],delete this._out[c][h],this._edgeCount--),this},o.prototype.inEdges=function(c,f){var p=this._in[c];if(p){var h=e.values(p);return f?e.filter(h,function(g){return g.v===f}):h}},o.prototype.outEdges=function(c,f){var p=this._out[c];if(p){var h=e.values(p);return f?e.filter(h,function(g){return g.w===f}):h}},o.prototype.nodeEdges=function(c,f){var p=this.inEdges(c,f);if(p)return p.concat(this.outEdges(c,f))};function i(c,f){c[f]?c[f]++:c[f]=1}function a(c,f){--c[f]||delete c[f]}function s(c,f,p,h){var g=""+f,b=""+p;if(!c&&g>b){var w=g;g=b,b=w}return g+r+b+r+(e.isUndefined(h)?t:h)}function u(c,f,p,h){var g=""+f,b=""+p;if(!c&&g>b){var w=g;g=b,b=w}var y={v:g,w:b};return h&&(y.name=h),y}function l(c,f){return s(c,f.v,f.w,f.name)}return Q1}var ev,J_;function iT(){return J_||(J_=1,ev="2.1.8"),ev}var tv,Q_;function aT(){return Q_||(Q_=1,tv={Graph:Om(),version:iT()}),tv}var nv,ew;function sT(){if(ew)return nv;ew=1;var e=Nr(),t=Om();nv={write:n,read:i};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:o(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var u=a.node(s),l=a.parent(s),c={v:s};return e.isUndefined(u)||(c.value=u),e.isUndefined(l)||(c.parent=l),c})}function o(a){return e.map(a.edges(),function(s){var u=a.edge(s),l={v:s.v,w:s.w};return e.isUndefined(s.name)||(l.name=s.name),e.isUndefined(u)||(l.value=u),l})}function i(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),e.each(a.edges,function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return nv}var rv,tw;function uT(){if(tw)return rv;tw=1;var e=Nr();rv=t;function t(n){var r={},o=[],i;function a(s){e.has(r,s)||(r[s]=!0,i.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){i=[],a(s),i.length&&o.push(i)}),o}return rv}var ov,nw;function V6(){if(nw)return ov;nw=1;var e=Nr();ov=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var o=this._keyIndices;if(n=String(n),!e.has(o,n)){var i=this._arr,a=i.length;return o[n]=a,i.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var o=this._keyIndices[n];if(r>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[o].priority+" New: "+r);this._arr[o].priority=r,this._decrease(o)},t.prototype._heapify=function(n){var r=this._arr,o=2*n,i=o+1,a=n;o<r.length&&(a=r[o].priority<r[a].priority?o:a,i<r.length&&(a=r[i].priority<r[a].priority?i:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,o=r[n].priority,i;n!==0&&(i=n>>1,!(r[i].priority<o));)this._swap(n,i),n=i},t.prototype._swap=function(n,r){var o=this._arr,i=this._keyIndices,a=o[n],s=o[r];o[n]=s,o[r]=a,i[s.key]=n,i[a.key]=r},ov}var iv,rw;function H6(){if(rw)return iv;rw=1;var e=Nr(),t=V6();iv=r;var n=e.constant(1);function r(i,a,s,u){return o(i,String(a),s||n,u||function(l){return i.outEdges(l)})}function o(i,a,s,u){var l={},c=new t,f,p,h=function(g){var b=g.v!==f?g.v:g.w,w=l[b],y=s(g),S=p.distance+y;if(y<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+y);S<w.distance&&(w.distance=S,w.predecessor=f,c.decrease(b,S))};for(i.nodes().forEach(function(g){var b=g===a?0:Number.POSITIVE_INFINITY;l[g]={distance:b},c.add(g,b)});c.size()>0&&(f=c.removeMin(),p=l[f],p.distance!==Number.POSITIVE_INFINITY);)u(f).forEach(h);return l}return iv}var av,ow;function lT(){if(ow)return av;ow=1;var e=H6(),t=Nr();av=n;function n(r,o,i){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,o,i)},{})}return av}var sv,iw;function W6(){if(iw)return sv;iw=1;var e=Nr();sv=t;function t(n){var r=0,o=[],i={},a=[];function s(u){var l=i[u]={onStack:!0,lowlink:r,index:r++};if(o.push(u),n.successors(u).forEach(function(p){e.has(i,p)?i[p].onStack&&(l.lowlink=Math.min(l.lowlink,i[p].index)):(s(p),l.lowlink=Math.min(l.lowlink,i[p].lowlink))}),l.lowlink===l.index){var c=[],f;do f=o.pop(),i[f].onStack=!1,c.push(f);while(u!==f);a.push(c)}}return n.nodes().forEach(function(u){e.has(i,u)||s(u)}),a}return sv}var uv,aw;function cT(){if(aw)return uv;aw=1;var e=Nr(),t=W6();uv=n;function n(r){return e.filter(t(r),function(o){return o.length>1||o.length===1&&r.hasEdge(o[0],o[0])})}return uv}var lv,sw;function dT(){if(sw)return lv;sw=1;var e=Nr();lv=n;var t=e.constant(1);function n(o,i,a){return r(o,i||t,a||function(s){return o.outEdges(s)})}function r(o,i,a){var s={},u=o.nodes();return u.forEach(function(l){s[l]={},s[l][l]={distance:0},u.forEach(function(c){l!==c&&(s[l][c]={distance:Number.POSITIVE_INFINITY})}),a(l).forEach(function(c){var f=c.v===l?c.w:c.v,p=i(c);s[l][f]={distance:p,predecessor:l}})}),u.forEach(function(l){var c=s[l];u.forEach(function(f){var p=s[f];u.forEach(function(h){var g=p[l],b=c[h],w=p[h],y=g.distance+b.distance;y<w.distance&&(w.distance=y,w.predecessor=b.predecessor)})})}),s}return lv}var cv,uw;function Y6(){if(uw)return cv;uw=1;var e=Nr();cv=t,t.CycleException=n;function t(r){var o={},i={},a=[];function s(u){if(e.has(i,u))throw new n;e.has(o,u)||(i[u]=!0,o[u]=!0,e.each(r.predecessors(u),s),delete i[u],a.push(u))}if(e.each(r.sinks(),s),e.size(o)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,cv}var dv,lw;function fT(){if(lw)return dv;lw=1;var e=Y6();dv=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return dv}var fv,cw;function X6(){if(cw)return fv;cw=1;var e=Nr();fv=t;function t(r,o,i){e.isArray(o)||(o=[o]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],u={};return e.each(o,function(l){if(!r.hasNode(l))throw new Error("Graph does not have node: "+l);n(r,l,i==="post",u,a,s)}),s}function n(r,o,i,a,s,u){e.has(a,o)||(a[o]=!0,i||u.push(o),e.each(s(o),function(l){n(r,l,i,a,s,u)}),i&&u.push(o))}return fv}var hv,dw;function hT(){if(dw)return hv;dw=1;var e=X6();hv=t;function t(n,r){return e(n,r,"post")}return hv}var pv,fw;function pT(){if(fw)return pv;fw=1;var e=X6();pv=t;function t(n,r){return e(n,r,"pre")}return pv}var vv,hw;function vT(){if(hw)return vv;hw=1;var e=Nr(),t=Om(),n=V6();vv=r;function r(o,i){var a=new t,s={},u=new n,l;function c(p){var h=p.v===l?p.w:p.v,g=u.priority(h);if(g!==void 0){var b=i(p);b<g&&(s[h]=l,u.decrease(h,b))}}if(o.nodeCount()===0)return a;e.each(o.nodes(),function(p){u.add(p,Number.POSITIVE_INFINITY),a.setNode(p)}),u.decrease(o.nodes()[0],0);for(var f=!1;u.size()>0;){if(l=u.removeMin(),e.has(s,l))a.setEdge(l,s[l]);else{if(f)throw new Error("Input graph is not connected: "+o);f=!0}o.nodeEdges(l).forEach(c)}return a}return vv}var gv,pw;function gT(){return pw||(pw=1,gv={components:uT(),dijkstra:H6(),dijkstraAll:lT(),findCycles:cT(),floydWarshall:dT(),isAcyclic:fT(),postorder:hT(),preorder:pT(),prim:vT(),tarjan:W6(),topsort:Y6()}),gv}var mv,vw;function mT(){if(vw)return mv;vw=1;var e=aT();return mv={Graph:e.Graph,json:sT(),alg:gT(),version:e.version},mv}var yv,gw;function Hr(){if(gw)return yv;gw=1;var e;if(typeof vm=="function")try{e=mT()}catch{}return e||(e=window.graphlib),yv=e,yv}var bv,mw;function yT(){if(mw)return bv;mw=1;var e=_6(),t=1,n=4;function r(o){return e(o,t|n)}return bv=r,bv}var _v,yw;function pd(){if(yw)return _v;yw=1;var e=ds(),t=Uo(),n=id(),r=Ar();function o(i,a,s){if(!r(s))return!1;var u=typeof a;return(u=="number"?t(s)&&n(a,s.length):u=="string"&&a in s)?e(s[a],i):!1}return _v=o,_v}var wv,bw;function bT(){if(bw)return wv;bw=1;var e=hd(),t=ds(),n=pd(),r=sa(),o=Object.prototype,i=o.hasOwnProperty,a=e(function(s,u){s=Object(s);var l=-1,c=u.length,f=c>2?u[2]:void 0;for(f&&n(u[0],u[1],f)&&(c=1);++l<c;)for(var p=u[l],h=r(p),g=-1,b=h.length;++g<b;){var w=h[g],y=s[w];(y===void 0||t(y,o[w])&&!i.call(s,w))&&(s[w]=p[w])}return s});return wv=a,wv}var xv,_w;function _T(){if(_w)return xv;_w=1;var e=Vo(),t=Uo(),n=Ei();function r(o){return function(i,a,s){var u=Object(i);if(!t(i)){var l=e(a,3);i=n(i),a=function(f){return l(u[f],f,u)}}var c=o(i,a,s);return c>-1?u[l?i[c]:c]:void 0}}return xv=r,xv}var Sv,ww;function wT(){if(ww)return Sv;ww=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Sv=t,Sv}var Av,xw;function xT(){if(xw)return Av;xw=1;var e=wT(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Av=n,Av}var Nv,Sw;function ST(){if(Sw)return Nv;Sw=1;var e=xT(),t=Ar(),n=vs(),r=NaN,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function u(l){if(typeof l=="number")return l;if(n(l))return r;if(t(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=t(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=e(l);var f=i.test(l);return f||a.test(l)?s(l.slice(2),f?2:8):o.test(l)?r:+l}return Nv=u,Nv}var Ev,Aw;function K6(){if(Aw)return Ev;Aw=1;var e=ST(),t=1/0,n=17976931348623157e292;function r(o){if(!o)return o===0?o:0;if(o=e(o),o===t||o===-1/0){var i=o<0?-1:1;return i*n}return o===o?o:0}return Ev=r,Ev}var Pv,Nw;function AT(){if(Nw)return Pv;Nw=1;var e=K6();function t(n){var r=e(n),o=r%1;return r===r?o?r-o:r:0}return Pv=t,Pv}var Iv,Ew;function NT(){if(Ew)return Iv;Ew=1;var e=z6(),t=Vo(),n=AT(),r=Math.max;function o(i,a,s){var u=i==null?0:i.length;if(!u)return-1;var l=s==null?0:n(s);return l<0&&(l=r(u+l,0)),e(i,t(a,3),l)}return Iv=o,Iv}var Lv,Pw;function ET(){if(Pw)return Lv;Pw=1;var e=_T(),t=NT(),n=e(t);return Lv=n,Lv}var Cv,Iw;function Z6(){if(Iw)return Cv;Iw=1;var e=Cm();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Cv=t,Cv}var Ov,Lw;function PT(){if(Lw)return Ov;Lw=1;var e=Em(),t=w6(),n=sa();function r(o,i){return o==null?o:e(o,t(i),n)}return Ov=r,Ov}var kv,Cw;function IT(){if(Cw)return kv;Cw=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return kv=e,kv}var Rv,Ow;function LT(){if(Ow)return Rv;Ow=1;var e=rd(),t=Pm(),n=Vo();function r(o,i){var a={};return i=n(i,3),t(o,function(s,u,l){e(a,u,i(s,u,l))}),a}return Rv=r,Rv}var qv,kw;function km(){if(kw)return qv;kw=1;var e=vs();function t(n,r,o){for(var i=-1,a=n.length;++i<a;){var s=n[i],u=r(s);if(u!=null&&(l===void 0?u===u&&!e(u):o(u,l)))var l=u,c=s}return c}return qv=t,qv}var Tv,Rw;function CT(){if(Rw)return Tv;Rw=1;function e(t,n){return t>n}return Tv=e,Tv}var Mv,qw;function OT(){if(qw)return Mv;qw=1;var e=km(),t=CT(),n=ua();function r(o){return o&&o.length?e(o,n,t):void 0}return Mv=r,Mv}var Dv,Tw;function J6(){if(Tw)return Dv;Tw=1;var e=rd(),t=ds();function n(r,o,i){(i!==void 0&&!t(r[o],i)||i===void 0&&!(o in r))&&e(r,o,i)}return Dv=n,Dv}var Fv,Mw;function kT(){if(Mw)return Fv;Mw=1;var e=ia(),t=ud(),n=_o(),r="[object Object]",o=Function.prototype,i=Object.prototype,a=o.toString,s=i.hasOwnProperty,u=a.call(Object);function l(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var p=s.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&a.call(p)==u}return Fv=l,Fv}var jv,Dw;function Q6(){if(Dw)return jv;Dw=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return jv=e,jv}var $v,Fw;function RT(){if(Fw)return $v;Fw=1;var e=qu(),t=sa();function n(r){return e(r,t(r))}return $v=n,$v}var Bv,jw;function qT(){if(jw)return Bv;jw=1;var e=J6(),t=u6(),n=m6(),r=l6(),o=b6(),i=Tu(),a=_n(),s=G6(),u=hs(),l=Ru(),c=Ar(),f=kT(),p=Mu(),h=Q6(),g=RT();function b(w,y,S,A,L,j,Z){var M=h(w,S),I=h(y,S),X=Z.get(I);if(X){e(w,S,X);return}var H=j?j(M,I,S+"",w,y,Z):void 0,P=H===void 0;if(P){var N=a(I),V=!N&&u(I),_=!N&&!V&&p(I);H=I,N||V||_?a(M)?H=M:s(M)?H=r(M):V?(P=!1,H=t(I,!0)):_?(P=!1,H=n(I,!0)):H=[]:f(I)||i(I)?(H=M,i(M)?H=g(M):(!c(M)||l(M))&&(H=o(I))):P=!1}P&&(Z.set(I,H),L(H,I,A,j,Z),Z.delete(I)),e(w,S,H)}return Bv=b,Bv}var zv,$w;function TT(){if($w)return zv;$w=1;var e=nd(),t=J6(),n=Em(),r=qT(),o=Ar(),i=sa(),a=Q6();function s(u,l,c,f,p){u!==l&&n(l,function(h,g){if(p||(p=new e),o(h))r(u,l,g,c,s,f,p);else{var b=f?f(a(u,g),h,g+"",u,l,p):void 0;b===void 0&&(b=h),t(u,g,b)}},i)}return zv=s,zv}var Gv,Bw;function MT(){if(Bw)return Gv;Bw=1;var e=hd(),t=pd();function n(r){return e(function(o,i){var a=-1,s=i.length,u=s>1?i[s-1]:void 0,l=s>2?i[2]:void 0;for(u=r.length>3&&typeof u=="function"?(s--,u):void 0,l&&t(i[0],i[1],l)&&(u=s<3?void 0:u,s=1),o=Object(o);++a<s;){var c=i[a];c&&r(o,c,a,u)}return o})}return Gv=n,Gv}var Uv,zw;function DT(){if(zw)return Uv;zw=1;var e=TT(),t=MT(),n=t(function(r,o,i){e(r,o,i)});return Uv=n,Uv}var Vv,Gw;function eS(){if(Gw)return Vv;Gw=1;function e(t,n){return t<n}return Vv=e,Vv}var Hv,Uw;function FT(){if(Uw)return Hv;Uw=1;var e=km(),t=eS(),n=ua();function r(o){return o&&o.length?e(o,n,t):void 0}return Hv=r,Hv}var Wv,Vw;function jT(){if(Vw)return Wv;Vw=1;var e=km(),t=Vo(),n=eS();function r(o,i){return o&&o.length?e(o,t(i,2),n):void 0}return Wv=r,Wv}var Yv,Hw;function $T(){if(Hw)return Yv;Hw=1;var e=Xr(),t=function(){return e.Date.now()};return Yv=t,Yv}var Xv,Ww;function BT(){if(Ww)return Xv;Ww=1;var e=od(),t=dd(),n=id(),r=Ar(),o=Du();function i(a,s,u,l){if(!r(a))return a;s=t(s,a);for(var c=-1,f=s.length,p=f-1,h=a;h!=null&&++c<f;){var g=o(s[c]),b=u;if(g==="__proto__"||g==="constructor"||g==="prototype")return a;if(c!=p){var w=h[g];b=l?l(w,g,h):void 0,b===void 0&&(b=r(w)?w:n(s[c+1])?[]:{})}e(h,g,b),h=h[g]}return a}return Xv=i,Xv}var Kv,Yw;function zT(){if(Yw)return Kv;Yw=1;var e=fd(),t=BT(),n=dd();function r(o,i,a){for(var s=-1,u=i.length,l={};++s<u;){var c=i[s],f=e(o,c);a(f,c)&&t(l,n(c,o),f)}return l}return Kv=r,Kv}var Zv,Xw;function GT(){if(Xw)return Zv;Xw=1;var e=zT(),t=k6();function n(r,o){return e(r,o,function(i,a){return t(r,a)})}return Zv=n,Zv}var Jv,Kw;function UT(){if(Kw)return Jv;Kw=1;var e=Z6(),t=$6(),n=B6();function r(o){return n(t(o,void 0,e),o+"")}return Jv=r,Jv}var Qv,Zw;function VT(){if(Zw)return Qv;Zw=1;var e=GT(),t=UT(),n=t(function(r,o){return r==null?{}:e(r,o)});return Qv=n,Qv}var eg,Jw;function HT(){if(Jw)return eg;Jw=1;var e=Math.ceil,t=Math.max;function n(r,o,i,a){for(var s=-1,u=t(e((o-r)/(i||1)),0),l=Array(u);u--;)l[a?u:++s]=r,r+=i;return l}return eg=n,eg}var tg,Qw;function WT(){if(Qw)return tg;Qw=1;var e=HT(),t=pd(),n=K6();function r(o){return function(i,a,s){return s&&typeof s!="number"&&t(i,a,s)&&(a=s=void 0),i=n(i),a===void 0?(a=i,i=0):a=n(a),s=s===void 0?i<a?1:-1:n(s),e(i,a,s,o)}}return tg=r,tg}var ng,e3;function YT(){if(e3)return ng;e3=1;var e=WT(),t=e();return ng=t,ng}var rg,t3;function XT(){if(t3)return rg;t3=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return rg=e,rg}var og,n3;function KT(){if(n3)return og;n3=1;var e=vs();function t(n,r){if(n!==r){var o=n!==void 0,i=n===null,a=n===n,s=e(n),u=r!==void 0,l=r===null,c=r===r,f=e(r);if(!l&&!f&&!s&&n>r||s&&u&&c&&!l&&!f||i&&u&&c||!o&&c||!a)return 1;if(!i&&!s&&!f&&n<r||f&&o&&a&&!i&&!s||l&&o&&a||!u&&a||!c)return-1}return 0}return og=t,og}var ig,r3;function ZT(){if(r3)return ig;r3=1;var e=KT();function t(n,r,o){for(var i=-1,a=n.criteria,s=r.criteria,u=a.length,l=o.length;++i<u;){var c=e(a[i],s[i]);if(c){if(i>=l)return c;var f=o[i];return c*(f=="desc"?-1:1)}}return n.index-r.index}return ig=t,ig}var ag,o3;function JT(){if(o3)return ag;o3=1;var e=cd(),t=fd(),n=Vo(),r=D6(),o=XT(),i=ad(),a=ZT(),s=ua(),u=_n();function l(c,f,p){f.length?f=e(f,function(b){return u(b)?function(w){return t(w,b.length===1?b[0]:b)}:b}):f=[s];var h=-1;f=e(f,i(n));var g=r(c,function(b,w,y){var S=e(f,function(A){return A(b)});return{criteria:S,index:++h,value:b}});return o(g,function(b,w){return a(b,w,p)})}return ag=l,ag}var sg,i3;function QT(){if(i3)return sg;i3=1;var e=Cm(),t=JT(),n=hd(),r=pd(),o=n(function(i,a){if(i==null)return[];var s=a.length;return s>1&&r(i,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(i,e(a,1),[])});return sg=o,sg}var ug,a3;function eM(){if(a3)return ug;a3=1;var e=C6(),t=0;function n(r){var o=++t;return e(r)+o}return ug=n,ug}var lg,s3;function tM(){if(s3)return lg;s3=1;function e(t,n,r){for(var o=-1,i=t.length,a=n.length,s={};++o<i;){var u=o<a?n[o]:void 0;r(s,t[o],u)}return s}return lg=e,lg}var cg,u3;function nM(){if(u3)return cg;u3=1;var e=od(),t=tM();function n(r,o){return t(r||[],o||[],e)}return cg=n,cg}var dg,l3;function Jt(){if(l3)return dg;l3=1;var e;if(typeof vm=="function")try{e={cloneDeep:yT(),constant:Nm(),defaults:bT(),each:S6(),filter:q6(),find:ET(),flatten:Z6(),forEach:x6(),forIn:PT(),has:T6(),isUndefined:M6(),last:IT(),map:F6(),mapValues:LT(),max:OT(),merge:DT(),min:FT(),minBy:jT(),now:$T(),pick:VT(),range:YT(),reduce:j6(),sortBy:QT(),uniqueId:eM(),values:U6(),zipObject:nM()}}catch{}return e||(e=window._),dg=e,dg}var fg,c3;function rM(){if(c3)return fg;c3=1,fg=e;function e(){var r={};r._next=r._prev=r,this._sentinel=r}e.prototype.dequeue=function(){var r=this._sentinel,o=r._prev;if(o!==r)return t(o),o},e.prototype.enqueue=function(r){var o=this._sentinel;r._prev&&r._next&&t(r),r._next=o._next,o._next._prev=r,o._next=r,r._prev=o},e.prototype.toString=function(){for(var r=[],o=this._sentinel,i=o._prev;i!==o;)r.push(JSON.stringify(i,n)),i=i._prev;return"["+r.join(", ")+"]"};function t(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,o){if(r!=="_next"&&r!=="_prev")return o}return fg}var hg,d3;function oM(){if(d3)return hg;d3=1;var e=Jt(),t=Hr().Graph,n=rM();hg=o;var r=e.constant(1);function o(l,c){if(l.nodeCount()<=1)return[];var f=s(l,c||r),p=i(f.graph,f.buckets,f.zeroIdx);return e.flatten(e.map(p,function(h){return l.outEdges(h.v,h.w)}),!0)}function i(l,c,f){for(var p=[],h=c[c.length-1],g=c[0],b;l.nodeCount();){for(;b=g.dequeue();)a(l,c,f,b);for(;b=h.dequeue();)a(l,c,f,b);if(l.nodeCount()){for(var w=c.length-2;w>0;--w)if(b=c[w].dequeue(),b){p=p.concat(a(l,c,f,b,!0));break}}}return p}function a(l,c,f,p,h){var g=h?[]:void 0;return e.forEach(l.inEdges(p.v),function(b){var w=l.edge(b),y=l.node(b.v);h&&g.push({v:b.v,w:b.w}),y.out-=w,u(c,f,y)}),e.forEach(l.outEdges(p.v),function(b){var w=l.edge(b),y=b.w,S=l.node(y);S.in-=w,u(c,f,S)}),l.removeNode(p.v),g}function s(l,c){var f=new t,p=0,h=0;e.forEach(l.nodes(),function(w){f.setNode(w,{v:w,in:0,out:0})}),e.forEach(l.edges(),function(w){var y=f.edge(w.v,w.w)||0,S=c(w),A=y+S;f.setEdge(w.v,w.w,A),h=Math.max(h,f.node(w.v).out+=S),p=Math.max(p,f.node(w.w).in+=S)});var g=e.range(h+p+3).map(function(){return new n}),b=p+1;return e.forEach(f.nodes(),function(w){u(g,b,f.node(w))}),{graph:f,buckets:g,zeroIdx:b}}function u(l,c,f){f.out?f.in?l[f.out-f.in+c].enqueue(f):l[l.length-1].enqueue(f):l[0].enqueue(f)}return hg}var pg,f3;function iM(){if(f3)return pg;f3=1;var e=Jt(),t=oM();pg={run:n,undo:o};function n(i){var a=i.graph().acyclicer==="greedy"?t(i,s(i)):r(i);e.forEach(a,function(u){var l=i.edge(u);i.removeEdge(u),l.forwardName=u.name,l.reversed=!0,i.setEdge(u.w,u.v,l,e.uniqueId("rev"))});function s(u){return function(l){return u.edge(l).weight}}}function r(i){var a=[],s={},u={};function l(c){e.has(u,c)||(u[c]=!0,s[c]=!0,e.forEach(i.outEdges(c),function(f){e.has(s,f.w)?a.push(f):l(f.w)}),delete s[c])}return e.forEach(i.nodes(),l),a}function o(i){e.forEach(i.edges(),function(a){var s=i.edge(a);if(s.reversed){i.removeEdge(a);var u=s.forwardName;delete s.reversed,delete s.forwardName,i.setEdge(a.w,a.v,s,u)}})}return pg}var vg,h3;function tr(){if(h3)return vg;h3=1;var e=Jt(),t=Hr().Graph;vg={addDummyNode:n,simplify:r,asNonCompoundGraph:o,successorWeights:i,predecessorWeights:a,intersectRect:s,buildLayerMatrix:u,normalizeRanks:l,removeEmptyRanks:c,addBorderNode:f,maxRank:p,partition:h,time:g,notime:b};function n(w,y,S,A){var L;do L=e.uniqueId(A);while(w.hasNode(L));return S.dummy=y,w.setNode(L,S),L}function r(w){var y=new t().setGraph(w.graph());return e.forEach(w.nodes(),function(S){y.setNode(S,w.node(S))}),e.forEach(w.edges(),function(S){var A=y.edge(S.v,S.w)||{weight:0,minlen:1},L=w.edge(S);y.setEdge(S.v,S.w,{weight:A.weight+L.weight,minlen:Math.max(A.minlen,L.minlen)})}),y}function o(w){var y=new t({multigraph:w.isMultigraph()}).setGraph(w.graph());return e.forEach(w.nodes(),function(S){w.children(S).length||y.setNode(S,w.node(S))}),e.forEach(w.edges(),function(S){y.setEdge(S,w.edge(S))}),y}function i(w){var y=e.map(w.nodes(),function(S){var A={};return e.forEach(w.outEdges(S),function(L){A[L.w]=(A[L.w]||0)+w.edge(L).weight}),A});return e.zipObject(w.nodes(),y)}function a(w){var y=e.map(w.nodes(),function(S){var A={};return e.forEach(w.inEdges(S),function(L){A[L.v]=(A[L.v]||0)+w.edge(L).weight}),A});return e.zipObject(w.nodes(),y)}function s(w,y){var S=w.x,A=w.y,L=y.x-S,j=y.y-A,Z=w.width/2,M=w.height/2;if(!L&&!j)throw new Error("Not possible to find intersection inside of the rectangle");var I,X;return Math.abs(j)*Z>Math.abs(L)*M?(j<0&&(M=-M),I=M*L/j,X=M):(L<0&&(Z=-Z),I=Z,X=Z*j/L),{x:S+I,y:A+X}}function u(w){var y=e.map(e.range(p(w)+1),function(){return[]});return e.forEach(w.nodes(),function(S){var A=w.node(S),L=A.rank;e.isUndefined(L)||(y[L][A.order]=S)}),y}function l(w){var y=e.min(e.map(w.nodes(),function(S){return w.node(S).rank}));e.forEach(w.nodes(),function(S){var A=w.node(S);e.has(A,"rank")&&(A.rank-=y)})}function c(w){var y=e.min(e.map(w.nodes(),function(j){return w.node(j).rank})),S=[];e.forEach(w.nodes(),function(j){var Z=w.node(j).rank-y;S[Z]||(S[Z]=[]),S[Z].push(j)});var A=0,L=w.graph().nodeRankFactor;e.forEach(S,function(j,Z){e.isUndefined(j)&&Z%L!==0?--A:A&&e.forEach(j,function(M){w.node(M).rank+=A})})}function f(w,y,S,A){var L={width:0,height:0};return arguments.length>=4&&(L.rank=S,L.order=A),n(w,"border",L,y)}function p(w){return e.max(e.map(w.nodes(),function(y){var S=w.node(y).rank;if(!e.isUndefined(S))return S}))}function h(w,y){var S={lhs:[],rhs:[]};return e.forEach(w,function(A){y(A)?S.lhs.push(A):S.rhs.push(A)}),S}function g(w,y){var S=e.now();try{return y()}finally{console.log(w+" time: "+(e.now()-S)+"ms")}}function b(w,y){return y()}return vg}var gg,p3;function aM(){if(p3)return gg;p3=1;var e=Jt(),t=tr();gg={run:n,undo:o};function n(i){i.graph().dummyChains=[],e.forEach(i.edges(),function(a){r(i,a)})}function r(i,a){var s=a.v,u=i.node(s).rank,l=a.w,c=i.node(l).rank,f=a.name,p=i.edge(a),h=p.labelRank;if(c!==u+1){i.removeEdge(a);var g,b,w;for(w=0,++u;u<c;++w,++u)p.points=[],b={width:0,height:0,edgeLabel:p,edgeObj:a,rank:u},g=t.addDummyNode(i,"edge",b,"_d"),u===h&&(b.width=p.width,b.height=p.height,b.dummy="edge-label",b.labelpos=p.labelpos),i.setEdge(s,g,{weight:p.weight},f),w===0&&i.graph().dummyChains.push(g),s=g;i.setEdge(s,l,{weight:p.weight},f)}}function o(i){e.forEach(i.graph().dummyChains,function(a){var s=i.node(a),u=s.edgeLabel,l;for(i.setEdge(s.edgeObj,u);s.dummy;)l=i.successors(a)[0],i.removeNode(a),u.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(u.x=s.x,u.y=s.y,u.width=s.width,u.height=s.height),a=l,s=i.node(a)})}return gg}var mg,v3;function Cc(){if(v3)return mg;v3=1;var e=Jt();mg={longestPath:t,slack:n};function t(r){var o={};function i(a){var s=r.node(a);if(e.has(o,a))return s.rank;o[a]=!0;var u=e.min(e.map(r.outEdges(a),function(l){return i(l.w)-r.edge(l).minlen}));return(u===Number.POSITIVE_INFINITY||u===void 0||u===null)&&(u=0),s.rank=u}e.forEach(r.sources(),i)}function n(r,o){return r.node(o.w).rank-r.node(o.v).rank-r.edge(o).minlen}return mg}var yg,g3;function tS(){if(g3)return yg;g3=1;var e=Jt(),t=Hr().Graph,n=Cc().slack;yg=r;function r(s){var u=new t({directed:!1}),l=s.nodes()[0],c=s.nodeCount();u.setNode(l,{});for(var f,p;o(u,s)<c;)f=i(u,s),p=u.hasNode(f.v)?n(s,f):-n(s,f),a(u,s,p);return u}function o(s,u){function l(c){e.forEach(u.nodeEdges(c),function(f){var p=f.v,h=c===p?f.w:p;!s.hasNode(h)&&!n(u,f)&&(s.setNode(h,{}),s.setEdge(c,h,{}),l(h))})}return e.forEach(s.nodes(),l),s.nodeCount()}function i(s,u){return e.minBy(u.edges(),function(l){if(s.hasNode(l.v)!==s.hasNode(l.w))return n(u,l)})}function a(s,u,l){e.forEach(s.nodes(),function(c){u.node(c).rank+=l})}return yg}var bg,m3;function sM(){if(m3)return bg;m3=1;var e=Jt(),t=tS(),n=Cc().slack,r=Cc().longestPath,o=Hr().alg.preorder,i=Hr().alg.postorder,a=tr().simplify;bg=s,s.initLowLimValues=f,s.initCutValues=u,s.calcCutValue=c,s.leaveEdge=h,s.enterEdge=g,s.exchangeEdges=b;function s(A){A=a(A),r(A);var L=t(A);f(L),u(L,A);for(var j,Z;j=h(L);)Z=g(L,A,j),b(L,A,j,Z)}function u(A,L){var j=i(A,A.nodes());j=j.slice(0,j.length-1),e.forEach(j,function(Z){l(A,L,Z)})}function l(A,L,j){var Z=A.node(j),M=Z.parent;A.edge(j,M).cutvalue=c(A,L,j)}function c(A,L,j){var Z=A.node(j),M=Z.parent,I=!0,X=L.edge(j,M),H=0;return X||(I=!1,X=L.edge(M,j)),H=X.weight,e.forEach(L.nodeEdges(j),function(P){var N=P.v===j,V=N?P.w:P.v;if(V!==M){var _=N===I,F=L.edge(P).weight;if(H+=_?F:-F,y(A,j,V)){var k=A.edge(j,V).cutvalue;H+=_?-k:k}}}),H}function f(A,L){arguments.length<2&&(L=A.nodes()[0]),p(A,{},1,L)}function p(A,L,j,Z,M){var I=j,X=A.node(Z);return L[Z]=!0,e.forEach(A.neighbors(Z),function(H){e.has(L,H)||(j=p(A,L,j,H,Z))}),X.low=I,X.lim=j++,M?X.parent=M:delete X.parent,j}function h(A){return e.find(A.edges(),function(L){return A.edge(L).cutvalue<0})}function g(A,L,j){var Z=j.v,M=j.w;L.hasEdge(Z,M)||(Z=j.w,M=j.v);var I=A.node(Z),X=A.node(M),H=I,P=!1;I.lim>X.lim&&(H=X,P=!0);var N=e.filter(L.edges(),function(V){return P===S(A,A.node(V.v),H)&&P!==S(A,A.node(V.w),H)});return e.minBy(N,function(V){return n(L,V)})}function b(A,L,j,Z){var M=j.v,I=j.w;A.removeEdge(M,I),A.setEdge(Z.v,Z.w,{}),f(A),u(A,L),w(A,L)}function w(A,L){var j=e.find(A.nodes(),function(M){return!L.node(M).parent}),Z=o(A,j);Z=Z.slice(1),e.forEach(Z,function(M){var I=A.node(M).parent,X=L.edge(M,I),H=!1;X||(X=L.edge(I,M),H=!0),L.node(M).rank=L.node(I).rank+(H?X.minlen:-X.minlen)})}function y(A,L,j){return A.hasEdge(L,j)}function S(A,L,j){return j.low<=L.lim&&L.lim<=j.lim}return bg}var _g,y3;function uM(){if(y3)return _g;y3=1;var e=Cc(),t=e.longestPath,n=tS(),r=sM();_g=o;function o(u){switch(u.graph().ranker){case"network-simplex":s(u);break;case"tight-tree":a(u);break;case"longest-path":i(u);break;default:s(u)}}var i=t;function a(u){t(u),n(u)}function s(u){r(u)}return _g}var wg,b3;function lM(){if(b3)return wg;b3=1;var e=Jt();wg=t;function t(o){var i=r(o);e.forEach(o.graph().dummyChains,function(a){for(var s=o.node(a),u=s.edgeObj,l=n(o,i,u.v,u.w),c=l.path,f=l.lca,p=0,h=c[p],g=!0;a!==u.w;){if(s=o.node(a),g){for(;(h=c[p])!==f&&o.node(h).maxRank<s.rank;)p++;h===f&&(g=!1)}if(!g){for(;p<c.length-1&&o.node(h=c[p+1]).minRank<=s.rank;)p++;h=c[p]}o.setParent(a,h),a=o.successors(a)[0]}})}function n(o,i,a,s){var u=[],l=[],c=Math.min(i[a].low,i[s].low),f=Math.max(i[a].lim,i[s].lim),p,h;p=a;do p=o.parent(p),u.push(p);while(p&&(i[p].low>c||f>i[p].lim));for(h=p,p=s;(p=o.parent(p))!==h;)l.push(p);return{path:u.concat(l.reverse()),lca:h}}function r(o){var i={},a=0;function s(u){var l=a;e.forEach(o.children(u),s),i[u]={low:l,lim:a++}}return e.forEach(o.children(),s),i}return wg}var xg,_3;function cM(){if(_3)return xg;_3=1;var e=Jt(),t=tr();xg={run:n,cleanup:a};function n(s){var u=t.addDummyNode(s,"root",{},"_root"),l=o(s),c=e.max(e.values(l))-1,f=2*c+1;s.graph().nestingRoot=u,e.forEach(s.edges(),function(h){s.edge(h).minlen*=f});var p=i(s)+1;e.forEach(s.children(),function(h){r(s,u,f,p,c,l,h)}),s.graph().nodeRankFactor=f}function r(s,u,l,c,f,p,h){var g=s.children(h);if(!g.length){h!==u&&s.setEdge(u,h,{weight:0,minlen:l});return}var b=t.addBorderNode(s,"_bt"),w=t.addBorderNode(s,"_bb"),y=s.node(h);s.setParent(b,h),y.borderTop=b,s.setParent(w,h),y.borderBottom=w,e.forEach(g,function(S){r(s,u,l,c,f,p,S);var A=s.node(S),L=A.borderTop?A.borderTop:S,j=A.borderBottom?A.borderBottom:S,Z=A.borderTop?c:2*c,M=L!==j?1:f-p[h]+1;s.setEdge(b,L,{weight:Z,minlen:M,nestingEdge:!0}),s.setEdge(j,w,{weight:Z,minlen:M,nestingEdge:!0})}),s.parent(h)||s.setEdge(u,b,{weight:0,minlen:f+p[h]})}function o(s){var u={};function l(c,f){var p=s.children(c);p&&p.length&&e.forEach(p,function(h){l(h,f+1)}),u[c]=f}return e.forEach(s.children(),function(c){l(c,1)}),u}function i(s){return e.reduce(s.edges(),function(u,l){return u+s.edge(l).weight},0)}function a(s){var u=s.graph();s.removeNode(u.nestingRoot),delete u.nestingRoot,e.forEach(s.edges(),function(l){var c=s.edge(l);c.nestingEdge&&s.removeEdge(l)})}return xg}var Sg,w3;function dM(){if(w3)return Sg;w3=1;var e=Jt(),t=tr();Sg=n;function n(o){function i(a){var s=o.children(a),u=o.node(a);if(s.length&&e.forEach(s,i),e.has(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(var l=u.minRank,c=u.maxRank+1;l<c;++l)r(o,"borderLeft","_bl",a,u,l),r(o,"borderRight","_br",a,u,l)}}e.forEach(o.children(),i)}function r(o,i,a,s,u,l){var c={width:0,height:0,rank:l,borderType:i},f=u[i][l-1],p=t.addDummyNode(o,"border",c,a);u[i][l]=p,o.setParent(p,s),f&&o.setEdge(f,p,{weight:1})}return Sg}var Ag,x3;function fM(){if(x3)return Ag;x3=1;var e=Jt();Ag={adjust:t,undo:n};function t(l){var c=l.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&r(l)}function n(l){var c=l.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&i(l),(c==="lr"||c==="rl")&&(s(l),r(l))}function r(l){e.forEach(l.nodes(),function(c){o(l.node(c))}),e.forEach(l.edges(),function(c){o(l.edge(c))})}function o(l){var c=l.width;l.width=l.height,l.height=c}function i(l){e.forEach(l.nodes(),function(c){a(l.node(c))}),e.forEach(l.edges(),function(c){var f=l.edge(c);e.forEach(f.points,a),e.has(f,"y")&&a(f)})}function a(l){l.y=-l.y}function s(l){e.forEach(l.nodes(),function(c){u(l.node(c))}),e.forEach(l.edges(),function(c){var f=l.edge(c);e.forEach(f.points,u),e.has(f,"x")&&u(f)})}function u(l){var c=l.x;l.x=l.y,l.y=c}return Ag}var Ng,S3;function hM(){if(S3)return Ng;S3=1;var e=Jt();Ng=t;function t(n){var r={},o=e.filter(n.nodes(),function(l){return!n.children(l).length}),i=e.max(e.map(o,function(l){return n.node(l).rank})),a=e.map(e.range(i+1),function(){return[]});function s(l){if(!e.has(r,l)){r[l]=!0;var c=n.node(l);a[c.rank].push(l),e.forEach(n.successors(l),s)}}var u=e.sortBy(o,function(l){return n.node(l).rank});return e.forEach(u,s),a}return Ng}var Eg,A3;function pM(){if(A3)return Eg;A3=1;var e=Jt();Eg=t;function t(r,o){for(var i=0,a=1;a<o.length;++a)i+=n(r,o[a-1],o[a]);return i}function n(r,o,i){for(var a=e.zipObject(i,e.map(i,function(p,h){return h})),s=e.flatten(e.map(o,function(p){return e.sortBy(e.map(r.outEdges(p),function(h){return{pos:a[h.w],weight:r.edge(h).weight}}),"pos")}),!0),u=1;u<i.length;)u<<=1;var l=2*u-1;u-=1;var c=e.map(new Array(l),function(){return 0}),f=0;return e.forEach(s.forEach(function(p){var h=p.pos+u;c[h]+=p.weight;for(var g=0;h>0;)h%2&&(g+=c[h+1]),h=h-1>>1,c[h]+=p.weight;f+=p.weight*g})),f}return Eg}var Pg,N3;function vM(){if(N3)return Pg;N3=1;var e=Jt();Pg=t;function t(n,r){return e.map(r,function(o){var i=n.inEdges(o);if(i.length){var a=e.reduce(i,function(s,u){var l=n.edge(u),c=n.node(u.v);return{sum:s.sum+l.weight*c.order,weight:s.weight+l.weight}},{sum:0,weight:0});return{v:o,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:o}})}return Pg}var Ig,E3;function gM(){if(E3)return Ig;E3=1;var e=Jt();Ig=t;function t(o,i){var a={};e.forEach(o,function(u,l){var c=a[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:l};e.isUndefined(u.barycenter)||(c.barycenter=u.barycenter,c.weight=u.weight)}),e.forEach(i.edges(),function(u){var l=a[u.v],c=a[u.w];!e.isUndefined(l)&&!e.isUndefined(c)&&(c.indegree++,l.out.push(a[u.w]))});var s=e.filter(a,function(u){return!u.indegree});return n(s)}function n(o){var i=[];function a(l){return function(c){c.merged||(e.isUndefined(c.barycenter)||e.isUndefined(l.barycenter)||c.barycenter>=l.barycenter)&&r(l,c)}}function s(l){return function(c){c.in.push(l),--c.indegree===0&&o.push(c)}}for(;o.length;){var u=o.pop();i.push(u),e.forEach(u.in.reverse(),a(u)),e.forEach(u.out,s(u))}return e.map(e.filter(i,function(l){return!l.merged}),function(l){return e.pick(l,["vs","i","barycenter","weight"])})}function r(o,i){var a=0,s=0;o.weight&&(a+=o.barycenter*o.weight,s+=o.weight),i.weight&&(a+=i.barycenter*i.weight,s+=i.weight),o.vs=i.vs.concat(o.vs),o.barycenter=a/s,o.weight=s,o.i=Math.min(i.i,o.i),i.merged=!0}return Ig}var Lg,P3;function mM(){if(P3)return Lg;P3=1;var e=Jt(),t=tr();Lg=n;function n(i,a){var s=t.partition(i,function(b){return e.has(b,"barycenter")}),u=s.lhs,l=e.sortBy(s.rhs,function(b){return-b.i}),c=[],f=0,p=0,h=0;u.sort(o(!!a)),h=r(c,l,h),e.forEach(u,function(b){h+=b.vs.length,c.push(b.vs),f+=b.barycenter*b.weight,p+=b.weight,h=r(c,l,h)});var g={vs:e.flatten(c,!0)};return p&&(g.barycenter=f/p,g.weight=p),g}function r(i,a,s){for(var u;a.length&&(u=e.last(a)).i<=s;)a.pop(),i.push(u.vs),s++;return s}function o(i){return function(a,s){return a.barycenter<s.barycenter?-1:a.barycenter>s.barycenter?1:i?s.i-a.i:a.i-s.i}}return Lg}var Cg,I3;function yM(){if(I3)return Cg;I3=1;var e=Jt(),t=vM(),n=gM(),r=mM();Cg=o;function o(s,u,l,c){var f=s.children(u),p=s.node(u),h=p?p.borderLeft:void 0,g=p?p.borderRight:void 0,b={};h&&(f=e.filter(f,function(j){return j!==h&&j!==g}));var w=t(s,f);e.forEach(w,function(j){if(s.children(j.v).length){var Z=o(s,j.v,l,c);b[j.v]=Z,e.has(Z,"barycenter")&&a(j,Z)}});var y=n(w,l);i(y,b);var S=r(y,c);if(h&&(S.vs=e.flatten([h,S.vs,g],!0),s.predecessors(h).length)){var A=s.node(s.predecessors(h)[0]),L=s.node(s.predecessors(g)[0]);e.has(S,"barycenter")||(S.barycenter=0,S.weight=0),S.barycenter=(S.barycenter*S.weight+A.order+L.order)/(S.weight+2),S.weight+=2}return S}function i(s,u){e.forEach(s,function(l){l.vs=e.flatten(l.vs.map(function(c){return u[c]?u[c].vs:c}),!0)})}function a(s,u){e.isUndefined(s.barycenter)?(s.barycenter=u.barycenter,s.weight=u.weight):(s.barycenter=(s.barycenter*s.weight+u.barycenter*u.weight)/(s.weight+u.weight),s.weight+=u.weight)}return Cg}var Og,L3;function bM(){if(L3)return Og;L3=1;var e=Jt(),t=Hr().Graph;Og=n;function n(o,i,a){var s=r(o),u=new t({compound:!0}).setGraph({root:s}).setDefaultNodeLabel(function(l){return o.node(l)});return e.forEach(o.nodes(),function(l){var c=o.node(l),f=o.parent(l);(c.rank===i||c.minRank<=i&&i<=c.maxRank)&&(u.setNode(l),u.setParent(l,f||s),e.forEach(o[a](l),function(p){var h=p.v===l?p.w:p.v,g=u.edge(h,l),b=e.isUndefined(g)?0:g.weight;u.setEdge(h,l,{weight:o.edge(p).weight+b})}),e.has(c,"minRank")&&u.setNode(l,{borderLeft:c.borderLeft[i],borderRight:c.borderRight[i]}))}),u}function r(o){for(var i;o.hasNode(i=e.uniqueId("_root")););return i}return Og}var kg,C3;function _M(){if(C3)return kg;C3=1;var e=Jt();kg=t;function t(n,r,o){var i={},a;e.forEach(o,function(s){for(var u=n.parent(s),l,c;u;){if(l=n.parent(u),l?(c=i[l],i[l]=u):(c=a,a=u),c&&c!==u){r.setEdge(c,u);return}u=l}})}return kg}var Rg,O3;function wM(){if(O3)return Rg;O3=1;var e=Jt(),t=hM(),n=pM(),r=yM(),o=bM(),i=_M(),a=Hr().Graph,s=tr();Rg=u;function u(p){var h=s.maxRank(p),g=l(p,e.range(1,h+1),"inEdges"),b=l(p,e.range(h-1,-1,-1),"outEdges"),w=t(p);f(p,w);for(var y=Number.POSITIVE_INFINITY,S,A=0,L=0;L<4;++A,++L){c(A%2?g:b,A%4>=2),w=s.buildLayerMatrix(p);var j=n(p,w);j<y&&(L=0,S=e.cloneDeep(w),y=j)}f(p,S)}function l(p,h,g){return e.map(h,function(b){return o(p,b,g)})}function c(p,h){var g=new a;e.forEach(p,function(b){var w=b.graph().root,y=r(b,w,g,h);e.forEach(y.vs,function(S,A){b.node(S).order=A}),i(b,g,y.vs)})}function f(p,h){e.forEach(h,function(g){e.forEach(g,function(b,w){p.node(b).order=w})})}return Rg}var qg,k3;function xM(){if(k3)return qg;k3=1;var e=Jt(),t=Hr().Graph,n=tr();qg={positionX:g,findType1Conflicts:r,findType2Conflicts:o,addConflict:a,hasConflict:s,verticalAlignment:u,horizontalCompaction:l,alignCoordinates:p,findSmallestWidthAlignment:f,balance:h};function r(y,S){var A={};function L(j,Z){var M=0,I=0,X=j.length,H=e.last(Z);return e.forEach(Z,function(P,N){var V=i(y,P),_=V?y.node(V).order:X;(V||P===H)&&(e.forEach(Z.slice(I,N+1),function(F){e.forEach(y.predecessors(F),function(k){var Q=y.node(k),U=Q.order;(U<M||_<U)&&!(Q.dummy&&y.node(F).dummy)&&a(A,k,F)})}),I=N+1,M=_)}),Z}return e.reduce(S,L),A}function o(y,S){var A={};function L(Z,M,I,X,H){var P;e.forEach(e.range(M,I),function(N){P=Z[N],y.node(P).dummy&&e.forEach(y.predecessors(P),function(V){var _=y.node(V);_.dummy&&(_.order<X||_.order>H)&&a(A,V,P)})})}function j(Z,M){var I=-1,X,H=0;return e.forEach(M,function(P,N){if(y.node(P).dummy==="border"){var V=y.predecessors(P);V.length&&(X=y.node(V[0]).order,L(M,H,N,I,X),H=N,I=X)}L(M,H,M.length,X,Z.length)}),M}return e.reduce(S,j),A}function i(y,S){if(y.node(S).dummy)return e.find(y.predecessors(S),function(A){return y.node(A).dummy})}function a(y,S,A){if(S>A){var L=S;S=A,A=L}var j=y[S];j||(y[S]=j={}),j[A]=!0}function s(y,S,A){if(S>A){var L=S;S=A,A=L}return e.has(y[S],A)}function u(y,S,A,L){var j={},Z={},M={};return e.forEach(S,function(I){e.forEach(I,function(X,H){j[X]=X,Z[X]=X,M[X]=H})}),e.forEach(S,function(I){var X=-1;e.forEach(I,function(H){var P=L(H);if(P.length){P=e.sortBy(P,function(k){return M[k]});for(var N=(P.length-1)/2,V=Math.floor(N),_=Math.ceil(N);V<=_;++V){var F=P[V];Z[H]===H&&X<M[F]&&!s(A,H,F)&&(Z[F]=H,Z[H]=j[H]=j[F],X=M[F])}}})}),{root:j,align:Z}}function l(y,S,A,L,j){var Z={},M=c(y,S,A,j),I=j?"borderLeft":"borderRight";function X(N,V){for(var _=M.nodes(),F=_.pop(),k={};F;)k[F]?N(F):(k[F]=!0,_.push(F),_=_.concat(V(F))),F=_.pop()}function H(N){Z[N]=M.inEdges(N).reduce(function(V,_){return Math.max(V,Z[_.v]+M.edge(_))},0)}function P(N){var V=M.outEdges(N).reduce(function(F,k){return Math.min(F,Z[k.w]-M.edge(k))},Number.POSITIVE_INFINITY),_=y.node(N);V!==Number.POSITIVE_INFINITY&&_.borderType!==I&&(Z[N]=Math.max(Z[N],V))}return X(H,M.predecessors.bind(M)),X(P,M.successors.bind(M)),e.forEach(L,function(N){Z[N]=Z[A[N]]}),Z}function c(y,S,A,L){var j=new t,Z=y.graph(),M=b(Z.nodesep,Z.edgesep,L);return e.forEach(S,function(I){var X;e.forEach(I,function(H){var P=A[H];if(j.setNode(P),X){var N=A[X],V=j.edge(N,P);j.setEdge(N,P,Math.max(M(y,H,X),V||0))}X=H})}),j}function f(y,S){return e.minBy(e.values(S),function(A){var L=Number.NEGATIVE_INFINITY,j=Number.POSITIVE_INFINITY;return e.forIn(A,function(Z,M){var I=w(y,M)/2;L=Math.max(Z+I,L),j=Math.min(Z-I,j)}),L-j})}function p(y,S){var A=e.values(S),L=e.min(A),j=e.max(A);e.forEach(["u","d"],function(Z){e.forEach(["l","r"],function(M){var I=Z+M,X=y[I],H;if(X!==S){var P=e.values(X);H=M==="l"?L-e.min(P):j-e.max(P),H&&(y[I]=e.mapValues(X,function(N){return N+H}))}})})}function h(y,S){return e.mapValues(y.ul,function(A,L){if(S)return y[S.toLowerCase()][L];var j=e.sortBy(e.map(y,L));return(j[1]+j[2])/2})}function g(y){var S=n.buildLayerMatrix(y),A=e.merge(r(y,S),o(y,S)),L={},j;e.forEach(["u","d"],function(M){j=M==="u"?S:e.values(S).reverse(),e.forEach(["l","r"],function(I){I==="r"&&(j=e.map(j,function(N){return e.values(N).reverse()}));var X=(M==="u"?y.predecessors:y.successors).bind(y),H=u(y,j,A,X),P=l(y,j,H.root,H.align,I==="r");I==="r"&&(P=e.mapValues(P,function(N){return-N})),L[M+I]=P})});var Z=f(y,L);return p(L,Z),h(L,y.graph().align)}function b(y,S,A){return function(L,j,Z){var M=L.node(j),I=L.node(Z),X=0,H;if(X+=M.width/2,e.has(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":H=-M.width/2;break;case"r":H=M.width/2;break}if(H&&(X+=A?H:-H),H=0,X+=(M.dummy?S:y)/2,X+=(I.dummy?S:y)/2,X+=I.width/2,e.has(I,"labelpos"))switch(I.labelpos.toLowerCase()){case"l":H=I.width/2;break;case"r":H=-I.width/2;break}return H&&(X+=A?H:-H),H=0,X}}function w(y,S){return y.node(S).width}return qg}var Tg,R3;function SM(){if(R3)return Tg;R3=1;var e=Jt(),t=tr(),n=xM().positionX;Tg=r;function r(i){i=t.asNonCompoundGraph(i),o(i),e.forEach(n(i),function(a,s){i.node(s).x=a})}function o(i){var a=t.buildLayerMatrix(i),s=i.graph().ranksep,u=0;e.forEach(a,function(l){var c=e.max(e.map(l,function(f){return i.node(f).height}));e.forEach(l,function(f){i.node(f).y=u+c/2}),u+=c+s})}return Tg}var Mg,q3;function AM(){if(q3)return Mg;q3=1;var e=Jt(),t=iM(),n=aM(),r=uM(),o=tr().normalizeRanks,i=lM(),a=tr().removeEmptyRanks,s=cM(),u=dM(),l=fM(),c=wM(),f=SM(),p=tr(),h=Hr().Graph;Mg=g;function g(C,D){var G=D&&D.debugTiming?p.time:p.notime;G("layout",function(){var K=G("  buildLayoutGraph",function(){return X(C)});G("  runLayout",function(){b(K,G)}),G("  updateInputGraph",function(){w(C,K)})})}function b(C,D){D("    makeSpaceForEdgeLabels",function(){H(C)}),D("    removeSelfEdges",function(){ne(C)}),D("    acyclic",function(){t.run(C)}),D("    nestingGraph.run",function(){s.run(C)}),D("    rank",function(){r(p.asNonCompoundGraph(C))}),D("    injectEdgeLabelProxies",function(){P(C)}),D("    removeEmptyRanks",function(){a(C)}),D("    nestingGraph.cleanup",function(){s.cleanup(C)}),D("    normalizeRanks",function(){o(C)}),D("    assignRankMinMax",function(){N(C)}),D("    removeEdgeLabelProxies",function(){V(C)}),D("    normalize.run",function(){n.run(C)}),D("    parentDummyChains",function(){i(C)}),D("    addBorderSegments",function(){u(C)}),D("    order",function(){c(C)}),D("    insertSelfEdges",function(){ee(C)}),D("    adjustCoordinateSystem",function(){l.adjust(C)}),D("    position",function(){f(C)}),D("    positionSelfEdges",function(){pe(C)}),D("    removeBorderNodes",function(){U(C)}),D("    normalize.undo",function(){n.undo(C)}),D("    fixupEdgeLabelCoords",function(){k(C)}),D("    undoCoordinateSystem",function(){l.undo(C)}),D("    translateGraph",function(){_(C)}),D("    assignNodeIntersects",function(){F(C)}),D("    reversePoints",function(){Q(C)}),D("    acyclic.undo",function(){t.undo(C)})}function w(C,D){e.forEach(C.nodes(),function(G){var K=C.node(G),te=D.node(G);K&&(K.x=te.x,K.y=te.y,D.children(G).length&&(K.width=te.width,K.height=te.height))}),e.forEach(C.edges(),function(G){var K=C.edge(G),te=D.edge(G);K.points=te.points,e.has(te,"x")&&(K.x=te.x,K.y=te.y)}),C.graph().width=D.graph().width,C.graph().height=D.graph().height}var y=["nodesep","edgesep","ranksep","marginx","marginy"],S={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},A=["acyclicer","ranker","rankdir","align"],L=["width","height"],j={width:0,height:0},Z=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},I=["labelpos"];function X(C){var D=new h({multigraph:!0,compound:!0}),G=W(C.graph());return D.setGraph(e.merge({},S,O(G,y),e.pick(G,A))),e.forEach(C.nodes(),function(K){var te=W(C.node(K));D.setNode(K,e.defaults(O(te,L),j)),D.setParent(K,C.parent(K))}),e.forEach(C.edges(),function(K){var te=W(C.edge(K));D.setEdge(K,e.merge({},M,O(te,Z),e.pick(te,I)))}),D}function H(C){var D=C.graph();D.ranksep/=2,e.forEach(C.edges(),function(G){var K=C.edge(G);K.minlen*=2,K.labelpos.toLowerCase()!=="c"&&(D.rankdir==="TB"||D.rankdir==="BT"?K.width+=K.labeloffset:K.height+=K.labeloffset)})}function P(C){e.forEach(C.edges(),function(D){var G=C.edge(D);if(G.width&&G.height){var K=C.node(D.v),te=C.node(D.w),ce={rank:(te.rank-K.rank)/2+K.rank,e:D};p.addDummyNode(C,"edge-proxy",ce,"_ep")}})}function N(C){var D=0;e.forEach(C.nodes(),function(G){var K=C.node(G);K.borderTop&&(K.minRank=C.node(K.borderTop).rank,K.maxRank=C.node(K.borderBottom).rank,D=e.max(D,K.maxRank))}),C.graph().maxRank=D}function V(C){e.forEach(C.nodes(),function(D){var G=C.node(D);G.dummy==="edge-proxy"&&(C.edge(G.e).labelRank=G.rank,C.removeNode(D))})}function _(C){var D=Number.POSITIVE_INFINITY,G=0,K=Number.POSITIVE_INFINITY,te=0,ce=C.graph(),Ee=ce.marginx||0,we=ce.marginy||0;function ke(_e){var ae=_e.x,B=_e.y,R=_e.width,oe=_e.height;D=Math.min(D,ae-R/2),G=Math.max(G,ae+R/2),K=Math.min(K,B-oe/2),te=Math.max(te,B+oe/2)}e.forEach(C.nodes(),function(_e){ke(C.node(_e))}),e.forEach(C.edges(),function(_e){var ae=C.edge(_e);e.has(ae,"x")&&ke(ae)}),D-=Ee,K-=we,e.forEach(C.nodes(),function(_e){var ae=C.node(_e);ae.x-=D,ae.y-=K}),e.forEach(C.edges(),function(_e){var ae=C.edge(_e);e.forEach(ae.points,function(B){B.x-=D,B.y-=K}),e.has(ae,"x")&&(ae.x-=D),e.has(ae,"y")&&(ae.y-=K)}),ce.width=G-D+Ee,ce.height=te-K+we}function F(C){e.forEach(C.edges(),function(D){var G=C.edge(D),K=C.node(D.v),te=C.node(D.w),ce,Ee;G.points?(ce=G.points[0],Ee=G.points[G.points.length-1]):(G.points=[],ce=te,Ee=K),G.points.unshift(p.intersectRect(K,ce)),G.points.push(p.intersectRect(te,Ee))})}function k(C){e.forEach(C.edges(),function(D){var G=C.edge(D);if(e.has(G,"x"))switch((G.labelpos==="l"||G.labelpos==="r")&&(G.width-=G.labeloffset),G.labelpos){case"l":G.x-=G.width/2+G.labeloffset;break;case"r":G.x+=G.width/2+G.labeloffset;break}})}function Q(C){e.forEach(C.edges(),function(D){var G=C.edge(D);G.reversed&&G.points.reverse()})}function U(C){e.forEach(C.nodes(),function(D){if(C.children(D).length){var G=C.node(D),K=C.node(G.borderTop),te=C.node(G.borderBottom),ce=C.node(e.last(G.borderLeft)),Ee=C.node(e.last(G.borderRight));G.width=Math.abs(Ee.x-ce.x),G.height=Math.abs(te.y-K.y),G.x=ce.x+G.width/2,G.y=K.y+G.height/2}}),e.forEach(C.nodes(),function(D){C.node(D).dummy==="border"&&C.removeNode(D)})}function ne(C){e.forEach(C.edges(),function(D){if(D.v===D.w){var G=C.node(D.v);G.selfEdges||(G.selfEdges=[]),G.selfEdges.push({e:D,label:C.edge(D)}),C.removeEdge(D)}})}function ee(C){var D=p.buildLayerMatrix(C);e.forEach(D,function(G){var K=0;e.forEach(G,function(te,ce){var Ee=C.node(te);Ee.order=ce+K,e.forEach(Ee.selfEdges,function(we){p.addDummyNode(C,"selfedge",{width:we.label.width,height:we.label.height,rank:Ee.rank,order:ce+ ++K,e:we.e,label:we.label},"_se")}),delete Ee.selfEdges})})}function pe(C){e.forEach(C.nodes(),function(D){var G=C.node(D);if(G.dummy==="selfedge"){var K=C.node(G.e.v),te=K.x+K.width/2,ce=K.y,Ee=G.x-te,we=K.height/2;C.setEdge(G.e,G.label),C.removeNode(D),G.label.points=[{x:te+2*Ee/3,y:ce-we},{x:te+5*Ee/6,y:ce-we},{x:te+Ee,y:ce},{x:te+5*Ee/6,y:ce+we},{x:te+2*Ee/3,y:ce+we}],G.label.x=G.x,G.label.y=G.y}})}function O(C,D){return e.mapValues(e.pick(C,D),Number)}function W(C){var D={};return e.forEach(C,function(G,K){D[K.toLowerCase()]=G}),D}return Mg}var Dg,T3;function NM(){if(T3)return Dg;T3=1;var e=Jt(),t=tr(),n=Hr().Graph;Dg={debugOrdering:r};function r(o){var i=t.buildLayerMatrix(o),a=new n({compound:!0,multigraph:!0}).setGraph({});return e.forEach(o.nodes(),function(s){a.setNode(s,{label:s}),a.setParent(s,"layer"+o.node(s).rank)}),e.forEach(o.edges(),function(s){a.setEdge(s.v,s.w,{},s.name)}),e.forEach(i,function(s,u){var l="layer"+u;a.setNode(l,{rank:"same"}),e.reduce(s,function(c,f){return a.setEdge(c,f,{style:"invis"}),f})}),a}return Dg}var Fg,M3;function EM(){return M3||(M3=1,Fg="0.8.5"),Fg}var jg,D3;function PM(){return D3||(D3=1,jg={graphlib:Hr(),layout:AM(),debug:NM(),util:{time:tr().time,notime:tr().notime},version:EM()}),jg}var IM=PM();const F3=RA(IM),j3=600,$3=400;function LM(e,t,n="TB"){const r=new F3.graphlib.Graph;return r.setDefaultEdgeLabel(()=>({})),r.setGraph({rankdir:n}),e.forEach(i=>{r.setNode(i.id,{width:j3,height:$3})}),t.forEach(i=>{r.setEdge(i.source,i.target)}),F3.layout(r),{nodes:e.map(i=>{const a=r.node(i.id);return{...i,position:{x:a.x-j3/2,y:a.y-$3/2}}}),edges:t}}const CM={class:"mb-2"},OM=Object.assign({inheritAttrs:!1},{__name:"BaseNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0},showMenu:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},showEstado:{type:Boolean,default:!1}},setup(e){const t=e,{removeNodes:n,findNode:r}=ut(),o=r(t.id),i=()=>{n([{id:t.id}])},a=Tc(),s=Qe(()=>{const{position:f,...p}=a;return p}),u=Qe(()=>t.data.type||"Sin tipo"),l=Qe(()=>({proyecto:"mdi-briefcase-outline",objetivogeneral:"mdi-bullseye-arrow",objetivoespecifico:"mdi-target-variant",objetivoespecificoog:"mdi-target-variant",Kpi:"mdi-chart-line",indicadores:"mdi-speedometer",indicadorog:"mdi-speedometer",indicadorrog:"mdi-speedometer",indicadoroe:"mdi-speedometer",indicadorroe:"mdi-speedometer",resultado:"mdi-flag-checkered",resultadoog:"mdi-flag-checkered",resultadooe:"mdi-flag-checkered",producto:"mdi-package-variant-closed",productoog:"mdi-package-variant-closed",productooe:"mdi-package-variant-closed",productoroe:"mdi-package-variant-closed",productogral:"mdi-package-variant-closed",procesos:"mdi-cogs",procesorog:"mdi-cogs",procesoroe:"mdi-cogs",procesopoe:"mdi-cogs",actividad:"mdi-clock-outline",actividadrog:"mdi-clock-outline",actividadpoe:"mdi-clock-outline",actividadroe:"mdi-clock-outline"})[u.value]||"mdi-help-circle-outline"),c=Qe(()=>({proyecto:"#3F51B5",objetivogeneral:"#1976D2",objetivoespecifico:"#03A9F4",objetivoespecificoog:"#03A9F4",kpi:"#673AB7",indicadorog:"#009688",indicadorrog:"#009688",indicadoroe:"#009688",indicadorroe:"#009688",resultadoog:"#4CAF50",resultadooe:"#4CAF50",productoog:"#FFC107",productooe:"#FFC107",productoroe:"#FFC107",productogral:"#FF9800",procesos:"#FF5722",procesorog:"#FF5722",procesoroe:"#FF5722",procesopoe:"#FF5722",actividad:"#9C27B0",actividadrog:"#9C27B0",actividadpoe:"#9C27B0",actividadroe:"#9C27B0"})[u.value]||"#BDBDBD");return(f,p)=>{const h=Be("v-icon"),g=Be("v-toolbar-title"),b=Be("v-spacer"),w=Be("v-btn"),y=Be("v-list-item-title"),S=Be("v-list-item"),A=Be("v-list"),L=Be("v-menu"),j=Be("v-toolbar"),Z=Be("v-chip"),M=Be("v-card-text"),I=Be("v-card");return je(),ct(Cn,null,[le(I,yt({class:"nodo-base",elevation:5,color:c.value},s.value),{default:ie(()=>[le(j,{density:"compact",flat:"",color:c.value},{default:ie(()=>[le(g,{class:"text-h6 font-weight-bold text-white d-flex align-center flex-wrap gap-2",style:{"white-space":"normal"}},{default:ie(()=>[le(h,{size:"20",class:"me-1 text-white"},{default:ie(()=>[be(Re(l.value),1)]),_:1}),be(" "+Re(e.data.label),1)]),_:1}),le(b),e.showMenu?(je(),nt(L,{key:0,location:"bottom end"},{activator:ie(({props:X})=>[le(w,yt(X,{icon:"",size:"small",variant:"text"}),{default:ie(()=>[le(h,{class:"text-white"},{default:ie(()=>p[0]||(p[0]=[be("mdi-dots-vertical")])),_:1,__:[0]})]),_:2},1040)]),default:ie(()=>[le(A,{dense:"",class:"pa-1"},{default:ie(()=>[Vt(f.$slots,"menu",{},()=>[le(S,null,{default:ie(()=>[le(y,null,{default:ie(()=>p[1]||(p[1]=[be("Opción por defecto")])),_:1,__:[1]})]),_:1})],!0)]),_:3})]),_:3})):Lt("",!0),e.showDelete?(je(),nt(w,{key:1,icon:"",size:"small",variant:"text",color:"white",onClick:i},{default:ie(()=>[le(h,{class:"text-white"},{default:ie(()=>p[2]||(p[2]=[be("mdi-close")])),_:1,__:[2]})]),_:1})):Lt("",!0)]),_:3},8,["color"]),le(M,{class:"pa-4 bg-white text-grey-darken-3"},{default:ie(()=>[se("div",CM,[le(Z,{size:"small",color:c.value,"text-color":"white",variant:"flat"},{default:ie(()=>[be(Re(u.value),1)]),_:1},8,["color"]),e.showEstado?(je(),nt(Z,{key:0,size:"small",color:Ne(TA)(e.data.estado),variant:"elevated"},{default:ie(()=>[be(Re(Ne(MA)(e.data.estado)||"Sin estado"),1)]),_:1},8,["color"])):Lt("",!0),le(Z,{size:"small",color:c.value,"text-color":"white",variant:"flat"},{default:ie(()=>[be(" ID: "+Re(Ne(o).id),1)]),_:1},8,["color"])]),Vt(f.$slots,"default",{},()=>[p[3]||(p[3]=se("p",{class:"text-body-2 text-grey-darken-3 text-center"},"Contenido del nodo",-1))],!0)]),_:3})]),_:3},16,["color"]),Vt(f.$slots,"handles",{},void 0,!0)],64)}}}),hn=Xt(OM,[["__scopeId","data-v-3c315c84"]]),B3=Ue([]),$a=Ue(null),lr=Ue(!1),zi=Ue(null);function kM(){async function e(){lr.value=!0;try{B3.value=await co.generalesAll()}catch(a){zi.value=a}finally{lr.value=!1}}async function t(a){lr.value=!0;try{$a.value=await co.generalesPorId(a)}catch(s){zi.value=s}finally{lr.value=!1}}async function n(a){lr.value=!0;try{$a.value=await co.generalesPorIdProyecto(a)}catch(s){zi.value=s}finally{lr.value=!1}}async function r(a){lr.value=!0;try{const s=await co.generalesCrear(a);return $a.value=s,s}catch(s){zi.value=s}finally{lr.value=!1}}async function o(a,s){lr.value=!0;try{$a.value=await co.generalesModificar(a,s)}catch(u){zi.value=u}finally{lr.value=!1}}async function i(a){lr.value=!0;try{$a.value=await co.generalesEliminar(a)}catch(s){zi.value=s}finally{lr.value=!1}}return{objetivoGeneral:$a,objetivosGenerales:B3,loading:lr,error:zi,cargarObjetivos:e,cargarObjetivoPorId:t,cargarObjetivoPorIdProyecto:n,addObjetivoGeneral:r,updateObjetivoGeneral:o,delObjetivoGeneral:i}}const To=Ue(null),Zs=Ue(null),$g=Ue(null);function nS(){async function e(o){To.value=!0;try{const i=await co.especificosPorId(o);$g.value=i}catch(i){Zs.value=i}finally{To.value=!1}}async function t(o){To.value=!0;try{const i=await co.especificoCrear(o);return $g.value=i,i}catch(i){Zs.value=i}finally{To.value=!1}}async function n(o,i){To.value=!0;try{return await co.especificoUpdate(o,i)}catch(a){Zs.value=a}finally{To.value=!1}}async function r(o){To.value=!0;try{return await co.especificoDel(o)}catch(i){Zs.value=i}finally{To.value=!1}}return{loading:To,error:Zs,objetivoEspecifico:$g,cargarObjetivoEspecificoPorId:e,crearObjetivoEspecifico:t,updateObjetivoEspecifico:n,delObjetivoEspecifico:r}}const RM={class:"text-body-2"},qM={class:"mb-1"},TM={class:"mb-1"},MM={class:"mb-1"},DM={class:"mb-1"},FM={class:"mb-1"},jM={class:"mb-1"},$M={class:"mb-1"},BM={class:"mb-1"},zM={class:"d-flex flex-wrap gap-1 mt-1"},GM={key:0,class:"text-caption text-grey"},UM={__name:"ProyectoNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addObjetivoGeneral","addObjetivoEspecifico"],setup(e,{emit:t}){const r=Pu(e.data.datosNodo||{}),{objetivoGeneral:o,error:i,addObjetivoGeneral:a}=kM(),{objetivoEspecifico:s,crearObjetivoEspecifico:u}=nS(),{cargarProcedencias:l,findProcedenciasByIds:c}=A4(),p=Ht("proyectoEstructura").value.mapa_nodo.id,h=t,g=async()=>{const S={codigo:"OO",descripcion:"desc og",supuestos:"sup og",riesgos:"ries og",proyecto:r.id.toString()};try{await a(S);const A={sourceId:"1",meta:{label:"Objetivo General",type:"objetivogeneral",estado:"ES",mapaNodoId:p.toString(),nodoProyecto:{id:o.value.id,codigo:o.value.codigo,descripcion:o.value.descripcion,supuestos:o.value.supuestos,riesgos:o.value.riesgos,proyecto:o.value.proyecto}}};h("addObjetivoGeneral",A)}catch(A){i.value=A,console.log("Error al crear el objetivo",i)}},b=async()=>{const S={codigo:"SPO",descripcion:"",supuestos:"",riesgos:"",proyecto:r.id.toString(),objetivo_general:null};try{await u(S);const A={sourceId:"1",meta:{label:"Objetivo Especifico",type:"objetivoespecifico",mapaNodoId:p.toString(),nodoProyecto:{id:s.value.id,codigo:s.value.codigo,descripcion:s.value.descripcion,supuestos:s.value.supuestos,riesgos:s.value.riesgos,proyecto:s.value.proyecto,objetivo_general:s.value.objetivo_general}}};h("addObjetivoEspecifico",A)}catch(A){console.log("Error "+A)}};Sr(async()=>{await l()});const w=Qe(()=>c(r.procedencia_fondos)),y={width:"12px",height:"12px",background:"#555",borderRadius:"50%"};return(S,A)=>{const L=Be("v-icon"),j=Be("v-chip"),Z=Be("v-list-item-title"),M=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!1,"show-estado":!0},S.$attrs),{default:ie(()=>[se("div",RM,[se("div",qM,[A[0]||(A[0]=se("strong",null,"Código:",-1)),be(" "+Re(r.codigo),1)]),se("div",TM,[A[1]||(A[1]=se("strong",null,"Título:",-1)),be(" "+Re(r.titulo),1)]),se("div",MM,[A[2]||(A[2]=se("strong",null,"Descripción:",-1)),be(" "+Re(r.descripcion),1)]),se("div",DM,[A[3]||(A[3]=se("strong",null,"Fecha de Inicio:",-1)),be(" "+Re(r.fecha_inicio),1)]),se("div",FM,[A[4]||(A[4]=se("strong",null,"Fecha de Finalización:",-1)),be(" "+Re(r.fecha_finalizacion),1)]),se("div",jM,[A[5]||(A[5]=se("strong",null,"Presupuesto:",-1)),be(" "+Re(r.presupuesto),1)]),se("div",$M,[A[6]||(A[6]=se("strong",null,"Estado:",-1)),be(" "+Re(r.estado),1)]),se("div",BM,[A[8]||(A[8]=se("strong",null,"Entidad Financiera:",-1)),se("div",zM,[(je(!0),ct(Cn,null,oa(w.value,I=>(je(),nt(j,{key:I.id,class:"ma-1"},{default:ie(()=>[le(L,{start:""},{default:ie(()=>A[7]||(A[7]=[be("mdi-bank")])),_:1,__:[7]}),be(" "+Re(I.sigla),1)]),_:2},1024))),128)),w.value.length?Lt("",!0):(je(),ct("span",GM," No se han seleccionado entidades financieras "))])])])]),menu:ie(()=>[le(M,{class:"custom-menu-item",onClick:g},{prepend:ie(()=>[le(L,{icon:"mdi-bullseye-arrow"})]),default:ie(()=>[le(Z,null,{default:ie(()=>A[9]||(A[9]=[be("Agregar Objetivo General")])),_:1,__:[9]})]),_:1}),le(M,{class:"custom-menu-item",onClick:b},{prepend:ie(()=>[le(L,{icon:"mdi-target-variant"})]),default:ie(()=>[le(Z,null,{default:ie(()=>A[10]||(A[10]=[be("Agregar Objetivo Especifico")])),_:1,__:[10]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:y},null,8,["id"])]),_:1},16,["id","data"])}}},VM=Xt(UM,[["__scopeId","data-v-2f563b83"]]),Vn={indicadoresOg:async()=>{try{return(await Ze.get("indicadores-og/")).data}catch(e){console.error("Axios: error fetch ",e)}},indicadorOgPorId:async e=>{try{return(await Ze.get("indicadores-og/"+e+"/")).data}catch(t){console.error("Axios: error fetch con id "+e,t)}},crearIndicadorOg:async e=>{try{return(await Ze.post("indicadores-og/",e)).data}catch(t){console.error("Axios: error crear indicador og ",t)}},updateIndicadorOg:async(e,t)=>{try{return await Ze.put("indicadores-og/"+e+"/",t)}catch(n){console.error("Axios: error actualizar indicador og id ",n)}},delIndicadorOg:async e=>{try{return await Ze.delete("indicadores-og/"+e+"/")}catch(t){console.error("Axios: no se pudo elimir indicador og con id "+e,t)}},indicadorResultadoOg:async()=>{try{return(await Ze.get("indicador-resultado-og/")).data}catch(e){console.error("Axios: Indicador Res OG fetch erro ",e)}},indicadorResultadoOgPorId:async e=>{try{return(await Ze.get("indicador-resultado-og/"+e+"/")).data}catch(t){console.error("Axios: Indicador Res OG fetch erro ID "+e,t)}},crearIndicadorResultadoOg:async e=>{try{return(await Ze.post("indicador-resultado-og/",e)).data}catch(t){console.error("Axios: error crear indicador resultado og ",t)}},updateIndicadorResultadoOg:async(e,t)=>{try{return await Ze.put("indicador-resultado-og/"+e+"/",t)}catch(n){console.error("Axios: error actualizar indicador res og id "+e,n)}},delIndicadorResultadoOg:async e=>{try{return await Ze.delete("indicador-resultado-og/"+e+"/")}catch(t){console.error("Axios: no se pudo elimir indicador res og con id "+e,t)}},indicadorObjEspec:async()=>{try{return(await Ze.get("/indicador-oe/")).data}catch(e){throw console.error("Axios: fecth Indicador OE error",e),e}},indicadorObjEspecPorId:async e=>{try{return(await Ze.get("/indicador-oe/"+e+"/")).data}catch(t){throw console.error("Axios: fecth Indicador OE error con ID "+e,t),t}},crearIndicadorObjEspc:async e=>{try{return(await Ze.post("/indicador-oe/",e)).data}catch(t){throw console.error("Axios, error al crear Indicador OE",t),t}},updateIndicadorObjEspc:async(e,t)=>{try{return(await Ze.put("/indicador-oe/"+e+"/",t)).data}catch(n){throw console.error("Axios: Error al actualizar el Indicador OE",n),n}},deleteIndicadorObjEspec:async e=>{try{return await Ze.delete("/indicador-oe/"+e+"/")}catch(t){throw console.error("Axios: Error al eliminar el Indicador OE con ID "+e,t),t}},indicadorResultadoObjEspec:async()=>{try{return(await Ze.get("/indicador-resultado-oe/")).data}catch(e){throw console.error("Axios: fecth Indicador Resultado OE error",e),e}},indicadorResultadoObjEspecPorId:async e=>{try{return(await Ze.get("/indicador-resultado-oe/"+e+"/")).data}catch(t){throw console.error("Axios: fecth Indicador Resultado OE error con ID "+e,t),t}},crearIndicadorResultadoObjEspc:async e=>{try{return(await Ze.post("/indicador-resultado-oe/",e)).data}catch(t){throw console.error("Axios, error al crear Indicador Resultado OE",t),t}},updateIndicadorResultadoObjEspc:async(e,t)=>{try{return(await Ze.put("/indicador-resultado-oe/"+e+"/",t)).data}catch(n){throw console.error("Axios: Error al actualizar el Indicador Resultado OE",n),n}},deleteIndicadorResultadoObjEspec:async e=>{try{return await Ze.delete("/indicador-resultado-oe/"+e+"/")}catch(t){throw console.error("Axios: Error al eliminar el Indicador Resultado OE con ID "+e,t),t}}},Bg=Ue(null),zg=Ue(null),Gg=Ue(null),Ug=Ue(null),It=Ue(null),Mn=Ue(null);function Fu(){async function e(b){It.value=!0;try{const w=await Vn.indicadorOgPorId(b);Bg.value=w}catch(w){Mn.value=w}finally{It.value=!1}}async function t(b){It.value=!0;try{const w=await Vn.crearIndicadorOg(b);return Bg.value=w,w}catch(w){Mn.value=w}finally{It.value=!1}}async function n(b,w){It.value=!0;try{return await Vn.updateIndicadorOg(b,w)}catch(y){Mn.value=y}finally{It.value=!1}}async function r(b){It.value=!0;try{const w=await Vn.indicadorResultadoOgPorId(b);Gg.value=w}catch(w){Mn.value=w}finally{It.value=!1}}async function o(b){It.value=!0;try{const w=await Vn.crearIndicadorResultadoOg(b);return Gg.value=w,w}catch(w){Mn.value=w}finally{It.value=!1}}async function i(b,w){It.value=!0;try{return await Vn.updateIndicadorResultadoOg(b,w)}catch(y){Mn.value=y}finally{It.value=!1}}async function a(b){It.value=!0;try{return await Vn.delIndicadorResultadoOg(b)}catch(w){Mn.value=w}finally{It.value=!1}}async function s(b){It.value=!0;try{const w=await Vn.indicadorObjEspecPorId(b);zg.value=w}catch(w){Mn.value=w}finally{It.value=!1}}async function u(b){It.value=!0;try{const w=await Vn.crearIndicadorObjEspc(b);zg.value=w}catch(w){Mn.value=w}finally{It.value=!1}}async function l(b,w){It.value=!0;try{return await Vn.updateIndicadorObjEspc(b,w)}catch(y){Mn.value=y}finally{It.value=!1}}async function c(b){It.value=!0;try{return await Vn.deleteIndicadorObjEspec(b)}catch(w){Mn.value=w}finally{It.value=!1}}async function f(b){It.value=!0;try{const w=await Vn.indicadorResultadoObjEspecPorId(b);Ug.value=w}catch(w){Mn.value=w}finally{It.value=!1}}async function p(b){It.value=!0;try{const w=await Vn.crearIndicadorResultadoObjEspc(b);Ug.value=w}catch(w){Mn.value=w}finally{It.value=!1}}async function h(b,w){It.value=!0;try{return await Vn.updateIndicadorResultadoObjEspc(b,w)}catch(y){Mn.value=y}finally{It.value=!1}}async function g(b){It.value=!0;try{return await Vn.deleteIndicadorResultadoObjEspec(b)}catch(w){Mn.value=w}finally{It.value=!1}}return{indicadorObjGeneral:Bg,indicadorObjetivoEspecifico:zg,indicadorResultadoObjGeneral:Gg,indicadorResultadoObjEspecifico:Ug,loading:It,error:Mn,cargarIndicadorObjGeneralPorId:e,crearIndicadorObjetivoGeneral:t,updateIndicadorObjetivoGeneral:n,cargarIndicadorResultadoObjGeneralPorId:r,crearIndicadorResultadoObjetivoGeneral:o,updateIndicadorResultadoObjetivoGeneral:i,delIndicadorResultadoObjetivoGeneral:a,cargarIndicadorObjEspecifico:s,crearIndicadorObjEspecifico:u,updateIndicadorObjEspecifico:l,delIndicadorObjEspecifico:c,cargarIndicadorResultadoObjEspecifico:f,crearIndicadorResultadoObjEspecifico:p,updateIndicadorResultadoObjEspecifico:h,delIndicadorResultadoObjEspecifico:g}}const Vg={obtener:async()=>{try{return(await Ze.get("/resultado-og/")).data}catch(e){console.error("Axios: error fetch ",e)}},obtenerPorId:async e=>{try{return(await Ze.get("/resultado-og/"+e+"/")).data}catch(t){console.error("Axios: error fetch con id "+e,t)}},crear:async e=>{try{return(await Ze.post("/resultado-og/",e)).data}catch(t){console.error("Axios:  ",t)}},update:async(e,t)=>{try{return await Ze.put("/resultado-og/"+e+"/",t)}catch(n){console.error("Axios:  ",n)}},del:async e=>{try{return await Ze.delete("/resultado-og/"+e+"/")}catch(t){console.error("Axios:   "+e,t)}}},Gl={obtener:async()=>{try{return(await Ze.get("/resultado-oe/")).data}catch(e){console.error("Axios: error fetch resultado oe ",e)}},obtenerPorId:async e=>{try{return(await Ze.get("/resultado-oe/"+e+"/")).data}catch(t){console.error("Axios: error fetch resultado oe con id "+e,t)}},crear:async e=>{try{return(await Ze.post("/resultado-oe/",e)).data}catch(t){console.error("Axios: error crear resultado oe ",t)}},update:async(e,t)=>{try{return await Ze.put("/resultado-oe/"+e+"/",t)}catch(n){console.error("Axios: error actualizar resultado oe ",n)}},del:async e=>{try{return await Ze.delete("/resultado-oe/"+e+"/")}catch(t){console.error("Axios: no se pudo elimir resultado oe con id "+e,t)}}},Ul={obtener:async()=>{try{return(await Ze.get("/producto-oe/")).data}catch(e){console.error("Axios: error fetch ",e)}},obtenerPorId:async e=>{try{return(await Ze.get("/producto-oe/"+e+"/")).data}catch(t){console.error("Axios: error fetch con id "+e,t)}},crear:async e=>{try{return(await Ze.post("/producto-oe/",e)).data}catch(t){console.error("Axios: error crear indicador og ",t)}},update:async(e,t)=>{try{return await Ze.put("/producto-oe/"+e+"/",t)}catch(n){console.error("Axios: error actualizar indicador og id ",n)}},del:async e=>{try{return await Ze.delete("/producto-oe/"+e+"/")}catch(t){console.error("Axios: no se pudo elimir indicador og con id "+e,t)}}},Vl={obtener:async()=>{try{return(await Ze.get("/producto-result-oe/")).data}catch(e){console.error("Axios: error fetch producto resultado oe ",e)}},obtenerPorId:async e=>{try{return(await Ze.get("/producto-result-oe/"+e+"/")).data}catch(t){console.error("Axios: error fetch producto resultado oe con id "+e,t)}},crear:async e=>{try{return(await Ze.post("/producto-result-oe/",e)).data}catch(t){console.error("Axios: error crear producto resultado oe ",t)}},update:async(e,t)=>{try{return await Ze.put("/producto-result-oe/"+e+"/",t)}catch(n){console.error("Axios: error actualizar producto resultado oe id ",n)}},delete:async e=>{try{return await Ze.delete("/producto-result-oe/"+e+"/")}catch(t){console.error("Axios: no se pudo elimir indicador producto resultado oe id "+e,t)}}},Hl={obtener:async()=>{try{return(await Ze.get("/producto-general/")).data}catch(e){console.error("Axios: error fetch producto general ",e)}},obtenerPorId:async e=>{try{return(await Ze.get("/producto-general/"+e+"/")).data}catch(t){console.error("Axios: error fetch producto general"+e,t)}},crear:async e=>{try{return(await Ze.post("/producto-general/",e)).data}catch(t){console.error("Axios: error crear producto general",t)}},update:async(e,t)=>{try{return await Ze.put("/producto-general/"+e+"/",t)}catch(n){console.error("Axios: error actualizar producto general",n)}},delete:async e=>{try{return await Ze.delete("/producto-general/"+e+"/")}catch(t){console.error("Axios: no se pudo elimir indicador producto resultado oe id "+e,t)}}},Hn=Ue(null),ui=Ue(null),Hg=Ue(null),Wg=Ue(null);function Rm(){async function e(s){Hn.value=!0;try{const u=await Vg.obtenerPorId(s);Hg.value=u}catch(u){ui.value=u}finally{Hn.value=!1}}async function t(s){Hn.value=!0;try{const u=await Vg.crear(s);return Hg.value=u,u}catch(u){ui.value=u}finally{Hn.value=!1}}async function n(s,u){Hn.value=!0;try{return await Vg.update(s,u)}catch(l){ui.value=l}finally{Hn.value=!1}}async function r(s){Hn.value=!0;try{const u=await Gl.obtenerPorId(s);Wg.value=u}catch(u){ui.value=u}finally{Hn.value=!1}}async function o(s){Hn.value=!0;try{const u=await Gl.crear(s);return Wg.value=u,u}catch(u){ui.value=u}finally{Hn.value=!1}}async function i(s,u){Hn.value=!0;try{return await Gl.update(s,u)}catch(l){ui.value=l}finally{Hn.value=!1}}async function a(s){Hn.value=!0;try{return await Gl.del(s)}catch(u){ui.value=u}finally{Hn.value=!1}}return{resultadoOg:Hg,resultadoOe:Wg,loading:Hn,error:ui,cargarResultadoOg:e,crearResultadoOg:t,updateResultadoOg:n,cargarResultadoOe:r,crearResultadoOe:o,updateResultadoOe:i,delResultadoOe:a}}const Js={all:async()=>{try{return(await Ze.get("/kpi/")).data}catch(e){throw console.error("Axios: fetch kpis",e),e}},porId:async e=>{try{return(await Ze.get("/kpi/"+e+"/")).data}catch(t){throw console.error("Axios: fetch kpi id "+e,t),t}},crear:async e=>{try{return(await Ze.post("/kpi/",e)).data}catch(t){throw console.error("Axios: Error al al crear kpi",t),t}},update:async(e,t)=>{try{return(await Ze.put("/kpi/"+e+"/",t)).data}catch(n){throw console.error("Axios: Error al actualizar kpi id "+e,n),n}},del:async e=>{try{return(await Ze.del("/kpi/"+e+"/")).data}catch(t){throw console.error("Axios: Error al eliminar kpi id"+e,t),t}}},Mr=Ue(null),Ba=Ue(null),z3=Ue([]),Yg=Ue(null);function HM(){async function e(){Mr.value=!0;try{const i=await Js.cargarKpis();return z3.value=i,i}catch(i){Ba.value=i}finally{Mr.value=!1}}async function t(i){Mr.value=!0;try{const a=await Js.porId(i);return Yg.value=a,a}catch(a){Ba.value=a}finally{Mr.value=!1}}async function n(i){Mr.value=!0;try{const a=await Js.crear(i);return Yg.value=a,a}catch(a){Ba.value=a}finally{Mr.value=!1}}async function r(i,a){Mr.value=!0;try{return await Js.update(i,a)}catch(s){Ba.value=s}finally{Mr.value=!1}}async function o(i){Mr.value=!0;try{return await Js.del(i)}catch(a){Ba.value=a}finally{Mr.value=!1}}return{loading:Mr,error:Ba,kpis:z3,kpi:Yg,cargarKpis:e,cargarKpiPorId:t,crearKpi:n,updateKpi:r,delKpi:o}}const Wt=Ue(null),cr=Ue(null),Xg=Ue(null),Kg=Ue(null),Zg=Ue(null);function Ho(){async function e(p){Wt.value=!0;try{const h=await Ul.obtenerPorId(p);Kg.value=h}catch(h){cr.value=h}finally{Wt.value=!1}}async function t(p){Wt.value=!0;try{const h=await Ul.crear(p);return Kg.value=h,h}catch(h){cr.value=h}finally{Wt.value=!1}}async function n(p,h){Wt.value=!0;try{return await Ul.update(p,h)}catch(g){cr.value=g}finally{Wt.value=!1}}async function r(p){Wt.value=!0;try{return await Ul.del(p)}catch(h){cr.value=h}finally{Wt.value=!1}}async function o(p){Wt.value=!0;try{const h=await Vl.obtenerPorId(p);Zg.value=h}catch(h){cr.value=h}finally{Wt.value=!1}}async function i(p){Wt.value=!0;try{const h=await Vl.crear(p);return Zg.value=h,h}catch(h){cr.value=h}finally{Wt.value=!1}}async function a(p,h){Wt.value=!0;try{return await Vl.update(p,h)}catch(g){cr.value=g}finally{Wt.value=!1}}async function s(p){Wt.value=!0;try{return await Vl.delete(p)}catch(h){cr.value=h}finally{Wt.value=!1}}async function u(p){Wt.value=!0;try{const h=await Hl.obtenerPorId(p);Xg.value=h}catch(h){cr.value=h}finally{Wt.value=!1}}async function l(p){Wt.value=!0;try{const h=await Hl.crear(p);return Xg.value=h,h}catch(h){cr.value=h}finally{Wt.value=!1}}async function c(p,h){Wt.value=!0;try{return await Hl.update(p,h)}catch(g){cr.value=g}finally{Wt.value=!1}}async function f(p){Wt.value=!0;try{return await Hl.delete(p)}catch(h){cr.value=h}finally{Wt.value=!1}}return{loading:Wt,error:cr,productoOe:Kg,cargarProductoOeporId:e,crearProductoOe:t,updateProductoOe:n,delProductoOe:r,productoResultadoOe:Zg,cargarProductoResultadoOeporId:o,crearProductoResultadoOe:i,updateProductoResultadoOe:a,delProductoResultadoOe:s,productoGral:Xg,cargarProductoGeneralPorId:u,crearProductoGeneral:l,updateProductoGeneral:c,delProductoGeneral:f}}const WM={class:"text-body-2"},YM={class:"mb-1"},XM={class:"mb-1"},KM={class:"mb-1"},ZM={class:"mb-1"},JM={__name:"ObjetivogeneralNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addKpi","addIndicadorObjGeneral","addResultadoObjGeneral","addObjetivoEspecificoOg","addProducto"],setup(e,{emit:t}){const n=e,{productoGral:r,crearProductoGeneral:o}=Ho(),{crearIndicadorObjetivoGeneral:i,indicadorObjGeneral:a,error:s}=Fu(),{resultadoOg:u,crearResultadoOg:l}=Rm(),{objetivoEspecifico:c,crearObjetivoEspecifico:f,error:p}=nS(),{kpi:h,crearKpi:g}=HM();Pu(n.data.datosNodo||{});const w=Ht("proyectoEstructura").value.mapa_nodo.id,{findNode:y}=ut(),S=y(n.id),A=S.data.nodoProyecto.id,L=t,j=async()=>{const P={codigo:"KPI-",descripcion:"",objetivo_general:A.toString()};try{await g(P),console.log(h);const N={sourceId:S.id.toString(),meta:{label:"Kpi",type:"kpi",mapaNodoId:w.toString(),nodoProyecto:{id:h.value.id,codigo:h.value.id,descripcion:h.value.descripcion,objetivo_general:h.value.objetivo_general}}};L("addKpi",N)}catch(N){console.error("Error al crear datos Nodo Kpi",N)}},Z=async()=>{const P={codigo:"IND-OG",descripcion:"",definicion:"",redaccion:"GUIA",fuente_verificacion:"Fuentes de verificacion",target_poblacion:"",tipo:"A-Z",baseline:"",target_q1:"",target_q2:"",target_q3:"",objetivo_general:A};try{await i(P),console.log(a);const N={sourceId:S.id.toString(),meta:{label:"Indicador OG",type:"indicadorog",estado:"ES",mapaNodoId:w.toString(),nodoProyecto:{id:a.value.id,codigo:a.value.codigo,descripcion:a.value.descripcion,definicion:a.value.definicion,redaccion:a.value.redaccion,fuente_verificacion:a.value.fuente_verificacion,target_poblacion:a.value.target_poblacion,tipo:a.value.tipo,baseline:a.value.baseline,target_q1:a.value.target_q1,target_q2:a.value.target_q2,target_q3:a.value.target_q3,objetivo_general:a.value.objetivo_general}}};console.log(N),L("addIndicadorObjGeneral",N)}catch(N){s.value=N,console.log("Error al crear el objetivo",s)}},M=async()=>{const P={codigo:"R0",descripcion:"Descripcion del resultado de obj gral",supuestos:"sup res obj gral",riesgos:"riesg res obj gral",objetivo_general:A};try{await l(P);const N={sourceId:S.id.toString(),meta:{label:"Resultado OG",type:"resultadoog",mapaNodoId:w.toString(),nodoProyecto:{id:u.value.id,codigo:u.value.codigo,descripcion:u.value.descripcion,supuestos:u.value.supuestos,riesgos:u.value.riesgos,objetivo_general:u.value.objetivo_general}}};L("addResultadoObjGeneral",N)}catch(N){console.error("Error en la creacion",N+" - "+s)}},I=async()=>{const P={codigo:"SPO",descripcion:"",supuestos:"",riesgos:"",proyecto:null,objetivo_general:A};try{await f(P);const N={sourceId:S.id.toString(),meta:{label:"Objetivo Especifico OG",type:"objetivoespecificoog",mapaNodoId:w.toString(),nodoProyecto:{id:c.value.id,codigo:c.value.codigo,descripcion:c.value.descripcion,supuestos:c.value.supuestos,riesgos:c.value.riesgos,proyecto:null,objetivo_general:c.value.objetivo_general}}};L("addObjetivoEspecificoOg",N)}catch(N){console.log("Error "+N+"Error: "+p)}},X=async()=>{const P={codigo:"PTRG",supuestos:"",riesgos:"",entregado:!1,objetivo_general:A,objetivo_especifico:null,indicador_og:null,indicador_oe:null,resultado_og:null,resultado_oe:null,indicador_resultado_og:null,indicador_resultado_oe:null};try{console.log(P),await o(P);const N={sourceId:S.id.toString(),meta:{label:"Producto",type:"productogral",mapaNodoId:w.toString(),nodoProyecto:{id:r.value.id,codigo:r.value.codigo,supuestos:r.value.supuestos,riesgos:r.value.riesgos,entregado:r.entregado,objetivo_general:r.value.objetivo_general,objetivo_especifico:r.value.objetivo_especifico,indicador_og:r.value.indicador_og,indicador_oe:r.value.indicador_oe,resultado_og:r.value.resultado_og,resultado_oe:r.value.resultado_oe,indicador_resultado_og:r.value.indicador_resultado_og,indicador_resultado_oe:r.value.indicador_resultado_oe}}};L("addProducto",N)}catch(N){console.log("ERROR: ",N)}},H={width:"12px",height:"12px",background:"#555",borderRadius:"50%"};return(P,N)=>{const V=Be("v-list-item-title"),_=Be("v-icon"),F=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},P.$attrs),{default:ie(()=>[se("div",WM,[se("div",YM,[N[0]||(N[0]=se("strong",null,"Código:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",XM,[N[1]||(N[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",KM,[N[2]||(N[2]=se("strong",null,"Supuestos:",-1)),be(" "+Re(e.data.nodoProyecto.supuestos),1)]),se("div",ZM,[N[3]||(N[3]=se("strong",null,"Riesgos:",-1)),be(" "+Re(e.data.nodoProyecto.riesgos),1)])])]),menu:ie(()=>[le(F,{class:"custom-menu-item",onClick:j},{prepend:ie(()=>[le(_,{icon:"mdi-chart-line-variant"})]),default:ie(()=>[le(V,null,{default:ie(()=>N[4]||(N[4]=[be("Agregar KPI")])),_:1,__:[4]})]),_:1}),le(F,{class:"custom-menu-item",onClick:Z},{prepend:ie(()=>[le(_,{icon:"mdi-chart-line"})]),default:ie(()=>[le(V,null,{default:ie(()=>N[5]||(N[5]=[be("Agregar Indicador Objetivo General")])),_:1,__:[5]})]),_:1}),le(F,{class:"custom-menu-item",onClick:M},{prepend:ie(()=>[le(_,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(V,null,{default:ie(()=>N[6]||(N[6]=[be("Agregar Resultado Objetivo General")])),_:1,__:[6]})]),_:1}),le(F,{class:"custom-menu-item",onClick:I},{prepend:ie(()=>[le(_,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(V,null,{default:ie(()=>N[7]||(N[7]=[be("Agregar Objetivo Especifico")])),_:1,__:[7]})]),_:1}),le(F,{class:"custom-menu-item",onClick:X},{prepend:ie(()=>[le(_,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(V,null,{default:ie(()=>N[8]||(N[8]=[be("Agregar Producto")])),_:1,__:[8]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:H},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:H},null,8,["id"])]),_:1},16,["id","data"])}}},QM=Xt(JM,[["__scopeId","data-v-509c0594"]]),e9={class:"text-body-2"},t9={class:"mb-1"},n9={class:"mb-1"},r9={class:"mb-1"},o9={class:"mb-1"},i9={__name:"ObjetivoespecificoNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addIndicadorOE","addResultadoOE","addProductoOE","addProducto"],setup(e,{emit:t}){const n=e,{indicadorObjetivoEspecifico:r,crearIndicadorObjEspecifico:o}=Fu(),{crearResultadoOe:i,resultadoOe:a,error:s}=Rm(),{crearProductoOe:u,productoOe:l,productoGral:c,crearProductoGeneral:f}=Ho(),{findNode:p}=ut(),h=p(n.id),g=h.data.nodoProyecto.id,w=Ht("proyectoEstructura").value.mapa_nodo.id,y={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},S=t,A=async()=>{const M={codigo:"IND001-OESP01",descripcion:"",definicion:"",redaccion:"GUIA",fuente_verificacion:"",target_poblacion:"",tipo:"A-Z",baseline:"",target_q1:"",target_q2:"",target_q3:"",target_q4:"",objetivo_especifico:g.toString()};try{await o(M);const I={sourceId:h.id.toString(),meta:{label:"Indicador OE",type:"indicadoroe",estado:"ES",mapaNodoId:w.toString(),nodoProyecto:{id:r.value.id,codigo:r.value.codigo,descripcion:r.value.descripcion,definicion:r.value.definicion,redaccion:r.value.redaccion,fuente_verificacion:r.value.fuente_verificacion,target_poblacion:r.value.target_poblacion,tipo:r.value.tipo,baseline:r.value.baseline,target_q1:r.value.target_q1,target_q2:r.value.target_q2,target_q3:r.value.target_q3,target_q4:r.value.target_q4,objetivo_especifico:r.value.objetivo_especifico}}};S("addIndicadorOE",I)}catch(I){console.log("Error al crear el Indicador OE",I)}},L=async()=>{const M={codigo:"RES",descripcion:"Des Res OE",supuestos:"SUp Res OE",riesgos:"Riesg Res OE",proceso:null,objetivo_especifico:g.toString()};try{await i(M);const I={sourceId:h.id.toString(),meta:{label:"Resultado OE",type:"resultadooe",estado:"ES",mapaNodoId:w.toString(),nodoProyecto:{id:a.value.id,codigo:a.value.codigo,descripcion:a.value.descripcion,supuestos:a.value.supuestos,riesgos:a.value.riesgos,proceso:null,objetivo_especifico:a.value.objetivo_especifico}}};S("addResultadoOE",I)}catch(I){console.error("Error al crear "+s,I)}},j=async()=>{const M={codigo:"P00 -SO",supuestos:"sup prod oe",riesgos:"risk oe",entregado:!1,proceso:null,objetivo_especifico:g.toString()};try{await u(M);const I={sourceId:h.id.toString(),meta:{label:"Producto OE",type:"productooe",mapaNodoId:w.toString(),nodoProyecto:{id:l.value.id,codigo:l.value.codigo,descripcion:l.value.descripcion,supuestos:l.value.supuestos,riesgos:l.value.riesgos,entregado:l.value.entregado,proceso:null,objetivo_especifico:l.value.objetivo_especifico}}};S("addProductoOE",I)}catch(I){console.error("Error al crear Producto OE",I)}},Z=async()=>{const M={codigo:"PTRG",supuestos:"",riesgos:"",entregado:!1,objetivo_general:null,objetivo_especifico:g,indicador_og:null,indicador_oe:null,resultado_og:null,resultado_oe:null,indicador_resultado_og:null,indicador_resultado_oe:null};try{console.log(M),await f(M);const I={sourceId:h.id.toString(),meta:{label:"Producto",type:"productogral",mapaNodoId:w.toString(),nodoProyecto:{id:c.value.id,codigo:c.value.codigo,supuestos:c.value.supuestos,riesgos:c.value.riesgos,entregado:c.entregado,objetivo_general:c.value.objetivo_general,objetivo_especifico:c.value.objetivo_especifico,indicador_og:c.value.indicador_og,indicador_oe:c.value.indicador_oe,resultado_og:c.value.resultado_og,resultado_oe:c.value.resultado_oe,indicador_resultado_og:c.value.indicador_resultado_og,indicador_resultado_oe:c.value.indicador_resultado_oe}}};S("addProducto",I)}catch(I){console.log("ERROR: ",I)}};return(M,I)=>{const X=Be("v-list-item-title"),H=Be("v-icon"),P=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},M.$attrs),{default:ie(()=>[se("div",e9,[se("div",t9,[I[0]||(I[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",n9,[I[1]||(I[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",r9,[I[2]||(I[2]=se("strong",null,"Supuestos:",-1)),be(" "+Re(e.data.nodoProyecto.supuestos),1)]),se("div",o9,[I[3]||(I[3]=se("strong",null,"Riesgos:",-1)),be(" "+Re(e.data.nodoProyecto.riesgos),1)])])]),menu:ie(()=>[le(P,{class:"custom-menu-item",onClick:A},{prepend:ie(()=>[le(H,{icon:"mdi-chart-line"})]),default:ie(()=>[le(X,null,{default:ie(()=>I[4]||(I[4]=[be("Agregar Indicador Objetivo Especifico")])),_:1,__:[4]})]),_:1}),le(P,{class:"custom-menu-item",onClick:L},{prepend:ie(()=>[le(H,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(X,null,{default:ie(()=>I[5]||(I[5]=[be("Agregar Resultado Objetivo Especifico")])),_:1,__:[5]})]),_:1}),le(P,{class:"custom-menu-item",onClick:j},{prepend:ie(()=>[le(H,{icon:"mdi-package-variant-closed"})]),default:ie(()=>[le(X,null,{default:ie(()=>I[6]||(I[6]=[be("Agregar Producto Objetivo Especifico")])),_:1,__:[6]})]),_:1}),le(P,{class:"custom-menu-item",onClick:Z},{prepend:ie(()=>[le(H,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(X,null,{default:ie(()=>I[7]||(I[7]=[be("Agregar Producto")])),_:1,__:[7]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:y},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:y},null,8,["id"])]),_:1},16,["id","data"])}}},a9=Xt(i9,[["__scopeId","data-v-150d5685"]]),s9={class:"text-body-2"},u9={class:"mb-1"},l9={class:"mb-1"},c9={class:"mb-1"},d9={class:"mb-1"},f9={__name:"ObjetivoespecificoOGNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addIndicadorOE","addResultadoOE","addProductoOE","addProducto"],setup(e,{emit:t}){const n=e;Pu(n.data.datosNodo||{});const{indicadorObjetivoEspecifico:r,crearIndicadorObjEspecifico:o}=Fu(),{crearResultadoOe:i,resultadoOe:a,error:s}=Rm(),{crearProductoOe:u,productoOe:l,productoGral:c,crearProductoGeneral:f}=Ho(),h=Ht("proyectoEstructura").value.mapa_nodo.id,{findNode:g}=ut(),b=g(n.id),w=b.data.nodoProyecto.id,y={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},S=t,A=async()=>{const M={codigo:"IND001-OESP01",descripcion:"des test",definicion:"def test",redaccion:"GUIA",fuente_verificacion:"",target_poblacion:"",tipo:"A-Z",baseline:"",target_q1:"",target_q2:"",target_q3:"",objetivo_especifico:w.toString()};try{await o(M);const I={sourceId:b.id.toString(),meta:{label:"Indicador OE",type:"indicadoroe",estado:"ES",mapaNodoId:h.toString(),nodoProyecto:{id:r.value.id,codigo:r.value.codigo,descripcion:r.value.descripcion,definicion:r.value.definicion,redaccion:r.value.redaccion,fuente_verificacion:r.value.fuente_verificacion,target_poblacion:r.value.target_poblacion,tipo:r.value.tipo,baseline:r.value.baseline,target_q1:r.value.target_q1,target_q2:r.value.target_q2,target_q3:r.value.target_q3,objetivo_especifico:r.value.objetivo_especifico}}};S("addIndicadorOE",I)}catch(I){console.log("Error al crear el Indicador OE",I)}},L=async()=>{const M={codigo:"RES",descripcion:"Des Res OE",supuestos:"SUp Res OE",riesgos:"Riesg Res OE",proceso:null,objetivo_especifico:w.toString()};try{await i(M);const I={sourceId:b.id.toString(),meta:{label:"Resultado OE",type:"resultadooe",estado:"ES",mapaNodoId:h.toString(),nodoProyecto:{id:a.value.id,codigo:a.value.codigo,descripcion:a.value.descripcion,supuestos:a.value.supuestos,riesgos:a.value.riesgos,proceso:null,objetivo_especifico:a.value.objetivo_especifico}}};S("addResultadoOE",I)}catch(I){console.error("Error al crear "+s,I)}},j=async()=>{const M={codigo:"P00 -SO",supuestos:"sup prod oe",riesgos:"risk oe",entregado:!1,proceso:null,objetivo_especifico:w.toString()};try{await u(M);const I={sourceId:b.id.toString(),meta:{label:"Producto OE",type:"productooe",mapaNodoId:h.toString(),nodoProyecto:{id:l.value.id,codigo:l.value.codigo,descripcion:l.value.descripcion,supuestos:l.value.supuestos,riesgos:l.value.riesgos,entregado:l.value.entregado,proceso:null,objetivo_especifico:l.value.objetivo_especifico}}};S("addProductoOE",I)}catch(I){console.error("Error al crear Producto OE",I)}},Z=async()=>{const M={codigo:"PTRG",supuestos:"",riesgos:"",entregado:!1,objetivo_general:null,objetivo_especifico:w,indicador_og:null,indicador_oe:null,resultado_og:null,resultado_oe:null,indicador_resultado_og:null,indicador_resultado_oe:null};try{console.log(M),await f(M);const I={sourceId:b.id.toString(),meta:{label:"Producto",type:"productogral",mapaNodoId:h.toString(),nodoProyecto:{id:c.value.id,codigo:c.value.codigo,supuestos:c.value.supuestos,riesgos:c.value.riesgos,entregado:c.entregado,objetivo_general:c.value.objetivo_general,objetivo_especifico:c.value.objetivo_especifico,indicador_og:c.value.indicador_og,indicador_oe:c.value.indicador_oe,resultado_og:c.value.resultado_og,resultado_oe:c.value.resultado_oe,indicador_resultado_og:c.value.indicador_resultado_og,indicador_resultado_oe:c.value.indicador_resultado_oe}}};S("addProducto",I)}catch(I){console.log("ERROR: ",I)}};return(M,I)=>{const X=Be("v-list-item-title"),H=Be("v-icon"),P=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},M.$attrs),{default:ie(()=>[se("div",s9,[se("div",u9,[I[0]||(I[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",l9,[I[1]||(I[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",c9,[I[2]||(I[2]=se("strong",null,"Supuestos:",-1)),be(" "+Re(e.data.nodoProyecto.supuestos),1)]),se("div",d9,[I[3]||(I[3]=se("strong",null,"Riesgos:",-1)),be(" "+Re(e.data.nodoProyecto.riesgos),1)])])]),menu:ie(()=>[le(P,{class:"custom-menu-item",onClick:A},{prepend:ie(()=>[le(H,{icon:"mdi-chart-line"})]),default:ie(()=>[le(X,null,{default:ie(()=>I[4]||(I[4]=[be("Agregar Indicador Objetivo Especifico")])),_:1,__:[4]})]),_:1}),le(P,{class:"custom-menu-item",onClick:L},{prepend:ie(()=>[le(H,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(X,null,{default:ie(()=>I[5]||(I[5]=[be("Agregar Resultado Objetivo Especifico")])),_:1,__:[5]})]),_:1}),le(P,{class:"custom-menu-item",onClick:j},{prepend:ie(()=>[le(H,{icon:"mdi-package-variant-closed"})]),default:ie(()=>[le(X,null,{default:ie(()=>I[6]||(I[6]=[be("Agregar Producto Objetivo Especifico")])),_:1,__:[6]})]),_:1}),le(P,{class:"custom-menu-item",onClick:Z},{prepend:ie(()=>[le(H,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(X,null,{default:ie(()=>I[7]||(I[7]=[be("Agregar Producto")])),_:1,__:[7]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:y},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:y},null,8,["id"])]),_:1},16,["id","data"])}}},h9=Xt(f9,[["__scopeId","data-v-587360d7"]]),p9={class:"text-body-2"},v9={class:"mb-1"},g9={class:"mb-1"},m9={__name:"KpiNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){const t=e,{findNode:n}=ut();n(t.id);const r={width:"12px",height:"12px",background:"#555",borderRadius:"50%"};return(o,i)=>(je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0,"show-menu":!1},o.$attrs),{default:ie(()=>[se("div",p9,[se("div",v9,[i[0]||(i[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",g9,[i[1]||(i[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)])])]),menu:ie(()=>i[2]||(i[2]=[])),handles:ie(()=>[le(Ne(bt),{type:"source",position:"top",id:`source-${e.id}`,style:r},null,8,["id"])]),_:1},16,["id","data"]))}},y9=Xt(m9,[["__scopeId","data-v-14cd5e17"]]),b9={class:"text-body-2"},_9={class:"mb-1"},w9={class:"mb1"},x9={class:"mb1"},S9={class:"mb-1"},A9={class:"mb-1"},N9={class:"mb-1"},E9={class:"mb-1"},P9={class:"mb-1"},I9={class:"mb-1"},L9={class:"mb-1"},C9={class:"mb-1"},O9={__name:"IndicadorObjgeneralNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addProducto"],setup(e,{emit:t}){const n=e,{productoGral:r,crearProductoGeneral:o}=Ho(),{findNode:i}=ut(),a=i(n.id),s=a.data.nodoProyecto.id,l=Ht("proyectoEstructura").value.mapa_nodo.id,c=t,f=async()=>{const h={codigo:"PTRG",supuestos:"",riesgos:"",entregado:!1,objetivo_general:null,objetivo_especifico:null,indicador_og:s,indicador_oe:null,resultado_og:null,resultado_oe:null,indicador_resultado_og:null,indicador_resultado_oe:null};try{console.log(h),await o(h);const g={sourceId:a.id.toString(),meta:{label:"Producto",type:"productogral",mapaNodoId:l.toString(),nodoProyecto:{id:r.value.id,codigo:r.value.codigo,supuestos:r.value.supuestos,riesgos:r.value.riesgos,entregado:r.entregado,objetivo_general:r.value.objetivo_general,objetivo_especifico:r.value.objetivo_especifico,indicador_og:r.value.indicador_og,indicador_oe:r.value.indicador_oe,resultado_og:r.value.resultado_og,resultado_oe:r.value.resultado_oe,indicador_resultado_og:r.value.indicador_resultado_og,indicador_resultado_oe:r.value.indicador_resultado_oe}}};c("addProducto",g)}catch(g){console.log("ERROR: ",g)}},p={width:"12px",height:"12px",background:"#555",borderRadius:"50%"};return(h,g)=>{const b=Be("v-list-item-title"),w=Be("v-icon"),y=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0,"show-menu":!0},h.$attrs),{default:ie(()=>[se("div",b9,[se("div",_9,[g[0]||(g[0]=se("strong",null,"codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",w9,[g[1]||(g[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",x9,[g[2]||(g[2]=se("strong",null,"Definicion:",-1)),be(" "+Re(e.data.nodoProyecto.definicion),1)]),se("div",S9,[g[3]||(g[3]=se("strong",null,"Redaccion:",-1)),be(" "+Re(e.data.nodoProyecto.redaccion),1)]),se("div",A9,[g[4]||(g[4]=se("strong",null,"Fuente de verificacion:",-1)),be(" "+Re(e.data.nodoProyecto.fuente_verificacion),1)]),se("div",N9,[g[5]||(g[5]=se("strong",null,"Target poblacion:",-1)),be(" "+Re(e.data.nodoProyecto.target_poblacion),1)]),se("div",E9,[g[6]||(g[6]=se("strong",null,"Tipo:",-1)),be(" "+Re(e.data.nodoProyecto.tipo),1)]),se("div",P9,[g[7]||(g[7]=se("strong",null,"Baseline:",-1)),be(" "+Re(e.data.nodoProyecto.baseline),1)]),se("div",I9,[g[8]||(g[8]=se("strong",null,"target q1:",-1)),be(" "+Re(e.data.nodoProyecto.target_q1),1)]),se("div",L9,[g[9]||(g[9]=se("strong",null,"target q2:",-1)),be(" "+Re(e.data.nodoProyecto.target_q2),1)]),se("div",C9,[g[10]||(g[10]=se("strong",null,"target q3:",-1)),be(" "+Re(e.data.nodoProyecto.target_q3),1)])])]),menu:ie(()=>[le(y,{class:"custom-menu-item",onClick:f},{prepend:ie(()=>[le(w,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(b,null,{default:ie(()=>g[11]||(g[11]=[be("Agregar Producto")])),_:1,__:[11]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:p},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:p},null,8,["id"])]),_:1},16,["id","data"])}}},k9=Xt(O9,[["__scopeId","data-v-5e6bcd2f"]]),R9={class:"text-body-2"},q9={class:"mb-1"},T9={class:"mb1"},M9={class:"mb1"},D9={class:"mb-1"},F9={class:"mb-1"},j9={class:"mb-1"},$9={class:"mb-1"},B9={class:"mb-1"},z9={class:"mb-1"},G9={class:"mb-1"},U9={class:"mb-1"},V9={__name:"IndicadorObjespecifico",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addProducto"],setup(e,{emit:t}){const n=e,{productoGral:r,crearProductoGeneral:o}=Ho(),{findNode:i}=ut(),a=i(n.id),s=a.data.nodoProyecto.id,l=Ht("proyectoEstructura").value.mapa_nodo.id,c={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},f=t,p=async()=>{const h={codigo:"PTRG",supuestos:"",riesgos:"",entregado:!1,objetivo_general:null,objetivo_especifico:null,indicador_og:null,indicador_oe:s,resultado_og:null,resultado_oe:null,indicador_resultado_og:null,indicador_resultado_oe:null};try{console.log(h),await o(h);const g={sourceId:a.id.toString(),meta:{label:"Producto",type:"productogral",mapaNodoId:l.toString(),nodoProyecto:{id:r.value.id,codigo:r.value.codigo,supuestos:r.value.supuestos,riesgos:r.value.riesgos,entregado:r.entregado,objetivo_general:r.value.objetivo_general,objetivo_especifico:r.value.objetivo_especifico,indicador_og:r.value.indicador_og,indicador_oe:r.value.indicador_oe,resultado_og:r.value.resultado_og,resultado_oe:r.value.resultado_oe,indicador_resultado_og:r.value.indicador_resultado_og,indicador_resultado_oe:r.value.indicador_resultado_oe}}};f("addProducto",g)}catch(g){console.log("ERROR: ",g)}};return(h,g)=>{const b=Be("v-list-item-title"),w=Be("v-icon"),y=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0,"show-menu":!0},h.$attrs),{default:ie(()=>[se("div",R9,[se("div",q9,[g[0]||(g[0]=se("strong",null,"Código:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",T9,[g[1]||(g[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",M9,[g[2]||(g[2]=se("strong",null,"Definicion:",-1)),be(" "+Re(e.data.nodoProyecto.definicion),1)]),se("div",D9,[g[3]||(g[3]=se("strong",null,"Redaccion:",-1)),be(" "+Re(e.data.nodoProyecto.redaccion),1)]),se("div",F9,[g[4]||(g[4]=se("strong",null,"Fuente de verificacion:",-1)),be(" "+Re(e.data.nodoProyecto.fuente_verificacion),1)]),se("div",j9,[g[5]||(g[5]=se("strong",null,"Target poblacion:",-1)),be(" "+Re(e.data.nodoProyecto.target_poblacion),1)]),se("div",$9,[g[6]||(g[6]=se("strong",null,"Tipo:",-1)),be(" "+Re(e.data.nodoProyecto.tipo),1)]),se("div",B9,[g[7]||(g[7]=se("strong",null,"Base line",-1)),be(" "+Re(e.data.nodoProyecto.baseline),1)]),se("div",z9,[g[8]||(g[8]=se("strong",null,"target q1",-1)),be(" "+Re(e.data.nodoProyecto.target_q1),1)]),se("div",G9,[g[9]||(g[9]=se("strong",null,"target q2",-1)),be(" "+Re(e.data.nodoProyecto.target_q2),1)]),se("div",U9,[g[10]||(g[10]=se("strong",null,"target q3",-1)),be(" "+Re(e.data.nodoProyecto.target_q3),1)])])]),menu:ie(()=>[le(y,{class:"custom-menu-item",onClick:p},{prepend:ie(()=>[le(w,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(b,null,{default:ie(()=>g[11]||(g[11]=[be("Agregar Producto")])),_:1,__:[11]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:c},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:c},null,8,["id"])]),_:1},16,["id","data"])}}},H9=Xt(V9,[["__scopeId","data-v-58d40a93"]]),Qs={all:async()=>{try{return(await Ze.get("/procesos/")).data}catch(e){throw console.error("Axios: fetch procesos ",e),e}},porId:async e=>{try{return(await Ze.get("/procesos/"+e+"/")).data}catch(t){throw console.error("Axios: fetch proceso por id "+e,t),t}},crear:async e=>{try{return(await Ze.post("/procesos/",e)).data}catch(t){throw console.error("Axios: Error crear procesos ",t),t}},update:async(e,t)=>{try{return(await Ze.put("/procesos/"+e+"/",t)).data}catch(n){throw console.error("Axios: Error al actualizar procesos id "+e,n),n}},delete:async e=>{try{return(await Ze.del("/procesos/"+e+"/")).data}catch(t){throw console.error("Axios: Error al eliminar proceoso con id"+e,t),t}}},Dr=Ue(null),za=Ue(null),G3=Ue([]),Jg=Ue(null);function qm(){async function e(){Dr.value=!0;try{const i=await Qs.cargarTodos();return G3.value=i,i}catch(i){za.value=i}finally{Dr.value=!1}}async function t(i){Dr.value=!0;try{const a=await Qs.porId(i);return Jg.value=a,a}catch(a){za.value=a}finally{Dr.value=!1}}async function n(i){Dr.value=!0;try{const a=await Qs.crear(i);return Jg.value=a,a}catch(a){za.value=a}finally{Dr.value=!1}}async function r(i,a){Dr.value=!0;try{return await Qs.update(i,a)}catch(s){za.value=s}finally{Dr.value=!1}}async function o(i){Dr.value=!0;try{return await Qs.delete(i)}catch(a){za.value=a}finally{Dr.value=!1}}return{loading:Dr,error:za,procesosTodos:G3,procesos:Jg,cargarProcesoTodos:e,cargarProcesoPorId:t,crearProceso:n,updateProceso:r,delProceso:o}}const eu={all:async()=>{try{return(await Ze.get("/actividades/")).data}catch(e){throw console.error("Axios: fetch actividades ",e),e}},porId:async e=>{try{return(await Ze.get("/actividades/"+e+"/")).data}catch(t){throw console.error("Axios: fetch actividad  id "+e,t),t}},crear:async e=>{try{return(await Ze.post("/actividades/",e)).data}catch(t){throw console.error("Axios: Error al crear actividad",t),t}},update:async(e,t)=>{try{return(await Ze.put("/actividades/"+e+"/",t)).data}catch(n){throw console.error("Axios: Error al actualizar actividad id "+e,n),n}},delete:async e=>{try{return(await Ze.del("/actividades/"+e+"/")).data}catch(t){throw console.error("Axios: Error al eliminar actividad  id"+e,t),t}}},Fr=Ue(null),Ga=Ue(null),U3=Ue([]),Qg=Ue(null);function gs(){async function e(){Fr.value=!0;try{const i=await eu.all();return U3.value=i,i}catch(i){Ga.value=i}finally{Fr.value=!1}}async function t(i){Fr.value=!0;try{const a=await eu.porId(i);return Qg.value=a,a}catch(a){Ga.value=a}finally{Fr.value=!1}}async function n(i){Fr.value=!0;try{const a=await eu.crear(i);return Qg.value=a,a}catch(a){Ga.value=a}finally{Fr.value=!1}}async function r(i,a){Fr.value=!0;try{return await eu.update(i,a)}catch(s){Ga.value=s}finally{Fr.value=!1}}async function o(i){Fr.value=!0;try{return await eu.delete(i)}catch(a){Ga.value=a}finally{Fr.value=!1}}return{loading:Fr,error:Ga,actividades:U3,actividad:Qg,cargarActividades:e,cargarActividadPorId:t,crearActividad:n,updateActividad:r,delActividad:o}}const W9={class:"text-body-2"},Y9={class:"mb-1"},X9={class:"mb-1"},K9={class:"mb-1"},Z9={class:"mb-1"},J9={__name:"ResultadoObjgeneralNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addIndicadorResultadoOg","addProcesosResultadoOg","addActividadResOG","addProducto"],setup(e,{emit:t}){const n=e,{error:r,indicadorResultadoObjGeneral:o,crearIndicadorResultadoObjetivoGeneral:i}=Fu(),{procesos:a,crearProceso:s}=qm(),{actividad:u,crearActividad:l}=gs(),{productoGral:c,crearProductoGeneral:f}=Ho(),h=Ht("proyectoEstructura").value.mapa_nodo.id,{findNode:g}=ut(),b=g(n.id),w=b.data.nodoProyecto.id,y={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},S=t,A=async()=>{const M={codigo:"IND00-R0-OG",descripcion:"",definicion:"",redaccion:"GUIA",fuente_verificacion:"Fuente Verificacion",target_poblacion:"",tipo:"A-Z",baseline:"",target_q1:"",target_q2:"",target_q3:"",resultado_og:w};try{await i(M);const I={sourceId:b.id.toString(),meta:{label:"Indicador Res. OG",type:"indicadorog",estado:"ES",mapaNodoId:h.toString(),nodoProyecto:{id:o.value.id,descripcion:o.value.descripcion,definicion:o.value.definicion,codigo:o.value.codigo,redaccion:o.value.redaccion,fuente_verificacion:o.value.fuente_verificacion,target_poblacion:o.value.target_poblacion,tipo:o.value.tipo,baseline:o.value.baseline,target_q1:o.value.target_q1,target_q2:o.value.target_q2,target_q3:o.value.target_q3,resultado_og:o.value.resultado_og}}};S("addIndicadorResultadoOg",I)}catch(I){console.log("Error al crear el Indicador Res OG"+I+" - "+r)}},L=async()=>{const M={codigo:"PROC",titulo:"Procesos Res OG",descripcion:"",resultado_og:w,resultado_oe:null,producto_oe:null};try{await s(M),console.log("Proceso"),console.log(a);const I={sourceId:b.id.toString(),meta:{label:"Procesos Resultado OG",type:"procesorog",mapaNodoId:h.toString(),nodoProyecto:{id:a.value.id,codigo:a.value.codigo,titulo:a.value.titulo,descripcion:a.value.descripcion,resultado_og:a.value.resultado_og,resultado_oe:a.value.resultado_oe,producto_oe:a.producto_oe}}};S("addProcesosResultadoOg",I)}catch(I){console.log("Error al crear el Indicador Res OG"+I)}},j=async()=>{const M={codigo:"ACT001",descripcion:"dedede create",tipo:"CSNS",fecha_programada:null,duracion:4,fecha_inicio:null,fecha_cierre:null,presupuesto:null,presupuesto_pei:null,estado:"SPLAN",procedencia_fondos:"PROY",objetivo_de_actividad:"",descripcion_evaluacion:"",justificacion_modificacion:"",datos_actividad:null,proceso:null,resultado_og:w,resultado_oe:null,producto_oe:null};try{await l(M),console.log(u);const I={sourceId:b.id.toString(),meta:{label:"Actividad Res. OG",type:"actividadrog",mapaNodoId:h.toString(),nodoProyecto:{id:u.value.id,codigo:u.value.codigo,descripcion:u.value.descripcion,tipo:u.value.tipo,fecha_programada:u.value.fecha_programada,duracion:u.value.duracion,fecha_inicio:u.value.fecha_inicio,fecha_cierre:u.value.fecha_cierre,presupuesto:u.value.presupuesto,presupuesto_pei:u.value.presupuesto_pei,estado:u.value.estado,procedencia_fondos:u.value.procedencia_fondos,objetivo_de_actividad:u.value.objetivo_de_actividad,descripcion_evaluacion:u.value.descripcion_evaluacion,justificacion_modificacion:u.value.justificacion_modificacion,datos_actividad:u.value.datos_actividad,proceso:u.value.proceso,resultado_og:u.value.resultado_og,resultado_oe:u.value.resultado_oe,producto_oe:u.value.producto_oe}}};S("addActividadResOG",I)}catch(I){console.error("Eror al crear",I)}},Z=async()=>{const M={codigo:"PTRG",supuestos:"",riesgos:"",entregado:!1,objetivo_general:null,objetivo_especifico:null,indicador_og:null,indicador_oe:null,resultado_og:w,resultado_oe:null,indicador_resultado_og:null,indicador_resultado_oe:null};try{console.log(M),await f(M);const I={sourceId:b.id.toString(),meta:{label:"Producto",type:"productogral",mapaNodoId:h.toString(),nodoProyecto:{id:c.value.id,codigo:c.value.codigo,supuestos:c.value.supuestos,riesgos:c.value.riesgos,entregado:c.entregado,objetivo_general:c.value.objetivo_general,objetivo_especifico:c.value.objetivo_especifico,indicador_og:c.value.indicador_og,indicador_oe:c.value.indicador_oe,resultado_og:c.value.resultado_og,resultado_oe:c.value.resultado_oe,indicador_resultado_og:c.value.indicador_resultado_og,indicador_resultado_oe:c.value.indicador_resultado_oe}}};S("addProducto",I)}catch(I){console.log("ERROR: ",I)}};return(M,I)=>{const X=Be("v-list-item-title"),H=Be("v-icon"),P=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},M.$attrs),{default:ie(()=>[se("div",W9,[se("div",Y9,[I[0]||(I[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",X9,[I[1]||(I[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",K9,[I[2]||(I[2]=se("strong",null,"Supuestos:",-1)),be(" "+Re(e.data.nodoProyecto.supuestos),1)]),se("div",Z9,[I[3]||(I[3]=se("strong",null,"Riesgos:",-1)),be(" "+Re(e.data.nodoProyecto.riesgos),1)])])]),menu:ie(()=>[le(P,{class:"custom-menu-item",onClick:A},{prepend:ie(()=>[le(H,{icon:"mdi-chart-line"})]),default:ie(()=>[le(X,null,{default:ie(()=>I[4]||(I[4]=[be("Agregar Indicador Resultado OG")])),_:1,__:[4]})]),_:1}),le(P,{class:"custom-menu-item",onClick:L},{prepend:ie(()=>[le(H,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(X,null,{default:ie(()=>I[5]||(I[5]=[be("Agregar Procesos")])),_:1,__:[5]})]),_:1}),le(P,{class:"custom-menu-item",onClick:j},{prepend:ie(()=>[le(H,{icon:"mdi-clock-outline"})]),default:ie(()=>[le(X,null,{default:ie(()=>I[6]||(I[6]=[be("Agregar Actividad")])),_:1,__:[6]})]),_:1}),le(P,{class:"custom-menu-item",onClick:Z},{prepend:ie(()=>[le(H,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(X,null,{default:ie(()=>I[7]||(I[7]=[be("Agregar Producto")])),_:1,__:[7]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:y},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:y},null,8,["id"])]),_:1},16,["id","data"])}}},Q9=Xt(J9,[["__scopeId","data-v-6adcd388"]]),eD={class:"text-body-2"},tD={class:"mb-1"},nD={class:"mb-1"},rD={class:"mb-1"},oD={class:"mb-1"},iD={__name:"ResultadoObjetivoEspecifico",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addIndicadorResultadoOE","addProductoResultadoOE","addProcesosResultadoOE","addActividadResOE","addProducto"],setup(e,{emit:t}){const n=e,{indicadorResultadoObjEspecifico:r,crearIndicadorResultadoObjEspecifico:o}=Fu(),{productoResultadoOe:i,crearProductoResultadoOe:a,productoGral:s,crearProductoGeneral:u}=Ho(),{procesos:l,crearProceso:c}=qm(),{actividad:f,crearActividad:p}=gs(),{findNode:h}=ut(),g=h(n.id),b=g.data.nodoProyecto.id,y=Ht("proyectoEstructura").value.mapa_nodo.id,S={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},A=t,L=async()=>{const X={codigo:"IND-RES-OE",descripcion:"",definicion:"",redaccion:"GUIA",fuente_verificacion:"",target_poblacion:"",tipo:"A-Z",baseline:"",target_q1:"",target_q2:"",target_q3:"",resultado_obj_especifico:b.toString()};try{await o(X);const H={sourceId:g.id.toString(),meta:{label:"Indicador Resultado OE",type:"indicadorroe",mapaNodoId:y.toString(),nodoProyecto:{id:r.value.id,codigo:r.value.codigo,descripcion:r.value.descripcion,definicion:r.value.definicion,redaccion:r.value.redaccion,fuente_verificacion:r.value.fuente_verificacion,target_poblacion:r.value.target_poblacion,tipo:r.value.tipo,baseline:r.value.baseline,target_q1:r.value.target_q1,target_q2:r.value.target_q2,target_q3:r.value.target_q3,resultado_obj_especifico:r.resultado_obj_especifico}}};A("addIndicadorResultadoOE",H)}catch(H){console.log("Error al crear el Indicador OE",H)}},j=async()=>{const X={codigo:"PROD-RES-OE",supuestos:"sup prod",riesgos:"risk prod",entregado:!1,resultado_oe:b.toString()};try{await a(X),console.log(i);const H={sourceId:g.id.toString(),meta:{label:"Producto Resultado OE",type:"productoroe",mapaNodoId:y.toString(),nodoProyecto:{id:i.value.id,codigo:i.value.codigo,supuestos:i.value.supuestos,riesgos:i.value.riesgos,entregado:i.value.entregado,resultado_oe:i.value.resultado_oe}}};A("addProductoResultadoOE",H)}catch(H){console.log("Error al crear el Indicador OE",H)}},Z=async()=>{const X={codigo:"PROC",titulo:"Proceso Resultado OE",descripcion:"",resultado_og:null,resultado_oe:b,producto_oe:null};try{await c(X);const H={sourceId:g.id.toString(),meta:{label:"Procesos Resultado OE",type:"procesoroe",mapaNodoId:y.toString(),nodoProyecto:{id:l.value.id,codigo:l.value.codigo,titulo:l.value.titulo,descripcion:l.value.descripcion,resultado_og:l.value.resultado_og,resultado_oe:l.value.resultado_oe,producto_oe:l.producto_oe}}};A("addProcesosResultadoOE",H)}catch(H){console.log("Error al crear el Indicador Res OG"+H)}},M=async()=>{const X={codigo:"ACT001",descripcion:"dedede create",tipo:"CSNS",fecha_programada:null,duracion:4,fecha_inicio:null,fecha_cierre:null,presupuesto:null,presupuesto_pei:null,estado:"SPLAN",procedencia_fondos:"PROY",objetivo_de_actividad:"",descripcion_evaluacion:"",justificacion_modificacion:"",datos_actividad:null,proceso:null,resultado_og:null,resultado_oe:b,producto_oe:null};try{await p(X),console.log(f);const H={sourceId:g.id.toString(),meta:{label:"Actividad Res. OE",type:"actividadroe",mapaNodoId:y.toString(),nodoProyecto:{id:f.value.id,codigo:f.value.codigo,descripcion:f.value.descripcion,tipo:f.value.tipo,fecha_programada:f.value.fecha_programada,duracion:f.value.duracion,fecha_inicio:f.value.fecha_inicio,fecha_cierre:f.value.fecha_cierre,presupuesto:f.value.presupuesto,presupuesto_pei:f.value.presupuesto_pei,estado:f.value.estado,procedencia_fondos:f.value.procedencia_fondos,objetivo_de_actividad:f.value.objetivo_de_actividad,descripcion_evaluacion:f.value.descripcion_evaluacion,justificacion_modificacion:f.value.justificacion_modificacion,datos_actividad:f.value.datos_actividad,proceso:f.value.proceso,resultado_og:f.value.resultado_og,resultado_oe:f.value.resultado_oe,producto_oe:f.value.producto_oe}}};A("addActividadResOE",H)}catch(H){console.error("Eror al crear",H)}},I=async()=>{const X={codigo:"PTRG",supuestos:"",riesgos:"",entregado:!1,objetivo_general:null,objetivo_especifico:null,indicador_og:null,indicador_oe:null,resultado_og:null,resultado_oe:b,indicador_resultado_og:null,indicador_resultado_oe:null};try{console.log(X),await u(X);const H={sourceId:g.id.toString(),meta:{label:"Producto",type:"productogral",mapaNodoId:y.toString(),nodoProyecto:{id:s.value.id,codigo:s.value.codigo,supuestos:s.value.supuestos,riesgos:s.value.riesgos,entregado:s.entregado,objetivo_general:s.value.objetivo_general,objetivo_especifico:s.value.objetivo_especifico,indicador_og:s.value.indicador_og,indicador_oe:s.value.indicador_oe,resultado_og:s.value.resultado_og,resultado_oe:s.value.resultado_oe,indicador_resultado_og:s.value.indicador_resultado_og,indicador_resultado_oe:s.value.indicador_resultado_oe}}};A("addProducto",H)}catch(H){console.log("ERROR: ",H)}};return(X,H)=>{const P=Be("v-list-item-title"),N=Be("v-icon"),V=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},X.$attrs),{default:ie(()=>[se("div",eD,[se("div",tD,[H[0]||(H[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",nD,[H[1]||(H[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",rD,[H[2]||(H[2]=se("strong",null,"Supuestos:",-1)),be(" "+Re(e.data.nodoProyecto.supuestos),1)]),se("div",oD,[H[3]||(H[3]=se("strong",null,"Riesgos:",-1)),be(" "+Re(e.data.nodoProyecto.riesgos),1)])])]),menu:ie(()=>[le(V,{class:"custom-menu-item",onClick:L},{prepend:ie(()=>[le(N,{icon:"mdi-chart-line-variant"})]),default:ie(()=>[le(P,null,{default:ie(()=>H[4]||(H[4]=[be("Agregar Indicador Resultado OE")])),_:1,__:[4]})]),_:1}),le(V,{class:"custom-menu-item",onClick:j},{prepend:ie(()=>[le(N,{icon:"mdi-chart-line"})]),default:ie(()=>[le(P,null,{default:ie(()=>H[5]||(H[5]=[be("Agregar Producto de Resultado OE")])),_:1,__:[5]})]),_:1}),le(V,{class:"custom-menu-item",onClick:Z},{prepend:ie(()=>[le(N,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(P,null,{default:ie(()=>H[6]||(H[6]=[be("Agregar Procesos para Resultado OE")])),_:1,__:[6]})]),_:1}),le(V,{class:"custom-menu-item",onClick:M},{prepend:ie(()=>[le(N,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(P,null,{default:ie(()=>H[7]||(H[7]=[be("Agregar Actividad para Resultado OE")])),_:1,__:[7]})]),_:1}),le(V,{class:"custom-menu-item",onClick:I},{prepend:ie(()=>[le(N,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(P,null,{default:ie(()=>H[8]||(H[8]=[be("Agregar Producto")])),_:1,__:[8]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:S},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:S},null,8,["id"])]),_:1},16,["id","data"])}}},aD=Xt(iD,[["__scopeId","data-v-1f4d35b8"]]),sD={class:"text-body-2"},uD={class:"mb-1"},lD={class:"mb-1"},cD={class:"mb-1"},dD={class:"mb-1"},fD={class:"mb-1"},hD={__name:"ProductoObjEspecifico",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addProcesoProductoOE","addActividadProdOE"],setup(e,{emit:t}){const n=e,{procesos:r,crearProceso:o}=qm(),{actividad:i,crearActividad:a}=gs(),u=Ht("proyectoEstructura").value.mapa_nodo.id,{findNode:l}=ut(),c=l(n.id),f=c.data.nodoProyecto.id,p={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},h=t,g=async()=>{const w={codigo:"PROC",titulo:"Proceso Producto OE",descripcion:"",resultado_og:null,resultado_oe:null,producto_oe:f};try{await o(w);const y={sourceId:c.id.toString(),meta:{label:"Procesos Producto OE",type:"procesopoe",mapaNodoId:u.toString(),nodoProyecto:{id:r.value.id,codigo:r.value.codigo,titulo:r.value.titulo,descripcion:r.value.descripcion,resultado_og:r.value.resultado_og,resultado_oe:r.value.resultado_oe,producto_oe:r.producto_oe}}};h("addProcesoProductoOE",y)}catch(y){console.log("Error al crear el Indicador Res OG"+y)}},b=async()=>{const w={codigo:"ACT001",descripcion:"dedede create",tipo:"CSNS",fecha_programada:null,duracion:4,fecha_inicio:null,fecha_cierre:null,presupuesto:null,presupuesto_pei:null,estado:"SPLAN",procedencia_fondos:"PROY",objetivo_de_actividad:"",descripcion_evaluacion:"",justificacion_modificacion:"",datos_actividad:null,proceso:null,resultado_og:null,resultado_oe:null,producto_oe:f};try{await a(w),console.log(i);const y={sourceId:c.id.toString(),meta:{label:"Actividad Prod. OE",type:"actividadpoe",mapaNodoId:u.toString(),nodoProyecto:{id:i.value.id,codigo:i.value.codigo,descripcion:i.value.descripcion,tipo:i.value.tipo,fecha_programada:i.value.fecha_programada,duracion:i.value.duracion,fecha_inicio:i.value.fecha_inicio,fecha_cierre:i.value.fecha_cierre,presupuesto:i.value.presupuesto,presupuesto_pei:i.value.presupuesto_pei,estado:i.value.estado,procedencia_fondos:i.value.procedencia_fondos,objetivo_de_actividad:i.value.objetivo_de_actividad,descripcion_evaluacion:i.value.descripcion_evaluacion,justificacion_modificacion:i.value.justificacion_modificacion,datos_actividad:i.value.datos_actividad,proceso:i.value.proceso,resultado_og:i.value.resultado_og,resultado_oe:i.value.resultado_oe,producto_oe:i.value.producto_oe}}};h("addActividadProdOE",y)}catch(y){console.error("Eror al crear",y)}};return(w,y)=>{const S=Be("v-list-item-title"),A=Be("v-icon"),L=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},w.$attrs),{default:ie(()=>[se("div",sD,[se("div",uD,[y[0]||(y[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",lD,[y[1]||(y[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",cD,[y[2]||(y[2]=se("strong",null,"Supuestos:",-1)),be(" "+Re(e.data.nodoProyecto.supuestos),1)]),se("div",dD,[y[3]||(y[3]=se("strong",null,"Riesgos:",-1)),be(" "+Re(e.data.nodoProyecto.riesgos),1)]),se("div",fD,[y[4]||(y[4]=se("strong",null,"entregado:",-1)),be(" "+Re(e.data.nodoProyecto.entregado),1)])])]),menu:ie(()=>[le(L,{class:"custom-menu-item",onClick:g},{prepend:ie(()=>[le(A,{icon:"mdi-chart-line-variant"})]),default:ie(()=>[le(S,null,{default:ie(()=>y[5]||(y[5]=[be("Agregar Procesos")])),_:1,__:[5]})]),_:1}),le(L,{class:"custom-menu-item",onClick:b},{prepend:ie(()=>[le(A,{icon:"mdi-chart-line-variant"})]),default:ie(()=>[le(S,null,{default:ie(()=>y[6]||(y[6]=[be("Agregar Actividades")])),_:1,__:[6]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:p},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:p},null,8,["id"])]),_:1},16,["id","data"])}}},pD=Xt(hD,[["__scopeId","data-v-a1787cde"]]),vD={class:"text-body-2"},gD={class:"mb-1"},mD={class:"mb-1"},yD={class:"mb-1"},bD={class:"mb-1"},_D={class:"mb-1"},wD={__name:"ProductoResultadoObjEspecifico",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){const t=e,n={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},{findNode:r}=ut();return r(t.id),(o,i)=>(je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0,"show-menu":!1},o.$attrs),{default:ie(()=>[se("div",vD,[se("div",gD,[i[0]||(i[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",mD,[i[1]||(i[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",yD,[i[2]||(i[2]=se("strong",null,"Supuestos:",-1)),be(" "+Re(e.data.nodoProyecto.supuestos),1)]),se("div",bD,[i[3]||(i[3]=se("strong",null,"Riesgos:",-1)),be(" "+Re(e.data.nodoProyecto.riesgos),1)]),se("div",_D,[i[4]||(i[4]=se("strong",null,"Entregado:",-1)),be(" "+Re(e.data.nodoProyecto.entregado),1)])])]),menu:ie(()=>i[5]||(i[5]=[])),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:n},null,8,["id"])]),_:1},16,["id","data"]))}},xD=Xt(wD,[["__scopeId","data-v-187de149"]]),SD={class:"text-body-2"},AD={class:"mb-1"},ND={class:"mb-1"},ED={class:"mb-1"},PD={class:"mb-1"},ID={class:"mb-1"},LD={class:"mb-1"},CD={class:"mb-1"},OD={class:"mb-1"},kD={class:"mb-1"},RD={class:"mb-1"},qD={class:"mb-1"},TD={__name:"IndicadorResultadoObjGeneral",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addProducto"],setup(e,{emit:t}){const n=e,{productoGral:r,crearProductoGeneral:o}=Ho(),{findNode:i}=ut(),a=i(n.id),s=a.data.nodoProyecto.id,l=Ht("proyectoEstructura").value.mapa_nodo.id,c={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},f=t,p=async()=>{const h={codigo:"PTRG",supuestos:"",riesgos:"",entregado:!1,objetivo_general:null,objetivo_especifico:null,indicador_og:null,indicador_oe:null,resultado_og:null,resultado_oe:null,indicador_resultado_og:s,indicador_resultado_oe:null};try{console.log(h),await o(h);const g={sourceId:a.id.toString(),meta:{label:"Producto",type:"productogral",mapaNodoId:l.toString(),nodoProyecto:{id:r.value.id,codigo:r.value.codigo,supuestos:r.value.supuestos,riesgos:r.value.riesgos,entregado:r.entregado,objetivo_general:r.value.objetivo_general,objetivo_especifico:r.value.objetivo_especifico,indicador_og:r.value.indicador_og,indicador_oe:r.value.indicador_oe,resultado_og:r.value.resultado_og,resultado_oe:r.value.resultado_oe,indicador_resultado_og:r.value.indicador_resultado_og,indicador_resultado_oe:r.value.indicador_resultado_oe}}};f("addProducto",g)}catch(g){console.log("ERROR: ",g)}};return(h,g)=>{const b=Be("v-list-item-title"),w=Be("v-icon"),y=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0,"show-menu":!0},h.$attrs),{default:ie(()=>[se("div",SD,[se("div",AD,[g[0]||(g[0]=se("strong",null,"codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",ND,[g[1]||(g[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",ED,[g[2]||(g[2]=se("strong",null,"Definicion:",-1)),be(" "+Re(e.data.nodoProyecto.definicion),1)]),se("div",PD,[g[3]||(g[3]=se("strong",null,"Redaccion:",-1)),be(" "+Re(e.data.nodoProyecto.redaccion),1)]),se("div",ID,[g[4]||(g[4]=se("strong",null,"Fuente de verificacion:",-1)),be(" "+Re(e.data.nodoProyecto.fuente_verificacion),1)]),se("div",LD,[g[5]||(g[5]=se("strong",null,"Target poblacion:",-1)),be(" "+Re(e.data.nodoProyecto.target_poblacion),1)]),se("div",CD,[g[6]||(g[6]=se("strong",null,"Tipo:",-1)),be(" "+Re(e.data.nodoProyecto.tipo),1)]),se("div",OD,[g[7]||(g[7]=se("strong",null,"Baseline:",-1)),be(" "+Re(e.data.nodoProyecto.baseline),1)]),se("div",kD,[g[8]||(g[8]=se("strong",null,"target q1:",-1)),be(" "+Re(e.data.nodoProyecto.target_q1),1)]),se("div",RD,[g[9]||(g[9]=se("strong",null,"target q2:",-1)),be(" "+Re(e.data.nodoProyecto.target_q2),1)]),se("div",qD,[g[10]||(g[10]=se("strong",null,"target q3:",-1)),be(" "+Re(e.data.nodoProyecto.target_q3),1)])])]),menu:ie(()=>[le(y,{class:"custom-menu-item",onClick:p},{prepend:ie(()=>[le(w,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(b,null,{default:ie(()=>g[11]||(g[11]=[be("Agregar Producto")])),_:1,__:[11]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:c},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:c},null,8,["id"])]),_:1},16,["id","data"])}}},MD=Xt(TD,[["__scopeId","data-v-1159424d"]]),DD={class:"text-body-2"},FD={class:"mb-1"},jD={class:"mb-1"},$D={class:"mb-1"},BD={class:"mb-1"},zD={class:"mb-1"},GD={class:"mb-1"},UD={class:"mb-1"},VD={class:"mb-1"},HD={class:"mb-1"},WD={class:"mb-1"},YD={class:"mb-1"},XD={__name:"IndicadorResultadoObjEspecifico",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addProducto"],setup(e,{emit:t}){const n=e,r={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},{productoGral:o,crearProductoGeneral:i}=Ho(),{findNode:a}=ut(),s=a(n.id),u=s.data.nodoProyecto.id,c=Ht("proyectoEstructura").value.mapa_nodo.id,f=t,p=async()=>{const h={codigo:"PTRG",supuestos:"",riesgos:"",entregado:!1,objetivo_general:null,objetivo_especifico:null,indicador_og:null,indicador_oe:null,resultado_og:null,resultado_oe:null,indicador_resultado_og:null,indicador_resultado_oe:u};try{console.log(h),await i(h);const g={sourceId:s.id.toString(),meta:{label:"Producto",type:"productogral",mapaNodoId:c.toString(),nodoProyecto:{id:o.value.id,codigo:o.value.codigo,supuestos:o.value.supuestos,riesgos:o.value.riesgos,entregado:o.entregado,objetivo_general:o.value.objetivo_general,objetivo_especifico:o.value.objetivo_especifico,indicador_og:o.value.indicador_og,indicador_oe:o.value.indicador_oe,resultado_og:o.value.resultado_og,resultado_oe:o.value.resultado_oe,indicador_resultado_og:o.value.indicador_resultado_og,indicador_resultado_oe:o.value.indicador_resultado_oe}}};f("addProducto",g)}catch(g){console.log("ERROR: ",g)}};return(h,g)=>{const b=Be("v-list-item-title"),w=Be("v-icon"),y=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0,"show-menu":!0},h.$attrs),{default:ie(()=>[se("div",DD,[se("div",FD,[g[0]||(g[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",jD,[g[1]||(g[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",$D,[g[2]||(g[2]=se("strong",null,"Definicion:",-1)),be(" "+Re(e.data.nodoProyecto.definicion),1)]),se("div",BD,[g[3]||(g[3]=se("strong",null,"Redaccion:",-1)),be(" "+Re(e.data.nodoProyecto.redaccion),1)]),se("div",zD,[g[4]||(g[4]=se("strong",null,"Fuente de Verificacion:",-1)),be(" "+Re(e.data.nodoProyecto.fuente_verificacion),1)]),se("div",GD,[g[5]||(g[5]=se("strong",null,"Target poblacon:",-1)),be(" "+Re(e.data.nodoProyecto.target_poblacion),1)]),se("div",UD,[g[6]||(g[6]=se("strong",null,"Tipo:",-1)),be(" "+Re(e.data.nodoProyecto.tipo),1)]),se("div",VD,[g[7]||(g[7]=se("strong",null,"Baseline:",-1)),be(" "+Re(e.data.nodoProyecto.baseline),1)]),se("div",HD,[g[8]||(g[8]=se("strong",null,"Target q1:",-1)),be(" "+Re(e.data.nodoProyecto.target_q1),1)]),se("div",WD,[g[9]||(g[9]=se("strong",null,"Target q2:",-1)),be(" "+Re(e.data.nodoProyecto.target_q2),1)]),se("div",YD,[g[10]||(g[10]=se("strong",null,"Target q3:",-1)),be(" "+Re(e.data.nodoProyecto.target_q3),1)])])]),menu:ie(()=>[le(y,{class:"custom-menu-item",onClick:p},{prepend:ie(()=>[le(w,{icon:"mdi-flag-checkered"})]),default:ie(()=>[le(b,null,{default:ie(()=>g[11]||(g[11]=[be("Agregar Producto")])),_:1,__:[11]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:r},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:r},null,8,["id"])]),_:1},16,["id","data"])}}},KD=Xt(XD,[["__scopeId","data-v-0ec3b166"]]),ZD={class:"text-body-2"},JD={class:"mb-1"},QD={class:"mb-1"},eF={class:"mb-1"},tF={__name:"ProcesoResultadoObjGeneral",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addActividadProcesoResOG"],setup(e,{emit:t}){const n=e,r={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},{actividad:o,crearActividad:i}=gs(),s=Ht("proyectoEstructura").value.mapa_nodo.id,{findNode:u}=ut(),l=u(n.id),c=l.data.nodoProyecto.id,f=t,p=async()=>{const h={codigo:"ACT001",descripcion:"dedede create",tipo:"CSNS",fecha_programada:null,duracion:4,fecha_inicio:null,fecha_cierre:null,presupuesto:null,presupuesto_pei:null,estado:"SPLAN",procedencia_fondos:"PROY",objetivo_de_actividad:"",descripcion_evaluacion:"",justificacion_modificacion:"",datos_actividad:null,proceso:c,resultado_og:null,resultado_oe:null,producto_oe:null};try{await i(h),console.log(o);const g={sourceId:l.id.toString(),meta:{label:"Actividad Proc. Res. OE",type:"actividad",mapaNodoId:s.toString(),nodoProyecto:{id:o.value.id,codigo:o.value.codigo,descripcion:o.value.descripcion,tipo:o.value.tipo,fecha_programada:o.value.fecha_programada,duracion:o.value.duracion,fecha_inicio:o.value.fecha_inicio,fecha_cierre:o.value.fecha_cierre,presupuesto:o.value.presupuesto,presupuesto_pei:o.value.presupuesto_pei,estado:o.value.estado,procedencia_fondos:o.value.procedencia_fondos,objetivo_de_actividad:o.value.objetivo_de_actividad,descripcion_evaluacion:o.value.descripcion_evaluacion,justificacion_modificacion:o.value.justificacion_modificacion,datos_actividad:o.value.datos_actividad,proceso:o.value.proceso,resultado_og:o.value.resultado_og,resultado_oe:o.value.resultado_oe,producto_oe:o.value.producto_oe}}};f("addActividadProcesoResOG",g)}catch(g){console.error("Eror al crear",g)}};return(h,g)=>{const b=Be("v-list-item-title"),w=Be("v-icon"),y=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},h.$attrs),{default:ie(()=>[se("div",ZD,[se("div",JD,[g[0]||(g[0]=se("strong",null,"Código:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",QD,[g[1]||(g[1]=se("strong",null,"Título:",-1)),be(" "+Re(e.data.nodoProyecto.titulo),1)]),se("div",eF,[g[2]||(g[2]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)])])]),menu:ie(()=>[le(y,{class:"custom-menu-item",onClick:p},{prepend:ie(()=>[le(w,{icon:"mdi-clock-outline"})]),default:ie(()=>[le(b,null,{default:ie(()=>g[3]||(g[3]=[be("Agregar Actividad")])),_:1,__:[3]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:r},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:r},null,8,["id"])]),_:1},16,["id","data"])}}},nF=Xt(tF,[["__scopeId","data-v-3b4190d4"]]),rF={class:"text-body-2"},oF={class:"mb-1"},iF={class:"mb-1"},aF={class:"mb-1"},sF={__name:"ProcesoResultadoObjEspec",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addActividadProcResOE"],setup(e,{emit:t}){const n=e,{actividad:r,crearActividad:o}=gs(),a=Ht("proyectoEstructura").value.mapa_nodo.id,{findNode:s}=ut(),u=s(n.id),l=u.data.nodoProyecto.id,c={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},f=t,p=async()=>{const h={codigo:"ACT001",descripcion:"dedede create",tipo:"CSNS",fecha_programada:null,duracion:4,fecha_inicio:null,fecha_cierre:null,presupuesto:null,presupuesto_pei:null,estado:"SPLAN",procedencia_fondos:"PROY",objetivo_de_actividad:"",descripcion_evaluacion:"",justificacion_modificacion:"",datos_actividad:null,proceso:l,resultado_og:null,resultado_oe:null,producto_oe:null};try{await o(h),console.log(r);const g={sourceId:u.id.toString(),meta:{label:"Actividad Pros. Res. OE",type:"actividad",mapaNodoId:a.toString(),nodoProyecto:{id:r.value.id,codigo:r.value.codigo,descripcion:r.value.descripcion,tipo:r.value.tipo,fecha_programada:r.value.fecha_programada,duracion:r.value.duracion,fecha_inicio:r.value.fecha_inicio,fecha_cierre:r.value.fecha_cierre,presupuesto:r.value.presupuesto,presupuesto_pei:r.value.presupuesto_pei,estado:r.value.estado,procedencia_fondos:r.value.procedencia_fondos,objetivo_de_actividad:r.value.objetivo_de_actividad,descripcion_evaluacion:r.value.descripcion_evaluacion,justificacion_modificacion:r.value.justificacion_modificacion,datos_actividad:r.value.datos_actividad,proceso:r.value.proceso,resultado_og:r.value.resultado_og,resultado_oe:r.value.resultado_oe,producto_oe:r.value.producto_oe}}};f("addActividadProcResOE",g)}catch(g){console.error("Eror al crear",g)}};return(h,g)=>{const b=Be("v-list-item-title"),w=Be("v-icon"),y=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},h.$attrs),{default:ie(()=>[se("div",rF,[se("div",oF,[g[0]||(g[0]=se("strong",null,"Código:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",iF,[g[1]||(g[1]=se("strong",null,"Título:",-1)),be(" "+Re(e.data.nodoProyecto.titulo),1)]),se("div",aF,[g[2]||(g[2]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)])])]),menu:ie(()=>[le(y,{class:"custom-menu-item",onClick:p},{prepend:ie(()=>[le(w,{icon:"mdi-clock-outline"})]),default:ie(()=>[le(b,null,{default:ie(()=>g[3]||(g[3]=[be("Agregar Actividad")])),_:1,__:[3]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:c},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:c},null,8,["id"])]),_:1},16,["id","data"])}}},uF=Xt(sF,[["__scopeId","data-v-feee4e0f"]]),lF={class:"text-body-2"},cF={class:"mb-1"},dF={class:"mb-1"},fF={class:"mb-1"},hF={__name:"ProcesoProductoObjEspec",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},emits:["addActividadProcProdOE"],setup(e,{emit:t}){const n=e,{actividad:r,crearActividad:o}=gs(),a=Ht("proyectoEstructura").value.mapa_nodo.id,{findNode:s}=ut(),u=s(n.id),l=u.data.nodoProyecto.id,c={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},f=t,p=async()=>{const h={codigo:"ACT001",descripcion:"dedede create",tipo:"CSNS",fecha_programada:null,duracion:4,fecha_inicio:null,fecha_cierre:null,presupuesto:null,presupuesto_pei:null,estado:"SPLAN",procedencia_fondos:"PROY",objetivo_de_actividad:"",descripcion_evaluacion:"",justificacion_modificacion:"",datos_actividad:null,proceso:l,resultado_og:null,resultado_oe:null,producto_oe:null};try{await o(h),console.log(r);const g={sourceId:u.id.toString(),meta:{label:"Actividad Proc. Prod. OE",type:"actividad",mapaNodoId:a.toString(),nodoProyecto:{id:r.value.id,codigo:r.value.codigo,descripcion:r.value.descripcion,tipo:r.value.tipo,fecha_programada:r.value.fecha_programada,duracion:r.value.duracion,fecha_inicio:r.value.fecha_inicio,fecha_cierre:r.value.fecha_cierre,presupuesto:r.value.presupuesto,presupuesto_pei:r.value.presupuesto_pei,estado:r.value.estado,procedencia_fondos:r.value.procedencia_fondos,objetivo_de_actividad:r.value.objetivo_de_actividad,descripcion_evaluacion:r.value.descripcion_evaluacion,justificacion_modificacion:r.value.justificacion_modificacion,datos_actividad:r.value.datos_actividad,proceso:r.value.proceso,resultado_og:r.value.resultado_og,resultado_oe:r.value.resultado_oe,producto_oe:r.value.producto_oe}}};f("addActividadProcProdOE",g)}catch(g){console.error("Eror al crear",g)}};return(h,g)=>{const b=Be("v-list-item-title"),w=Be("v-icon"),y=Be("v-list-item");return je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},h.$attrs),{default:ie(()=>[se("div",lF,[se("div",cF,[g[0]||(g[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",dF,[g[1]||(g[1]=se("strong",null,"Titulo:",-1)),be(" "+Re(e.data.nodoProyecto.titulo),1)]),se("div",fF,[g[2]||(g[2]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)])])]),menu:ie(()=>[le(y,{class:"custom-menu-item",onClick:p},{prepend:ie(()=>[le(w,{icon:"mdi-clock-outline"})]),default:ie(()=>[le(b,null,{default:ie(()=>g[3]||(g[3]=[be("Agregar Actividad")])),_:1,__:[3]})]),_:1})]),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:c},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:c},null,8,["id"])]),_:1},16,["id","data"])}}},pF=Xt(hF,[["__scopeId","data-v-fe72a5f4"]]),vF={class:"text-body-2"},gF={class:"mb-1"},mF={class:"mb-1"},yF={class:"mb-1"},bF={__name:"ActividadNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){const t=e;Ht("proyectoEstructura").value.mapa_nodo.id;const{findNode:r}=ut();r(t.id).data.nodoProyecto.id;const i={width:"12px",height:"12px",background:"#555",borderRadius:"50%"};return(a,s)=>(je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},a.$attrs),{default:ie(()=>[se("div",vF,[se("div",gF,[s[0]||(s[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",mF,[s[1]||(s[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",yF,[s[2]||(s[2]=se("strong",null,"Tipo:",-1)),be(" "+Re(e.data.nodoProyecto.tipo),1)])])]),menu:ie(()=>s[3]||(s[3]=[])),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:i},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:i},null,8,["id"])]),_:1},16,["id","data"]))}},_F=Xt(bF,[["__scopeId","data-v-2d5f2ab8"]]),wF={class:"text-body-2"},xF={class:"mb-1"},SF={class:"mb-1"},AF={__name:"ActividadRogNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){const t=e;Ht("proyectoEstructura").value.mapa_nodo.id;const{findNode:r}=ut();r(t.id).data.nodoProyecto.id;const i={width:"12px",height:"12px",background:"#555",borderRadius:"50%"};return(a,s)=>(je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},a.$attrs),{default:ie(()=>[se("div",wF,[se("div",xF,[s[0]||(s[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",SF,[s[1]||(s[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)])])]),menu:ie(()=>s[2]||(s[2]=[])),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:i},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:i},null,8,["id"])]),_:1},16,["id","data"]))}},NF=Xt(AF,[["__scopeId","data-v-ee1806ab"]]),EF={class:"text-body-2"},PF={class:"mb-1"},IF={class:"mb-1"},LF={__name:"ActividadPoeNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){const t=e;Ht("proyectoEstructura").value.mapa_nodo.id;const{findNode:r}=ut();r(t.id).data.nodoProyecto.id;const i={width:"12px",height:"12px",background:"#555",borderRadius:"50%"};return(a,s)=>(je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},a.$attrs),{default:ie(()=>[se("div",EF,[se("div",PF,[s[0]||(s[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",IF,[s[1]||(s[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)])])]),menu:ie(()=>s[2]||(s[2]=[])),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:i},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:i},null,8,["id"])]),_:1},16,["id","data"]))}},CF=Xt(LF,[["__scopeId","data-v-63df5275"]]),OF={class:"text-body-2"},kF={class:"mb-1"},RF={class:"mb-1"},qF={__name:"ActividadRoeNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){const t=e;Ht("proyectoEstructura").value.mapa_nodo.id;const{findNode:r}=ut();r(t.id).data.nodoProyecto.id;const i={width:"12px",height:"12px",background:"#555",borderRadius:"50%"};return(a,s)=>(je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0},a.$attrs),{default:ie(()=>[se("div",OF,[se("div",kF,[s[0]||(s[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",RF,[s[1]||(s[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)])])]),menu:ie(()=>s[2]||(s[2]=[])),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:i},null,8,["id"]),le(Ne(bt),{type:"source",position:"bottom",id:`source-${e.id}`,style:i},null,8,["id"])]),_:1},16,["id","data"]))}},TF=Xt(qF,[["__scopeId","data-v-99f5618f"]]),MF={class:"text-body-2"},DF={class:"mb-1"},FF={class:"mb-1"},jF={class:"mb-1"},$F={class:"mb-1"},BF={class:"mb-1"},zF={__name:"ProductoNodo",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e){const t=e,n={width:"12px",height:"12px",background:"#555",borderRadius:"50%"},{findNode:r}=ut();return r(t.id),(o,i)=>(je(),nt(hn,yt({id:e.id,data:e.data,"show-delete":!0,"show-menu":!1},o.$attrs),{default:ie(()=>[se("div",MF,[se("div",DF,[i[0]||(i[0]=se("strong",null,"Codigo:",-1)),be(" "+Re(e.data.nodoProyecto.codigo),1)]),se("div",FF,[i[1]||(i[1]=se("strong",null,"Descripcion:",-1)),be(" "+Re(e.data.nodoProyecto.descripcion),1)]),se("div",jF,[i[2]||(i[2]=se("strong",null,"Supuestos:",-1)),be(" "+Re(e.data.nodoProyecto.supuestos),1)]),se("div",$F,[i[3]||(i[3]=se("strong",null,"Riesgos:",-1)),be(" "+Re(e.data.nodoProyecto.riesgos),1)]),se("div",BF,[i[4]||(i[4]=se("strong",null,"Entregado:",-1)),be(" "+Re(e.data.nodoProyecto.entregado),1)])])]),menu:ie(()=>i[5]||(i[5]=[])),handles:ie(()=>[le(Ne(bt),{type:"target",position:"top",id:`source-${e.id}`,style:n},null,8,["id"])]),_:1},16,["id","data"]))}},GF=Xt(zF,[["__scopeId","data-v-27ecdd76"]]),Wl={obtenerAll:async()=>{try{return(await Ze.get("/diagramas/")).data}catch(e){throw console.error("Axios: Error obtener todos los proyectos  "),e}},obtenerPorId:async e=>{try{return(await Ze.get("/diagramas/"+e+"/")).data}catch(t){throw console.error("Axios: Error, instancia gestora con ID: "+e,t),t}},crear:async e=>{try{return await Ze.post("/diagramas/",e)}catch(t){throw console.log("Axios, no se creo la nueva instancia gestora",t),t}},update:async(e,t)=>{try{return(await Ze.put("/diagramas/"+e+"/",t)).data}catch(n){throw console.error("Axios: No se pudo actualizar el diagrama con ID: "+e,n),n}},updateNodosEdges:async(e,t)=>{try{return(await Ze.put("diagramas/"+e+"/actualizar/",t)).data}catch(n){throw console.error("Axios: No se pudo actualizar el diagrama con ID: "+e,n),n}}};function UF(){const e=Ue([]),t=Ue(null),n=Ue(!1),r=Ue(null);return{diagramasProyecto:e,diagramaProyecto:t,loading:n,error:r,obtenerDiagramas:async()=>{n.value=!0;try{e.value=await Wl.obtenerAll()}catch(u){r.value=u}finally{n.value=!1}},obtenerDiagrama:async u=>{n.value=!0;try{t.value=await Wl.obtenerPorId(u)}catch(l){r.value=l}finally{n.value=!1}},actualizarDiagrama:async(u,l)=>{n.value=!0;try{return(await Wl.update(u,l)).data}catch(c){console.error("COMPOSABLE: No se pudo actualizar el diagrama con id: "+u,c)}finally{n.value=!1}},actualizarNodosEdges:async(u,l,c)=>{const f={nodos:l,conexiones:c};n.value=!0;try{return(await Wl.updateNodosEdges(u,f)).data}catch(p){console.error("COMPOSABLE: No de pudo actualizar los nodos y edges con id: "+u,p)}finally{n.value=!1}}}}function VF(){const{getNodes:e,getEdges:t}=ut();return{getNextNodeId:()=>{const o=e.value.map(a=>parseInt(a.id)).filter(a=>!isNaN(a));return((o.length>0?Math.max(...o):0)+1).toString()},getNextEdgeId:()=>{const o=t.value.map(a=>{const s=a.id.match(/\d+$/);return s?parseInt(s[0]):null}).filter(a=>a!==null);return`edge-${(o.length>0?Math.max(...o):0)+1}`}}}function HF(){const{addNodes:e,addEdges:t,getNodes:n,getEdges:r}=ut(),{getNextNodeId:o,getNextEdgeId:i}=VF(),{actualizarNodosEdges:a}=UF(),s=Ue("No se ha recibido señal"),u=async(f,p,h,g={})=>{const b=o(),w=i(),y={id:b,data:{label:p,type:f,...g},position:{x:0,y:0},type:f},S={id:w,source:h.toString(),target:b,animated:!0,label:"Conexion"};e([y]),t([S]);try{await a(g.mapaNodoId,n.value,r.value)}catch(A){console.log("NODE EVENTS: No se pudo actualizaar el diagrama id: "+g.mapaNodoId,A)}return S},l={addObjetivoGeneral:f=>{if(n.value.some(b=>b.type==="objetivogeneral"))return s.value="Ya existe un objetivo General",null;const g=u("objetivogeneral","Objetivo General",f.sourceId,f.meta);return s.value="Objetivo General Creado",g},addObjetivoEspecificoOg:f=>{const p=u("objetivoespecificoog","Objetivo Especifico OG",f.sourceId,f.meta);return s.value="Objetivo Especifico OG Creado",p},addObjetivoEspecifico:f=>{const p=u("objetivoespecifico","Objetivo Especifico",f.sourceId,f.meta);return s.value="Objetivo Especifico Creado",p},addKpi:f=>{const p=u("kpi","KPI",f.sourceId,f.meta);return s.value="KPI Creado",p},addIndicadorObjGeneral:f=>{const p=u("indicadorog","Indicador Objetivo General",f.sourceId,f.meta);return s.value="Indicador Obj Gral creado",p},addResultadoObjGeneral:f=>{const p=u("resultadoog","Resultado Objetivo General",f.sourceId,f.meta);return s.value="Resultado Obj Gral creado",p},addIndicadorResultadoOg:f=>{const p=u("indicadorrog","Indicador Res OG",f.sourceId,f.meta);return s.value="Indicador Resultado OG",p},addIndicadorOE:f=>{const p=u("indicadoroe","Indicador OE",f.sourceId,f.meta);return s.value="Indicador OE creado",p},addResultadoOE:f=>{const p=u("resultadooe","Resultado OE",f.sourceId,f.meta);return s.value="Resultado OE creado",p},addProductoOE:f=>{const p=u("productooe","Producto OE",f.sourceId,f.meta);return s.value="Producto OE creado",p},addIndicadorResultadoOE:f=>{const p=u("indicadorroe","Indicador Res. OE",f.sourceId,f.meta);return s.value="Indicador de Resultado OE creado",p},addProductoResultadoOE:f=>{const p=u("productoroe","Producto Res. OE",f.sourceId,f.meta);return s.value="Producto de Resultado OE creado",p},addProcesosResultadoOE:f=>{const p=u("procesoroe","Procesos Resultado OE",f.sourceId,f.meta);return s.value="Procesos para Resultado OE creado",p},addProcesosResultadoOg:f=>{const p=u("procesorog","Procesos Res. OG",f.sourceId,f.meta);return s.value="Procesos para Resultado OG creado",p},addProcesoProductoOE:f=>{const p=u("procesopoe","Proceso Producto OE",f.sourceId,f.meta);return s.value="Procesos para Producto OE creado",p},addActividadResOG:f=>{const p=u("actividadrog","Actividad Res. OG",f.sourceId,f.meta);return s.value="Actividad para Resultado OG creado",p},addActividadProdOE:f=>{const p=u("actividadpoe","Actividad Prod. OE",f.sourceId,f.meta);return s.value="Actividad para Producto OE creado",p},addActividadResOE:f=>{const p=u("actividadroe","Actividad Res OE",f.sourceId,f.meta);return s.value="Actividad para Resultado OE creado",p},addActividadProcesoResOG:f=>{const p=u("actividad","Actividad Proc Res OG",f.sourceId,f.meta);return s.value="Actividad para Proceso Resultado OG creado",p},addActividadProcProdOE:f=>{const p=u("actividad","Actividad Proc Res OG",f.sourceId,f.meta);return s.value="Actividad para Proceso Producto OE creado",p},addActividadProcResOE:f=>{const p=u("actividad","Actividad Proc Res OE",f.sourceId,f.meta);return s.value="Actividad para Proceso Resultado OE creado",p},addProducto:f=>{const p=u("productogral","Producto General",f.sourceId,f.meta);return s.value="Producto general creado",p}};return{mensaje:s,executeAccion:(f,p={})=>l[f]?l[f](p):(console.warn(`Manejador para el evento ${f} no encontrado`),null)}}function WF(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}const YF=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function bi(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Ua=null;function rS(e={}){return Ua||(e.includeStyleProperties?(Ua=e.includeStyleProperties,Ua):(Ua=bi(window.getComputedStyle(document.documentElement)),Ua))}function Oc(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function XF(e){const t=Oc(e,"border-left-width"),n=Oc(e,"border-right-width");return e.clientWidth+t+n}function KF(e){const t=Oc(e,"border-top-width"),n=Oc(e,"border-bottom-width");return e.clientHeight+t+n}function oS(e,t={}){const n=t.width||XF(e),r=t.height||KF(e);return{width:n,height:r}}function ZF(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const dr=16384;function JF(e){(e.width>dr||e.height>dr)&&(e.width>dr&&e.height>dr?e.width>e.height?(e.height*=dr/e.width,e.width=dr):(e.width*=dr/e.height,e.height=dr):e.width>dr?(e.height*=dr/e.width,e.width=dr):(e.width*=dr/e.height,e.height=dr))}function kc(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function QF(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function ej(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),QF(o)}const nr=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||nr(n,t)};function tj(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function nj(e,t){return rS(t).map(n=>{const r=e.getPropertyValue(n),o=e.getPropertyPriority(n);return`${n}: ${r}${o?" !important":""};`}).join(" ")}function rj(e,t,n,r){const o=`.${e}:${t}`,i=n.cssText?tj(n):nj(n,r);return document.createTextNode(`${o}{${i}}`)}function V3(e,t,n,r){const o=window.getComputedStyle(e,n),i=o.getPropertyValue("content");if(i===""||i==="none")return;const a=YF();try{t.className=`${t.className} ${a}`}catch{return}const s=document.createElement("style");s.appendChild(rj(a,n,o,r)),t.appendChild(s)}function oj(e,t,n){V3(e,t,":before",n),V3(e,t,":after",n)}const H3="application/font-woff",W3="image/jpeg",ij={woff:H3,woff2:H3,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:W3,jpeg:W3,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function aj(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Tm(e){const t=aj(e).toLowerCase();return ij[t]||""}function sj(e){return e.split(/,/)[1]}function T0(e){return e.search(/^(data:)/)!==-1}function uj(e,t){return`data:${t};base64,${e}`}async function iS(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise((i,a)=>{const s=new FileReader;s.onerror=a,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(u){a(u)}},s.readAsDataURL(o)})}const e0={};function lj(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Mm(e,t,n){const r=lj(e,t,n.includeQueryParams);if(e0[r]!=null)return e0[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{const i=await iS(e,n.fetchRequestInit,({res:a,result:s})=>(t||(t=a.headers.get("Content-Type")||""),sj(s)));o=uj(i,t)}catch(i){o=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;i&&(a=typeof i=="string"?i:i.message),a&&console.warn(a)}return e0[r]=o,o}async function cj(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):kc(t)}async function dj(e,t){if(e.currentSrc){const i=document.createElement("canvas"),a=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,a==null||a.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return kc(s)}const n=e.poster,r=Tm(n),o=await Mm(n,r,t);return kc(o)}async function fj(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await vd(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function hj(e,t){return nr(e,HTMLCanvasElement)?cj(e):nr(e,HTMLVideoElement)?dj(e,t):nr(e,HTMLIFrameElement)?fj(e,t):e.cloneNode(aS(e))}const pj=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",aS=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function vj(e,t,n){var r,o;if(aS(t))return t;let i=[];return pj(e)&&e.assignedNodes?i=bi(e.assignedNodes()):nr(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?i=bi(e.contentDocument.body.childNodes):i=bi(((o=e.shadowRoot)!==null&&o!==void 0?o:e).childNodes),i.length===0||nr(e,HTMLVideoElement)||await i.reduce((a,s)=>a.then(()=>vd(s,n)).then(u=>{u&&t.appendChild(u)}),Promise.resolve()),t}function gj(e,t,n){const r=t.style;if(!r)return;const o=window.getComputedStyle(e);o.cssText?(r.cssText=o.cssText,r.transformOrigin=o.transformOrigin):rS(n).forEach(i=>{let a=o.getPropertyValue(i);i==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),nr(e,HTMLIFrameElement)&&i==="display"&&a==="inline"&&(a="block"),i==="d"&&t.getAttribute("d")&&(a=`path(${t.getAttribute("d")})`),r.setProperty(i,a,o.getPropertyPriority(i))})}function mj(e,t){nr(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),nr(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function yj(e,t){if(nr(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(o=>e.value===o.getAttribute("value"));r&&r.setAttribute("selected","")}}function bj(e,t,n){return nr(t,Element)&&(gj(e,t,n),oj(e,t,n),mj(e,t),yj(e,t)),t}async function _j(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const s=n[i].getAttribute("xlink:href");if(s){const u=e.querySelector(s),l=document.querySelector(s);!u&&l&&!r[s]&&(r[s]=await vd(l,t,!0))}}const o=Object.values(r);if(o.length){const i="http://www.w3.org/1999/xhtml",a=document.createElementNS(i,"svg");a.setAttribute("xmlns",i),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const s=document.createElementNS(i,"defs");a.appendChild(s);for(let u=0;u<o.length;u++)s.appendChild(o[u]);e.appendChild(a)}return e}async function vd(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>hj(r,t)).then(r=>vj(e,r,t)).then(r=>bj(e,r,t)).then(r=>_j(r,t))}const sS=/url\((['"]?)([^'"]+?)\1\)/g,wj=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,xj=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Sj(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Aj(e){const t=[];return e.replace(sS,(n,r,o)=>(t.push(o),n)),t.filter(n=>!T0(n))}async function Nj(e,t,n,r,o){try{const i=n?WF(t,n):t,a=Tm(t);let s;return o||(s=await Mm(i,a,r)),e.replace(Sj(t),`$1${s}$3`)}catch{}return e}function Ej(e,{preferredFontFormat:t}){return t?e.replace(xj,n=>{for(;;){const[r,,o]=wj.exec(n)||[];if(!o)return"";if(o===t)return`src: ${r};`}}):e}function uS(e){return e.search(sS)!==-1}async function lS(e,t,n){if(!uS(e))return e;const r=Ej(e,n);return Aj(r).reduce((i,a)=>i.then(s=>Nj(s,a,t,n)),Promise.resolve(r))}async function Va(e,t,n){var r;const o=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(o){const i=await lS(o,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function Pj(e,t){await Va("background",e,t)||await Va("background-image",e,t),await Va("mask",e,t)||await Va("-webkit-mask",e,t)||await Va("mask-image",e,t)||await Va("-webkit-mask-image",e,t)}async function Ij(e,t){const n=nr(e,HTMLImageElement);if(!(n&&!T0(e.src))&&!(nr(e,SVGImageElement)&&!T0(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,o=await Mm(r,Tm(r),t);await new Promise((i,a)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...u)=>{try{i(t.onImageErrorHandler(...u))}catch(l){a(l)}}:a;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o})}async function Lj(e,t){const r=bi(e.childNodes).map(o=>cS(o,t));await Promise.all(r).then(()=>e)}async function cS(e,t){nr(e,Element)&&(await Pj(e,t),await Ij(e,t),await Lj(e,t))}function Cj(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(o=>{n[o]=r[o]}),e}const Y3={};async function X3(e){let t=Y3[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},Y3[e]=t,t}async function K3(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let s=a.replace(r,"$1");return s.startsWith("https://")||(s=new URL(s,e.url).href),iS(s,t.fetchRequestInit,({result:u})=>(n=n.replace(a,`url(${u})`),[a,u]))});return Promise.all(i).then(()=>n)}function Z3(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const u=o.exec(r);if(u===null)break;t.push(u[0])}r=r.replace(o,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(a,"gi");for(;;){let u=i.exec(r);if(u===null){if(u=s.exec(r),u===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(u[0])}return t}async function Oj(e,t){const n=[],r=[];return e.forEach(o=>{if("cssRules"in o)try{bi(o.cssRules||[]).forEach((i,a)=>{if(i.type===CSSRule.IMPORT_RULE){let s=a+1;const u=i.href,l=X3(u).then(c=>K3(c,t)).then(c=>Z3(c).forEach(f=>{try{o.insertRule(f,f.startsWith("@import")?s+=1:o.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(c=>{console.error("Error loading remote css",c.toString())});r.push(l)}})}catch(i){const a=e.find(s=>s.href==null)||document.styleSheets[0];o.href!=null&&r.push(X3(o.href).then(s=>K3(s,t)).then(s=>Z3(s).forEach(u=>{a.insertRule(u,a.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(o=>{if("cssRules"in o)try{bi(o.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${o.href}`,i)}}),n))}function kj(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>uS(t.style.getPropertyValue("src")))}async function Rj(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=bi(e.ownerDocument.styleSheets),r=await Oj(n,t);return kj(r)}function dS(e){return e.trim().replace(/["']/g,"")}function qj(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(i=>{t.add(dS(i))}),Array.from(r.children).forEach(i=>{i instanceof HTMLElement&&n(i)})}return n(e),t}async function Tj(e,t){const n=await Rj(e,t),r=qj(e);return(await Promise.all(n.filter(i=>r.has(dS(i.style.fontFamily))).map(i=>{const a=i.parentStyleSheet?i.parentStyleSheet.href:null;return lS(i.cssText,a,t)}))).join(`
`)}async function Mj(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await Tj(e,t);if(n){const r=document.createElement("style"),o=document.createTextNode(n);r.appendChild(o),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function fS(e,t={}){const{width:n,height:r}=oS(e,t),o=await vd(e,t,!0);return await Mj(o,t),await cS(o,t),Cj(o,t),await ej(o,n,r)}async function hS(e,t={}){const{width:n,height:r}=oS(e,t),o=await fS(e,t),i=await kc(o),a=document.createElement("canvas"),s=a.getContext("2d"),u=t.pixelRatio||ZF(),l=t.canvasWidth||n,c=t.canvasHeight||r;return a.width=l*u,a.height=c*u,t.skipAutoScale||JF(a),a.style.width=`${l}`,a.style.height=`${c}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,a.width,a.height)),s.drawImage(i,0,0,a.width,a.height),a}async function J3(e,t={}){return(await hS(e,t)).toDataURL()}async function Dj(e,t={}){return(await hS(e,t)).toDataURL("image/jpeg",t.quality||1)}function Dt(e){"@babel/helpers - typeof";return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(e)}var Bn=Uint8Array,fr=Uint16Array,Dm=Int32Array,gd=new Bn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),md=new Bn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M0=new Bn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pS=function(e,t){for(var n=new fr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var o=new Dm(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)o[i]=i-n[r]<<5|r;return{b:n,r:o}},vS=pS(gd,2),gS=vS.b,D0=vS.r;gS[28]=258,D0[258]=28;var mS=pS(md,0),Fj=mS.b,Q3=mS.r,F0=new fr(32768);for(var Yt=0;Yt<32768;++Yt){var li=(Yt&43690)>>1|(Yt&21845)<<1;li=(li&52428)>>2|(li&13107)<<2,li=(li&61680)>>4|(li&3855)<<4,F0[Yt]=((li&65280)>>8|(li&255)<<8)>>1}var mo=function(e,t,n){for(var r=e.length,o=0,i=new fr(t);o<r;++o)e[o]&&++i[e[o]-1];var a=new fr(t);for(o=1;o<t;++o)a[o]=a[o-1]+i[o-1]<<1;var s;if(n){s=new fr(1<<t);var u=15-t;for(o=0;o<r;++o)if(e[o])for(var l=o<<4|e[o],c=t-e[o],f=a[e[o]-1]++<<c,p=f|(1<<c)-1;f<=p;++f)s[F0[f]>>u]=l}else for(s=new fr(r),o=0;o<r;++o)e[o]&&(s[o]=F0[a[e[o]-1]++]>>15-e[o]);return s},Ai=new Bn(288);for(var Yt=0;Yt<144;++Yt)Ai[Yt]=8;for(var Yt=144;Yt<256;++Yt)Ai[Yt]=9;for(var Yt=256;Yt<280;++Yt)Ai[Yt]=7;for(var Yt=280;Yt<288;++Yt)Ai[Yt]=8;var Eu=new Bn(32);for(var Yt=0;Yt<32;++Yt)Eu[Yt]=5;var jj=mo(Ai,9,0),$j=mo(Ai,9,1),Bj=mo(Eu,5,0),zj=mo(Eu,5,1),t0=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},jr=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},n0=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Fm=function(e){return(e+7)/8|0},yS=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Bn(e.subarray(t,n))},Gj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Br=function(e,t,n){var r=new Error(t||Gj[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Br),!n)throw r;return r},Uj=function(e,t,n,r){var o=e.length,i=0;if(!o||t.f&&!t.l)return n||new Bn(0);var a=!n,s=a||t.i!=2,u=t.i;a&&(n=new Bn(o*3));var l=function(we){var ke=n.length;if(we>ke){var _e=new Bn(Math.max(ke*2,we));_e.set(n),n=_e}},c=t.f||0,f=t.p||0,p=t.b||0,h=t.l,g=t.d,b=t.m,w=t.n,y=o*8;do{if(!h){c=jr(e,f,1);var S=jr(e,f+1,3);if(f+=3,S)if(S==1)h=$j,g=zj,b=9,w=5;else if(S==2){var Z=jr(e,f,31)+257,M=jr(e,f+10,15)+4,I=Z+jr(e,f+5,31)+1;f+=14;for(var X=new Bn(I),H=new Bn(19),P=0;P<M;++P)H[M0[P]]=jr(e,f+P*3,7);f+=M*3;for(var N=t0(H),V=(1<<N)-1,_=mo(H,N,1),P=0;P<I;){var F=_[jr(e,f,V)];f+=F&15;var A=F>>4;if(A<16)X[P++]=A;else{var k=0,Q=0;for(A==16?(Q=3+jr(e,f,3),f+=2,k=X[P-1]):A==17?(Q=3+jr(e,f,7),f+=3):A==18&&(Q=11+jr(e,f,127),f+=7);Q--;)X[P++]=k}}var U=X.subarray(0,Z),ne=X.subarray(Z);b=t0(U),w=t0(ne),h=mo(U,b,1),g=mo(ne,w,1)}else Br(1);else{var A=Fm(f)+4,L=e[A-4]|e[A-3]<<8,j=A+L;if(j>o){u&&Br(0);break}s&&l(p+L),n.set(e.subarray(A,j),p),t.b=p+=L,t.p=f=j*8,t.f=c;continue}if(f>y){u&&Br(0);break}}s&&l(p+131072);for(var ee=(1<<b)-1,pe=(1<<w)-1,O=f;;O=f){var k=h[n0(e,f)&ee],W=k>>4;if(f+=k&15,f>y){u&&Br(0);break}if(k||Br(2),W<256)n[p++]=W;else if(W==256){O=f,h=null;break}else{var C=W-254;if(W>264){var P=W-257,D=gd[P];C=jr(e,f,(1<<D)-1)+gS[P],f+=D}var G=g[n0(e,f)&pe],K=G>>4;G||Br(3),f+=G&15;var ne=Fj[K];if(K>3){var D=md[K];ne+=n0(e,f)&(1<<D)-1,f+=D}if(f>y){u&&Br(0);break}s&&l(p+131072);var te=p+C;if(p<ne){var ce=i-ne,Ee=Math.min(ne,te);for(ce+p<0&&Br(3);p<Ee;++p)n[p]=r[ce+p]}for(;p<te;++p)n[p]=n[p-ne]}}t.l=h,t.p=O,t.b=p,t.f=c,h&&(c=1,t.m=b,t.d=g,t.n=w)}while(!c);return p!=n.length&&a?yS(n,0,p):n.subarray(0,p)},Mo=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},tu=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},r0=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var o=n.length,i=n.slice();if(!o)return{t:_S,l:0};if(o==1){var a=new Bn(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(j,Z){return j.f-Z.f}),n.push({s:-1,f:25001});var s=n[0],u=n[1],l=0,c=1,f=2;for(n[0]={s:-1,f:s.f+u.f,l:s,r:u};c!=o-1;)s=n[n[l].f<n[f].f?l++:f++],u=n[l!=c&&n[l].f<n[f].f?l++:f++],n[c++]={s:-1,f:s.f+u.f,l:s,r:u};for(var p=i[0].s,r=1;r<o;++r)i[r].s>p&&(p=i[r].s);var h=new fr(p+1),g=j0(n[c-1],h,0);if(g>t){var r=0,b=0,w=g-t,y=1<<w;for(i.sort(function(Z,M){return h[M.s]-h[Z.s]||Z.f-M.f});r<o;++r){var S=i[r].s;if(h[S]>t)b+=y-(1<<g-h[S]),h[S]=t;else break}for(b>>=w;b>0;){var A=i[r].s;h[A]<t?b-=1<<t-h[A]++-1:++r}for(;r>=0&&b;--r){var L=i[r].s;h[L]==t&&(--h[L],++b)}g=t}return{t:new Bn(h),l:g}},j0=function(e,t,n){return e.s==-1?Math.max(j0(e.l,t,n+1),j0(e.r,t,n+1)):t[e.s]=n},e4=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new fr(++t),r=0,o=e[0],i=1,a=function(u){n[r++]=u},s=1;s<=t;++s)if(e[s]==o&&s!=t)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=e[s]}return{c:n.subarray(0,r),n:t}},nu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},bS=function(e,t,n){var r=n.length,o=Fm(t+2);e[o]=r&255,e[o+1]=r>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var i=0;i<r;++i)e[o+i+4]=n[i];return(o+4+r)*8},t4=function(e,t,n,r,o,i,a,s,u,l,c){Mo(t,c++,n),++o[256];for(var f=r0(o,15),p=f.t,h=f.l,g=r0(i,15),b=g.t,w=g.l,y=e4(p),S=y.c,A=y.n,L=e4(b),j=L.c,Z=L.n,M=new fr(19),I=0;I<S.length;++I)++M[S[I]&31];for(var I=0;I<j.length;++I)++M[j[I]&31];for(var X=r0(M,7),H=X.t,P=X.l,N=19;N>4&&!H[M0[N-1]];--N);var V=l+5<<3,_=nu(o,Ai)+nu(i,Eu)+a,F=nu(o,p)+nu(i,b)+a+14+3*N+nu(M,H)+2*M[16]+3*M[17]+7*M[18];if(u>=0&&V<=_&&V<=F)return bS(t,c,e.subarray(u,u+l));var k,Q,U,ne;if(Mo(t,c,1+(F<_)),c+=2,F<_){k=mo(p,h,0),Q=p,U=mo(b,w,0),ne=b;var ee=mo(H,P,0);Mo(t,c,A-257),Mo(t,c+5,Z-1),Mo(t,c+10,N-4),c+=14;for(var I=0;I<N;++I)Mo(t,c+3*I,H[M0[I]]);c+=3*N;for(var pe=[S,j],O=0;O<2;++O)for(var W=pe[O],I=0;I<W.length;++I){var C=W[I]&31;Mo(t,c,ee[C]),c+=H[C],C>15&&(Mo(t,c,W[I]>>5&127),c+=W[I]>>12)}}else k=jj,Q=Ai,U=Bj,ne=Eu;for(var I=0;I<s;++I){var D=r[I];if(D>255){var C=D>>18&31;tu(t,c,k[C+257]),c+=Q[C+257],C>7&&(Mo(t,c,D>>23&31),c+=gd[C]);var G=D&31;tu(t,c,U[G]),c+=ne[G],G>3&&(tu(t,c,D>>5&8191),c+=md[G])}else tu(t,c,k[D]),c+=Q[D]}return tu(t,c,k[256]),c+Q[256]},Vj=new Dm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_S=new Bn(0),Hj=function(e,t,n,r,o,i){var a=i.z||e.length,s=new Bn(r+a+5*(1+Math.ceil(a/7e3))+o),u=s.subarray(r,s.length-o),l=i.l,c=(i.r||0)&7;if(t){c&&(u[0]=i.r>>3);for(var f=Vj[t-1],p=f>>13,h=f&8191,g=(1<<n)-1,b=i.p||new fr(32768),w=i.h||new fr(g+1),y=Math.ceil(n/3),S=2*y,A=function(ae){return(e[ae]^e[ae+1]<<y^e[ae+2]<<S)&g},L=new Dm(25e3),j=new fr(288),Z=new fr(32),M=0,I=0,X=i.i||0,H=0,P=i.w||0,N=0;X+2<a;++X){var V=A(X),_=X&32767,F=w[V];if(b[_]=F,w[V]=_,P<=X){var k=a-X;if((M>7e3||H>24576)&&(k>423||!l)){c=t4(e,u,0,L,j,Z,I,H,N,X-N,c),H=M=I=0,N=X;for(var Q=0;Q<286;++Q)j[Q]=0;for(var Q=0;Q<30;++Q)Z[Q]=0}var U=2,ne=0,ee=h,pe=_-F&32767;if(k>2&&V==A(X-pe))for(var O=Math.min(p,k)-1,W=Math.min(32767,X),C=Math.min(258,k);pe<=W&&--ee&&_!=F;){if(e[X+U]==e[X+U-pe]){for(var D=0;D<C&&e[X+D]==e[X+D-pe];++D);if(D>U){if(U=D,ne=pe,D>O)break;for(var G=Math.min(pe,D-2),K=0,Q=0;Q<G;++Q){var te=X-pe+Q&32767,ce=b[te],Ee=te-ce&32767;Ee>K&&(K=Ee,F=te)}}}_=F,F=b[_],pe+=_-F&32767}if(ne){L[H++]=268435456|D0[U]<<18|Q3[ne];var we=D0[U]&31,ke=Q3[ne]&31;I+=gd[we]+md[ke],++j[257+we],++Z[ke],P=X+U,++M}else L[H++]=e[X],++j[e[X]]}}for(X=Math.max(X,P);X<a;++X)L[H++]=e[X],++j[e[X]];c=t4(e,u,l,L,j,Z,I,H,N,X-N,c),l||(i.r=c&7|u[c/8|0]<<3,c-=7,i.h=w,i.p=b,i.i=X,i.w=P)}else{for(var X=i.w||0;X<a+l;X+=65535){var _e=X+65535;_e>=a&&(u[c/8|0]=l,_e=a),c=bS(u,c+1,e.subarray(X,_e))}i.i=a}return yS(s,0,r+Fm(c)+o)},wS=function(){var e=1,t=0;return{p:function(n){for(var r=e,o=t,i=n.length|0,a=0;a!=i;){for(var s=Math.min(a+2655,i);a<s;++a)o+=r+=n[a];r=(r&65535)+15*(r>>16),o=(o&65535)+15*(o>>16)}e=r,t=o},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Wj=function(e,t,n,r,o){if(!o&&(o={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new Bn(i.length+e.length);a.set(i),a.set(e,i.length),e=a,o.w=i.length}return Hj(e,t.level==null?6:t.level,t.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,o)},xS=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Yj=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var o=wS();o.p(t.dictionary),xS(e,2,o.d())}},Xj=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Br(6,"invalid zlib data"),(e[1]>>5&1)==1&&Br(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function $0(e,t){t||(t={});var n=wS();n.p(e);var r=Wj(e,t,t.dictionary?6:2,4);return Yj(r,t),xS(r,r.length-4,n.d()),r}function Kj(e,t){return Uj(e.subarray(Xj(e),-4),{i:2},t,t)}var Zj=typeof TextDecoder<"u"&&new TextDecoder,Jj=0;try{Zj.decode(_S,{stream:!0}),Jj=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function o0(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var Bt={log:o0,warn:function(e){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):o0.call(null,arguments))},error:function(e){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):o0(e))}};function i0(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Gi(r.response,t,n)},r.onerror=function(){Bt.error("could not download file")},r.send()}function n4(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Yl(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var vu,B0,Gi=lt.saveAs||((typeof window>"u"?"undefined":Dt(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=lt.URL||lt.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener",typeof e=="string"?(o.href=e,o.origin!==location.origin?n4(o.href)?i0(e,t,n):Yl(o,o.target="_blank"):Yl(o)):(o.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(o.href)},4e4),setTimeout(function(){Yl(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(n4(e))i0(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Yl(r)})}else navigator.msSaveOrOpenBlob(function(o,i){return i===void 0?i={autoBom:!1}:Dt(i)!=="object"&&(Bt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return i0(e,t,n);var o=e.type==="application/octet-stream",i=/constructor/i.test(lt.HTMLElement)||lt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||o&&i)&&(typeof FileReader>"u"?"undefined":Dt(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},s.readAsDataURL(e)}else{var u=lt.URL||lt.webkitURL,l=u.createObjectURL(e);r?r.location=l:location.href=l,r=null,setTimeout(function(){u.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function SS(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var o=n[r].re,i=n[r].process,a=o.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),u=this.g.toString(16),l=this.b.toString(16);return s.length==1&&(s="0"+s),u.length==1&&(u="0"+u),l.length==1&&(l="0"+l),"#"+s+u+l}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function a0(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];n=Dn(n,r,o,i,t[0],7,-680876936),i=Dn(i,n,r,o,t[1],12,-389564586),o=Dn(o,i,n,r,t[2],17,606105819),r=Dn(r,o,i,n,t[3],22,-1044525330),n=Dn(n,r,o,i,t[4],7,-176418897),i=Dn(i,n,r,o,t[5],12,1200080426),o=Dn(o,i,n,r,t[6],17,-1473231341),r=Dn(r,o,i,n,t[7],22,-45705983),n=Dn(n,r,o,i,t[8],7,1770035416),i=Dn(i,n,r,o,t[9],12,-1958414417),o=Dn(o,i,n,r,t[10],17,-42063),r=Dn(r,o,i,n,t[11],22,-1990404162),n=Dn(n,r,o,i,t[12],7,1804603682),i=Dn(i,n,r,o,t[13],12,-40341101),o=Dn(o,i,n,r,t[14],17,-1502002290),n=Fn(n,r=Dn(r,o,i,n,t[15],22,1236535329),o,i,t[1],5,-165796510),i=Fn(i,n,r,o,t[6],9,-1069501632),o=Fn(o,i,n,r,t[11],14,643717713),r=Fn(r,o,i,n,t[0],20,-373897302),n=Fn(n,r,o,i,t[5],5,-701558691),i=Fn(i,n,r,o,t[10],9,38016083),o=Fn(o,i,n,r,t[15],14,-660478335),r=Fn(r,o,i,n,t[4],20,-405537848),n=Fn(n,r,o,i,t[9],5,568446438),i=Fn(i,n,r,o,t[14],9,-1019803690),o=Fn(o,i,n,r,t[3],14,-187363961),r=Fn(r,o,i,n,t[8],20,1163531501),n=Fn(n,r,o,i,t[13],5,-1444681467),i=Fn(i,n,r,o,t[2],9,-51403784),o=Fn(o,i,n,r,t[7],14,1735328473),n=jn(n,r=Fn(r,o,i,n,t[12],20,-1926607734),o,i,t[5],4,-378558),i=jn(i,n,r,o,t[8],11,-2022574463),o=jn(o,i,n,r,t[11],16,1839030562),r=jn(r,o,i,n,t[14],23,-35309556),n=jn(n,r,o,i,t[1],4,-1530992060),i=jn(i,n,r,o,t[4],11,1272893353),o=jn(o,i,n,r,t[7],16,-155497632),r=jn(r,o,i,n,t[10],23,-1094730640),n=jn(n,r,o,i,t[13],4,681279174),i=jn(i,n,r,o,t[0],11,-358537222),o=jn(o,i,n,r,t[3],16,-722521979),r=jn(r,o,i,n,t[6],23,76029189),n=jn(n,r,o,i,t[9],4,-640364487),i=jn(i,n,r,o,t[12],11,-421815835),o=jn(o,i,n,r,t[15],16,530742520),n=$n(n,r=jn(r,o,i,n,t[2],23,-995338651),o,i,t[0],6,-198630844),i=$n(i,n,r,o,t[7],10,1126891415),o=$n(o,i,n,r,t[14],15,-1416354905),r=$n(r,o,i,n,t[5],21,-57434055),n=$n(n,r,o,i,t[12],6,1700485571),i=$n(i,n,r,o,t[3],10,-1894986606),o=$n(o,i,n,r,t[10],15,-1051523),r=$n(r,o,i,n,t[1],21,-2054922799),n=$n(n,r,o,i,t[8],6,1873313359),i=$n(i,n,r,o,t[15],10,-30611744),o=$n(o,i,n,r,t[6],15,-1560198380),r=$n(r,o,i,n,t[13],21,1309151649),n=$n(n,r,o,i,t[4],6,-145523070),i=$n(i,n,r,o,t[11],10,-1120210379),o=$n(o,i,n,r,t[2],15,718787259),r=$n(r,o,i,n,t[9],21,-343485551),e[0]=yi(n,e[0]),e[1]=yi(r,e[1]),e[2]=yi(o,e[2]),e[3]=yi(i,e[3])}function yd(e,t,n,r,o,i){return t=yi(yi(t,e),yi(r,i)),yi(t<<o|t>>>32-o,n)}function Dn(e,t,n,r,o,i,a){return yd(t&n|~t&r,e,t,o,i,a)}function Fn(e,t,n,r,o,i,a){return yd(t&r|n&~r,e,t,o,i,a)}function jn(e,t,n,r,o,i,a){return yd(t^n^r,e,t,o,i,a)}function $n(e,t,n,r,o,i,a){return yd(n^(t|~r),e,t,o,i,a)}function AS(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)a0(r,Qj(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(a0(r,o),t=0;t<16;t++)o[t]=0;return o[14]=8*n,a0(r,o),r}function Qj(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}vu=lt.atob.bind(lt),B0=lt.btoa.bind(lt);var r4="0123456789abcdef".split("");function e$(e){for(var t="",n=0;n<4;n++)t+=r4[e>>8*n+4&15]+r4[e>>8*n&15];return t}function t$(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function z0(e){return AS(e).map(t$).join("")}var n$=function(e){for(var t=0;t<e.length;t++)e[t]=e$(e[t]);return e.join("")}(AS("hello"))!="5d41402abc4b2a76b9719d911017c592";function yi(e,t){if(n$){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function G0(e,t){var n,r,o,i;if(e!==n){for(var a=(o=e,i=1+(256/e.length>>0),new Array(i+1).join(o)),s=[],u=0;u<256;u++)s[u]=u;var l=0;for(u=0;u<256;u++){var c=s[u];l=(l+c+a.charCodeAt(u))%256,s[u]=s[l],s[l]=c}n=e,r=s}else s=r;var f=t.length,p=0,h=0,g="";for(u=0;u<f;u++)h=(h+(c=s[p=(p+1)%256]))%256,s[p]=s[h],s[h]=c,a=s[(s[p]+s[h])%256],g+=String.fromCharCode(t.charCodeAt(u)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var o4={print:4,modify:8,copy:16,"annot-forms":32};function Ya(e,t,n,r){this.v=1,this.r=2;var o=192;e.forEach(function(s){if(o4.perm!==void 0)throw new Error("Invalid permission: "+s);o+=o4[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^o)),this.encryptionKey=z0(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=G0(this.encryptionKey,this.padding)}function Xa(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var o=e.charCodeAt(r);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?t+="#"+("0"+o.toString(16)).slice(-2):t+=e[r]}return t}function i4(e){if(Dt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,o){if(o=o||!1,typeof n!="string"||typeof r!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[r,!!o],i},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),o=[];for(var i in t[n]){var a=t[n][i];try{a[0].apply(e,r)}catch(s){lt.console&&Bt.error("jsPDF PubSub Error",s.message,s)}a[1]&&o.push(i)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Rc(e){if(!(this instanceof Rc))return new Rc(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function NS(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Wi(e,t,n,r,o){if(!(this instanceof Wi))return new Wi(e,t,n,r,o);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,NS.call(this,r,o)}function Ka(e,t,n,r,o){if(!(this instanceof Ka))return new Ka(e,t,n,r,o);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,NS.call(this,r,o)}function st(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],o=arguments[2],i=arguments[3],a=[],s=1,u=16,l="S",c=null;Dt(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,o=e.format||o,i=e.compress||e.compressPdf||i,(c=e.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),l=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=i4;var g="1.3",b=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(m){g=m};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return w};var y=h.__private__.getPageFormat=function(m){return w[m]};o=o||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},A=S.COMPAT;function L(){this.saveGraphicsState(),R(new at(He,0,0,-He,0,Xo()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),l="n",A=S.ADVANCED}function j(){this.restoreGraphicsState(),l="S",A=S.COMPAT}var Z=h.__private__.combineFontStyleAndFontWeight=function(m,T){if(m=="bold"&&T=="normal"||m=="bold"&&T==400||m=="normal"&&T=="italic"||m=="bold"&&T=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(m=T==400||T==="normal"?m==="italic"?"italic":"normal":T!=700&&T!=="bold"||m!=="normal"?(T==700?"bold":T)+""+m:"bold"),m};h.advancedAPI=function(m){var T=A===S.COMPAT;return T&&L.call(this),typeof m!="function"||(m(this),T&&j.call(this)),this},h.compatAPI=function(m){var T=A===S.ADVANCED;return T&&j.call(this),typeof m!="function"||(m(this),T&&L.call(this)),this},h.isAdvancedAPI=function(){return A===S.ADVANCED};var M,I=function(m){if(A!==S.ADVANCED)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=h.roundToPrecision=h.__private__.roundToPrecision=function(m,T){var ue=t||T;if(isNaN(m)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(ue).replace(/0+$/,"")};M=h.hpf=h.__private__.hpf=typeof u=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return X(m,u)}:u==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return X(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return X(m,16)};var H=h.f2=h.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return X(m,2)},P=h.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return X(m,3)},N=h.scale=h.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return A===S.COMPAT?m*He:A===S.ADVANCED?m:void 0},V=function(m){return A===S.COMPAT?Xo()-m:A===S.ADVANCED?m:void 0},_=function(m){return N(V(m))};h.__private__.setPrecision=h.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(t=parseInt(m,10))};var F,k="00000000000000000000000000000000",Q=h.__private__.getFileId=function(){return k},U=h.__private__.setFileId=function(m){return k=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():k.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(qn=new Ya(c.userPermissions,c.userPassword,c.ownerPassword,k)),k};h.setFileId=function(m){return U(m),this},h.getFileId=function(){return Q()};var ne=h.__private__.convertDateToPDFDate=function(m){var T=m.getTimezoneOffset(),ue=T<0?"+":"-",de=Math.floor(Math.abs(T/60)),ye=Math.abs(T%60),Oe=[ue,C(de),"'",C(ye),"'"].join("");return["D:",m.getFullYear(),C(m.getMonth()+1),C(m.getDate()),C(m.getHours()),C(m.getMinutes()),C(m.getSeconds()),Oe].join("")},ee=h.__private__.convertPDFDateToDate=function(m){var T=parseInt(m.substr(2,4),10),ue=parseInt(m.substr(6,2),10)-1,de=parseInt(m.substr(8,2),10),ye=parseInt(m.substr(10,2),10),Oe=parseInt(m.substr(12,2),10),$e=parseInt(m.substr(14,2),10);return new Date(T,ue,de,ye,Oe,$e,0)},pe=h.__private__.setCreationDate=function(m){var T;if(m===void 0&&(m=new Date),m instanceof Date)T=ne(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=m}return F=T},O=h.__private__.getCreationDate=function(m){var T=F;return m==="jsDate"&&(T=ee(F)),T};h.setCreationDate=function(m){return pe(m),this},h.getCreationDate=function(m){return O(m)};var W,C=h.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},D=h.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},G=0,K=[],te=[],ce=0,Ee=[],we=[],ke=!1,_e=te,ae=function(){G=0,ce=0,te=[],K=[],Ee=[],So=pn(),Ir=pn()};h.__private__.setCustomOutputDestination=function(m){ke=!0,_e=m};var B=function(m){ke||(_e=m)};h.__private__.resetCustomOutputDestination=function(){ke=!1,_e=te};var R=h.__private__.out=function(m){return m=m.toString(),ce+=m.length+1,_e.push(m),_e},oe=h.__private__.write=function(m){return R(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},me=h.__private__.getArrayBuffer=function(m){for(var T=m.length,ue=new ArrayBuffer(T),de=new Uint8Array(ue);T--;)de[T]=m.charCodeAt(T);return ue},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return xe};var Pe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(m){return Pe=A===S.ADVANCED?m/He:m,this};var Ie,Ce=h.__private__.getFontSize=h.getFontSize=function(){return A===S.COMPAT?Pe:Pe*He},De=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(m){return De=m,this},h.__private__.getR2L=h.getR2L=function(){return De};var ze,We=h.__private__.setZoomMode=function(m){var T=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Ie=m;else if(isNaN(m)){if(T.indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Ie=m}else Ie=parseInt(m,10)};h.__private__.getZoomMode=function(){return Ie};var it,gt=h.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');ze=m};h.__private__.getPageMode=function(){return ze};var xt=h.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');it=m};h.__private__.getLayoutMode=function(){return it},h.__private__.setDisplayMode=h.setDisplayMode=function(m,T,ue){return We(m),xt(T),gt(ue),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(m){if(Object.keys(rt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[m]},h.__private__.getDocumentProperties=function(){return rt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(m){for(var T in rt)rt.hasOwnProperty(T)&&m[T]&&(rt[T]=m[T]);return this},h.__private__.setDocumentProperty=function(m,T){if(Object.keys(rt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[m]=T};var wt,He,wn,_t,xn,jt={},Kt={},Jr=[],Ct={},Pi={},en={},Er={},xo=null,tn=0,ft=[],Ot=new i4(h),Ii=e.hotfixes||[],On={},Qr={},eo=[],at=function m(T,ue,de,ye,Oe,$e){if(!(this instanceof m))return new m(T,ue,de,ye,Oe,$e);isNaN(T)&&(T=1),isNaN(ue)&&(ue=0),isNaN(de)&&(de=0),isNaN(ye)&&(ye=1),isNaN(Oe)&&(Oe=0),isNaN($e)&&($e=0),this._matrix=[T,ue,de,ye,Oe,$e]};Object.defineProperty(at.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(at.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(at.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(at.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(at.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(at.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(at.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(at.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(at.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(at.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(at.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(at.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(at.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(at.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(at.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(at.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),at.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(m)},at.prototype.multiply=function(m){var T=m.sx*this.sx+m.shy*this.shx,ue=m.sx*this.shy+m.shy*this.sy,de=m.shx*this.sx+m.sy*this.shx,ye=m.shx*this.shy+m.sy*this.sy,Oe=m.tx*this.sx+m.ty*this.shx+this.tx,$e=m.tx*this.shy+m.ty*this.sy+this.ty;return new at(T,ue,de,ye,Oe,$e)},at.prototype.decompose=function(){var m=this.sx,T=this.shy,ue=this.shx,de=this.sy,ye=this.tx,Oe=this.ty,$e=Math.sqrt(m*m+T*T),Ye=(m/=$e)*ue+(T/=$e)*de;ue-=m*Ye,de-=T*Ye;var tt=Math.sqrt(ue*ue+de*de);return Ye/=tt,m*(de/=tt)<T*(ue/=tt)&&(m=-m,T=-T,Ye=-Ye,$e=-$e),{scale:new at($e,0,0,tt,0,0),translate:new at(1,0,0,1,ye,Oe),rotate:new at(m,T,-T,m,0,0),skew:new at(1,0,Ye,1,0,0)}},at.prototype.toString=function(m){return this.join(" ")},at.prototype.inversed=function(){var m=this.sx,T=this.shy,ue=this.shx,de=this.sy,ye=this.tx,Oe=this.ty,$e=1/(m*de-T*ue),Ye=de*$e,tt=-T*$e,vt=-ue*$e,ht=m*$e;return new at(Ye,tt,vt,ht,-Ye*ye-vt*Oe,-tt*ye-ht*Oe)},at.prototype.applyToPoint=function(m){var T=m.x*this.sx+m.y*this.shx+this.tx,ue=m.x*this.shy+m.y*this.sy+this.ty;return new Sa(T,ue)},at.prototype.applyToRectangle=function(m){var T=this.applyToPoint(m),ue=this.applyToPoint(new Sa(m.x+m.w,m.y+m.h));return new Ps(T.x,T.y,ue.x-T.x,ue.y-T.y)},at.prototype.clone=function(){var m=this.sx,T=this.shy,ue=this.shx,de=this.sy,ye=this.tx,Oe=this.ty;return new at(m,T,ue,de,ye,Oe)},h.Matrix=at;var Pr=h.matrixMult=function(m,T){return T.multiply(m)},to=new at(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=to;var Wn=function(m,T){if(!Pi[m]){var ue=(T instanceof Wi?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);T.id=ue,Pi[m]=ue,Ct[ue]=T,Ot.publish("addPattern",T)}};h.ShadingPattern=Wi,h.TilingPattern=Ka,h.addShadingPattern=function(m,T){return I("addShadingPattern()"),Wn(m,T),this},h.beginTilingPattern=function(m){I("beginTilingPattern()"),rl(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},h.endTilingPattern=function(m,T){I("endTilingPattern()"),T.stream=we[W].join(`
`),Wn(m,T),Ot.publish("endTilingPattern",T),eo.pop().restore()};var Sn=h.__private__.newObject=function(){var m=pn();return or(m,!0),m},pn=h.__private__.newObjectDeferred=function(){return G++,K[G]=function(){return ce},G},or=function(m,T){return T=typeof T=="boolean"&&T,K[m]=ce,T&&R(m+" 0 obj"),m},ca=h.__private__.newAdditionalObject=function(){var m={objId:pn(),content:""};return Ee.push(m),m},So=pn(),Ir=pn(),Lr=h.__private__.decodeColorString=function(m){var T=m.split(" ");if(T.length!==2||T[1]!=="g"&&T[1]!=="G")T.length===5&&(T[4]==="k"||T[4]==="K")&&(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var ue=parseFloat(T[0]);T=[ue,ue,ue,"r"]}for(var de="#",ye=0;ye<3;ye++)de+=("0"+Math.floor(255*parseFloat(T[ye])).toString(16)).slice(-2);return de},Cr=h.__private__.encodeColorString=function(m){var T;typeof m=="string"&&(m={ch1:m});var ue=m.ch1,de=m.ch2,ye=m.ch3,Oe=m.ch4,$e=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var Ye=new SS(ue);if(Ye.ok)ue=Ye.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var tt=parseInt(ue.substr(1),16);ue=tt>>16&255,de=tt>>8&255,ye=255&tt}if(de===void 0||Oe===void 0&&ue===de&&de===ye)if(typeof ue=="string")T=ue+" "+$e[0];else switch(m.precision){case 2:T=H(ue/255)+" "+$e[0];break;case 3:default:T=P(ue/255)+" "+$e[0]}else if(Oe===void 0||Dt(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return T=["1.","1.","1.",$e[1]].join(" ");if(typeof ue=="string")T=[ue,de,ye,$e[1]].join(" ");else switch(m.precision){case 2:T=[H(ue/255),H(de/255),H(ye/255),$e[1]].join(" ");break;default:case 3:T=[P(ue/255),P(de/255),P(ye/255),$e[1]].join(" ")}}else if(typeof ue=="string")T=[ue,de,ye,Oe,$e[2]].join(" ");else switch(m.precision){case 2:T=[H(ue),H(de),H(ye),H(Oe),$e[2]].join(" ");break;case 3:default:T=[P(ue),P(de),P(ye),P(Oe),$e[2]].join(" ")}return T},no=h.__private__.getFilters=function(){return a},vr=h.__private__.putStream=function(m){var T=(m=m||{}).data||"",ue=m.filters||no(),de=m.alreadyAppliedFilters||[],ye=m.addLength1||!1,Oe=T.length,$e=m.objectId,Ye=function(Tn){return Tn};if(c!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ye=qn.encryptor($e,0));var tt={};ue===!0&&(ue=["FlateEncode"]);var vt=m.additionalKeyValues||[],ht=(tt=st.API.processDataByFilters!==void 0?st.API.processDataByFilters(T,ue):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(tt.data.length!==0&&(vt.push({key:"Length",value:tt.data.length}),ye===!0&&vt.push({key:"Length1",value:Oe})),ht.length!=0)if(ht.split("/").length-1==1)vt.push({key:"Filter",value:ht});else{vt.push({key:"Filter",value:"["+ht+"]"});for(var Nt=0;Nt<vt.length;Nt+=1)if(vt[Nt].key==="DecodeParms"){for(var Qt=[],nn=0;nn<tt.reverseChain.split("/").length-1;nn+=1)Qt.push("null");Qt.push(vt[Nt].value),vt[Nt].value="["+Qt.join(" ")+"]"}}R("<<");for(var vn=0;vn<vt.length;vn++)R("/"+vt[vn].key+" "+vt[vn].value);R(">>"),tt.data.length!==0&&(R("stream"),R(Ye(tt.data)),R("endstream"))},ro=h.__private__.putPage=function(m){var T=m.number,ue=m.data,de=m.objId,ye=m.contentsObjId;or(de,!0),R("<</Type /Page"),R("/Parent "+m.rootDictionaryObjId+" 0 R"),R("/Resources "+m.resourceDictionaryObjId+" 0 R"),R("/MediaBox ["+parseFloat(M(m.mediaBox.bottomLeftX))+" "+parseFloat(M(m.mediaBox.bottomLeftY))+" "+M(m.mediaBox.topRightX)+" "+M(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&R("/CropBox ["+M(m.cropBox.bottomLeftX)+" "+M(m.cropBox.bottomLeftY)+" "+M(m.cropBox.topRightX)+" "+M(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&R("/BleedBox ["+M(m.bleedBox.bottomLeftX)+" "+M(m.bleedBox.bottomLeftY)+" "+M(m.bleedBox.topRightX)+" "+M(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&R("/TrimBox ["+M(m.trimBox.bottomLeftX)+" "+M(m.trimBox.bottomLeftY)+" "+M(m.trimBox.topRightX)+" "+M(m.trimBox.topRightY)+"]"),m.artBox!==null&&R("/ArtBox ["+M(m.artBox.bottomLeftX)+" "+M(m.artBox.bottomLeftY)+" "+M(m.artBox.topRightX)+" "+M(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&R("/UserUnit "+m.userUnit),Ot.publish("putPage",{objId:de,pageContext:ft[T],pageNumber:T,page:ue}),R("/Contents "+ye+" 0 R"),R(">>"),R("endobj");var Oe=ue.join(`
`);return A===S.ADVANCED&&(Oe+=`
Q`),or(ye,!0),vr({data:Oe,filters:no(),objectId:ye}),R("endobj"),de},Li=h.__private__.putPages=function(){var m,T,ue=[];for(m=1;m<=tn;m++)ft[m].objId=pn(),ft[m].contentsObjId=pn();for(m=1;m<=tn;m++)ue.push(ro({number:m,data:we[m],objId:ft[m].objId,contentsObjId:ft[m].contentsObjId,mediaBox:ft[m].mediaBox,cropBox:ft[m].cropBox,bleedBox:ft[m].bleedBox,trimBox:ft[m].trimBox,artBox:ft[m].artBox,userUnit:ft[m].userUnit,rootDictionaryObjId:So,resourceDictionaryObjId:Ir}));or(So,!0),R("<</Type /Pages");var de="/Kids [";for(T=0;T<tn;T++)de+=ue[T]+" 0 R ";R(de+"]"),R("/Count "+tn),R(">>"),R("endobj"),Ot.publish("postPutPages")},da=function(m){Ot.publish("putFont",{font:m,out:R,newObject:Sn,putStream:vr}),m.isAlreadyPutted!==!0&&(m.objectNumber=Sn(),R("<<"),R("/Type /Font"),R("/BaseFont /"+Xa(m.postScriptName)),R("/Subtype /Type1"),typeof m.encoding=="string"&&R("/Encoding /"+m.encoding),R("/FirstChar 32"),R("/LastChar 255"),R(">>"),R("endobj"))},fa=function(){for(var m in jt)jt.hasOwnProperty(m)&&(f===!1||f===!0&&p.hasOwnProperty(m))&&da(jt[m])},ha=function(m){m.objectNumber=Sn();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[M(m.x),M(m.y),M(m.x+m.width),M(m.y+m.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var ue=m.pages[1].join(`
`);vr({data:ue,additionalKeyValues:T,objectId:m.objectNumber}),R("endobj")},pa=function(){for(var m in On)On.hasOwnProperty(m)&&ha(On[m])},ju=function(m,T){var ue,de=[],ye=1/(T-1);for(ue=0;ue<1;ue+=ye)de.push(ue);if(de.push(1),m[0].offset!=0){var Oe={offset:0,color:m[0].color};m.unshift(Oe)}if(m[m.length-1].offset!=1){var $e={offset:1,color:m[m.length-1].color};m.push($e)}for(var Ye="",tt=0,vt=0;vt<de.length;vt++){for(ue=de[vt];ue>m[tt+1].offset;)tt++;var ht=m[tt].offset,Nt=(ue-ht)/(m[tt+1].offset-ht),Qt=m[tt].color,nn=m[tt+1].color;Ye+=D(Math.round((1-Nt)*Qt[0]+Nt*nn[0]).toString(16))+D(Math.round((1-Nt)*Qt[1]+Nt*nn[1]).toString(16))+D(Math.round((1-Nt)*Qt[2]+Nt*nn[2]).toString(16))}return Ye.trim()},bd=function(m,T){T||(T=21);var ue=Sn(),de=ju(m.colors,T),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+T+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vr({data:de,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),R("endobj"),m.objectNumber=Sn(),R("<< /ShadingType "+m.type),R("/ColorSpace /DeviceRGB");var Oe="/Coords ["+M(parseFloat(m.coords[0]))+" "+M(parseFloat(m.coords[1]))+" ";m.type===2?Oe+=M(parseFloat(m.coords[2]))+" "+M(parseFloat(m.coords[3])):Oe+=M(parseFloat(m.coords[2]))+" "+M(parseFloat(m.coords[3]))+" "+M(parseFloat(m.coords[4]))+" "+M(parseFloat(m.coords[5])),R(Oe+="]"),m.matrix&&R("/Matrix ["+m.matrix.toString()+"]"),R("/Function "+ue+" 0 R"),R("/Extend [true true]"),R(">>"),R("endobj")},_d=function(m,T){var ue=pn(),de=Sn();T.push({resourcesOid:ue,objectOid:de}),m.objectNumber=de;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+m.boundingBox.map(M).join(" ")+"]"}),ye.push({key:"XStep",value:M(m.xStep)}),ye.push({key:"YStep",value:M(m.yStep)}),ye.push({key:"Resources",value:ue+" 0 R"}),m.matrix&&ye.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),vr({data:m.stream,additionalKeyValues:ye,objectId:m.objectNumber}),R("endobj")},va=function(m){var T;for(T in Ct)Ct.hasOwnProperty(T)&&(Ct[T]instanceof Wi?bd(Ct[T]):Ct[T]instanceof Ka&&_d(Ct[T],m))},$u=function(m){for(var T in m.objectNumber=Sn(),R("<<"),m)switch(T){case"opacity":R("/ca "+H(m[T]));break;case"stroke-opacity":R("/CA "+H(m[T]))}R(">>"),R("endobj")},wd=function(){var m;for(m in en)en.hasOwnProperty(m)&&$u(en[m])},ms=function(){for(var m in R("/XObject <<"),On)On.hasOwnProperty(m)&&On[m].objectNumber>=0&&R("/"+m+" "+On[m].objectNumber+" 0 R");Ot.publish("putXobjectDict"),R(">>")},xd=function(){qn.oid=Sn(),R("<<"),R("/Filter /Standard"),R("/V "+qn.v),R("/R "+qn.r),R("/U <"+qn.toHexString(qn.U)+">"),R("/O <"+qn.toHexString(qn.O)+">"),R("/P "+qn.P),R(">>"),R("endobj")},Bu=function(){for(var m in R("/Font <<"),jt)jt.hasOwnProperty(m)&&(f===!1||f===!0&&p.hasOwnProperty(m))&&R("/"+m+" "+jt[m].objectNumber+" 0 R");R(">>")},Sd=function(){if(Object.keys(Ct).length>0){for(var m in R("/Shading <<"),Ct)Ct.hasOwnProperty(m)&&Ct[m]instanceof Wi&&Ct[m].objectNumber>=0&&R("/"+m+" "+Ct[m].objectNumber+" 0 R");Ot.publish("putShadingPatternDict"),R(">>")}},ga=function(m){if(Object.keys(Ct).length>0){for(var T in R("/Pattern <<"),Ct)Ct.hasOwnProperty(T)&&Ct[T]instanceof h.TilingPattern&&Ct[T].objectNumber>=0&&Ct[T].objectNumber<m&&R("/"+T+" "+Ct[T].objectNumber+" 0 R");Ot.publish("putTilingPatternDict"),R(">>")}},Ad=function(){if(Object.keys(en).length>0){var m;for(m in R("/ExtGState <<"),en)en.hasOwnProperty(m)&&en[m].objectNumber>=0&&R("/"+m+" "+en[m].objectNumber+" 0 R");Ot.publish("putGStateDict"),R(">>")}},an=function(m){or(m.resourcesOid,!0),R("<<"),R("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Bu(),Sd(),ga(m.objectOid),Ad(),ms(),R(">>"),R("endobj")},zu=function(){var m=[];fa(),wd(),pa(),va(m),Ot.publish("putResources"),m.forEach(an),an({resourcesOid:Ir,objectOid:Number.MAX_SAFE_INTEGER}),Ot.publish("postPutResources")},Gu=function(){Ot.publish("putAdditionalObjects");for(var m=0;m<Ee.length;m++){var T=Ee[m];or(T.objId,!0),R(T.content),R("endobj")}Ot.publish("postPutAdditionalObjects")},Uu=function(m){Kt[m.fontName]=Kt[m.fontName]||{},Kt[m.fontName][m.fontStyle]=m.id},ys=function(m,T,ue,de,ye){var Oe={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:m,fontName:T,fontStyle:ue,encoding:de,isStandardFont:ye||!1,metadata:{}};return Ot.publish("addFont",{font:Oe,instance:this}),jt[Oe.id]=Oe,Uu(Oe),Oe.id},Nd=function(m){for(var T=0,ue=xe.length;T<ue;T++){var de=ys.call(this,m[T][0],m[T][1],m[T][2],xe[T][3],!0);f===!1&&(p[de]=!0);var ye=m[T][0].split("-");Uu({id:de,fontName:ye[0],fontStyle:ye[1]||""})}Ot.publish("addFonts",{fonts:jt,dictionary:Kt})},Or=function(m){return m.foo=function(){try{return m.apply(this,arguments)}catch(de){var T=de.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var ue="Error in function "+T.split(`
`)[0].split("<")[0]+": "+de.message;if(!lt.console)throw new Error(ue);lt.console.error(ue,de),lt.alert&&alert(ue)}},m.foo.bar=m,m.foo},ma=function(m,T){var ue,de,ye,Oe,$e,Ye,tt,vt,ht;if(ye=(T=T||{}).sourceEncoding||"Unicode",$e=T.outputEncoding,(T.autoencode||$e)&&jt[wt].metadata&&jt[wt].metadata[ye]&&jt[wt].metadata[ye].encoding&&(Oe=jt[wt].metadata[ye].encoding,!$e&&jt[wt].encoding&&($e=jt[wt].encoding),!$e&&Oe.codePages&&($e=Oe.codePages[0]),typeof $e=="string"&&($e=Oe[$e]),$e)){for(tt=!1,Ye=[],ue=0,de=m.length;ue<de;ue++)(vt=$e[m.charCodeAt(ue)])?Ye.push(String.fromCharCode(vt)):Ye.push(m[ue]),Ye[ue].charCodeAt(0)>>8&&(tt=!0);m=Ye.join("")}for(ue=m.length;tt===void 0&&ue!==0;)m.charCodeAt(ue-1)>>8&&(tt=!0),ue--;if(!tt)return m;for(Ye=T.noBOM?[]:[254,255],ue=0,de=m.length;ue<de;ue++){if((ht=(vt=m.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+m+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ye.push(ht),Ye.push(vt-(ht<<8))}return String.fromCharCode.apply(void 0,Ye)},Yn=h.__private__.pdfEscape=h.pdfEscape=function(m,T){return ma(m,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bs=h.__private__.beginPage=function(m){we[++tn]=[],ft[tn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},Hu(tn),B(we[W])},Vu=function(m,T){var ue,de,ye;switch(n=T||n,typeof m=="string"&&(ue=y(m.toLowerCase()),Array.isArray(ue)&&(de=ue[0],ye=ue[1])),Array.isArray(m)&&(de=m[0]*He,ye=m[1]*He),isNaN(de)&&(de=o[0],ye=o[1]),(de>14400||ye>14400)&&(Bt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),ye=Math.min(14400,ye)),o=[de,ye],n.substr(0,1)){case"l":ye>de&&(o=[ye,de]);break;case"p":de>ye&&(o=[ye,de])}bs(o),Ju(Ss),R(kr),Ns!==0&&R(Ns+" J"),Es!==0&&R(Es+" j"),Ot.publish("addPage",{pageNumber:tn})},Ed=function(m){m>0&&m<=tn&&(we.splice(m,1),ft.splice(m,1),tn--,W>tn&&(W=tn),this.setPage(W))},Hu=function(m){m>0&&m<=tn&&(W=m)},Pd=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return we.length-1},Wu=function(m,T,ue){var de,ye=void 0;return ue=ue||{},m=m!==void 0?m:jt[wt].fontName,T=T!==void 0?T:jt[wt].fontStyle,de=m.toLowerCase(),Kt[de]!==void 0&&Kt[de][T]!==void 0?ye=Kt[de][T]:Kt[m]!==void 0&&Kt[m][T]!==void 0?ye=Kt[m][T]:ue.disableWarning===!1&&Bt.warn("Unable to look up font label for font '"+m+"', '"+T+"'. Refer to getFontList() for available fonts."),ye||ue.noFallback||(ye=Kt.times[T])==null&&(ye=Kt.times.normal),ye},Id=h.__private__.putInfo=function(){var m=Sn(),T=function(de){return de};for(var ue in c!==null&&(T=qn.encryptor(m,0)),R("<<"),R("/Producer ("+Yn(T("jsPDF "+st.version))+")"),rt)rt.hasOwnProperty(ue)&&rt[ue]&&R("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Yn(T(rt[ue]))+")");R("/CreationDate ("+Yn(T(F))+")"),R(">>"),R("endobj")},_s=h.__private__.putCatalog=function(m){var T=(m=m||{}).rootDictionaryObjId||So;switch(Sn(),R("<<"),R("/Type /Catalog"),R("/Pages "+T+" 0 R"),Ie||(Ie="fullwidth"),Ie){case"fullwidth":R("/OpenAction [3 0 R /FitH null]");break;case"fullheight":R("/OpenAction [3 0 R /FitV null]");break;case"fullpage":R("/OpenAction [3 0 R /Fit]");break;case"original":R("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+Ie;ue.substr(ue.length-1)==="%"&&(Ie=parseInt(Ie)/100),typeof Ie=="number"&&R("/OpenAction [3 0 R /XYZ null null "+H(Ie)+"]")}switch(it||(it="continuous"),it){case"continuous":R("/PageLayout /OneColumn");break;case"single":R("/PageLayout /SinglePage");break;case"two":case"twoleft":R("/PageLayout /TwoColumnLeft");break;case"tworight":R("/PageLayout /TwoColumnRight")}ze&&R("/PageMode /"+ze),Ot.publish("putCatalog"),R(">>"),R("endobj")},Ld=h.__private__.putTrailer=function(){R("trailer"),R("<<"),R("/Size "+(G+1)),R("/Root "+G+" 0 R"),R("/Info "+(G-1)+" 0 R"),c!==null&&R("/Encrypt "+qn.oid+" 0 R"),R("/ID [ <"+k+"> <"+k+"> ]"),R(">>")},Cd=h.__private__.putHeader=function(){R("%PDF-"+g),R("%ºß¬à")},Od=h.__private__.putXRef=function(){var m="0000000000";R("xref"),R("0 "+(G+1)),R("0000000000 65535 f ");for(var T=1;T<=G;T++)typeof K[T]=="function"?R((m+K[T]()).slice(-10)+" 00000 n "):K[T]!==void 0?R((m+K[T]).slice(-10)+" 00000 n "):R("0000000000 00000 n ")},Ao=h.__private__.buildDocument=function(){ae(),B(te),Ot.publish("buildDocument"),Cd(),Li(),Gu(),zu(),c!==null&&xd(),Id(),_s();var m=ce;return Od(),Ld(),R("startxref"),R(""+m),R("%%EOF"),B(we[W]),te.join(`
`)},ya=h.__private__.getBlob=function(m){return new Blob([me(m)],{type:"application/pdf"})},ba=h.output=h.__private__.output=Or(function(m,T){switch(typeof(T=T||{})=="string"?T={filename:T}:T.filename=T.filename||"generated.pdf",m){case void 0:return Ao();case"save":h.save(T.filename);break;case"arraybuffer":return me(Ao());case"blob":return ya(Ao());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(ya(Ao()))||void 0;Bt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",de=Ao();try{ue=B0(de)}catch{ue=B0(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+T.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(ye=T.pdfObjectUrl,Oe="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",Ye=lt.open();return Ye!==null&&Ye.document.write($e),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',vt=lt.open();if(vt!==null){vt.document.write(tt);var ht=this;vt.document.documentElement.querySelector("#pdfViewer").onload=function(){vt.document.title=T.filename,vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ht.output("bloburl"))}}return vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',Qt=lt.open();if(Qt!==null&&(Qt.document.write(Nt),Qt.document.title=T.filename),Qt||typeof safari>"u")return Qt;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",T);default:return null}}),Yu=function(m){return Array.isArray(Ii)===!0&&Ii.indexOf(m)>-1};switch(r){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=Yu("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);He=r}var qn=null;pe(),U();var kd=function(m){return c!==null?qn.encryptor(m,0):function(T){return T}},Xu=h.__private__.getPageInfo=h.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[m].objId,pageNumber:m,pageContext:ft[m]}},dt=h.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in ft)if(ft[T].objId===m)break;return Xu(T)},Rd=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ft[W].objId,pageNumber:W,pageContext:ft[W]}};h.addPage=function(){return Vu.apply(this,arguments),this},h.setPage=function(){return Hu.apply(this,arguments),B.call(this,we[W]),this},h.insertPage=function(m){return this.addPage(),this.movePage(W,m),this},h.movePage=function(m,T){var ue,de;if(m>T){ue=we[m],de=ft[m];for(var ye=m;ye>T;ye--)we[ye]=we[ye-1],ft[ye]=ft[ye-1];we[T]=ue,ft[T]=de,this.setPage(T)}else if(m<T){ue=we[m],de=ft[m];for(var Oe=m;Oe<T;Oe++)we[Oe]=we[Oe+1],ft[Oe]=ft[Oe+1];we[T]=ue,ft[T]=de,this.setPage(T)}return this},h.deletePage=function(){return Ed.apply(this,arguments),this},h.__private__.text=h.text=function(m,T,ue,de,ye){var Oe,$e,Ye,tt,vt,ht,Nt,Qt,nn,vn=(de=de||{}).scope||this;if(typeof m=="number"&&typeof T=="number"&&(typeof ue=="string"||Array.isArray(ue))){var Tn=ue;ue=T,T=m,m=Tn}if(arguments[3]instanceof at?(I("The transform parameter of text() with a Matrix value"),nn=ye):(Ye=arguments[4],tt=arguments[5],Dt(Nt=arguments[3])==="object"&&Nt!==null||(typeof Ye=="string"&&(tt=Ye,Ye=null),typeof Nt=="string"&&(tt=Nt,Nt=null),typeof Nt=="number"&&(Ye=Nt,Nt=null),de={flags:Nt,angle:Ye,align:tt})),isNaN(T)||isNaN(ue)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return vn;var En="",Rr=!1,ir=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:Oi,ao=vn.internal.scaleFactor;function ol(Gt){return Gt=Gt.split("	").join(Array(de.TabLen||9).join(" ")),Yn(Gt,Nt)}function Os(Gt){for(var Ut,un=Gt.concat(),An=[],Lo=un.length;Lo--;)typeof(Ut=un.shift())=="string"?An.push(Ut):Array.isArray(Gt)&&(Ut.length===1||Ut[1]===void 0&&Ut[2]===void 0)?An.push(Ut[0]):An.push([Ut[0],Ut[1],Ut[2]]);return An}function ks(Gt,Ut){var un;if(typeof Gt=="string")un=Ut(Gt)[0];else if(Array.isArray(Gt)){for(var An,Lo,$s=Gt.concat(),qa=[],ll=$s.length;ll--;)typeof(An=$s.shift())=="string"?qa.push(Ut(An)[0]):Array.isArray(An)&&typeof An[0]=="string"&&(Lo=Ut(An[0],An[1],An[2]),qa.push([Lo[0],Lo[1],Lo[2]]));un=qa}return un}var Na=!1,Rs=!0;if(typeof m=="string")Na=!0;else if(Array.isArray(m)){var qs=m.concat();$e=[];for(var Ea,kn=qs.length;kn--;)(typeof(Ea=qs.shift())!="string"||Array.isArray(Ea)&&typeof Ea[0]!="string")&&(Rs=!1);Na=Rs}if(Na===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var Pa=Pe/vn.internal.scaleFactor,Ia=Pa*(ir-1);switch(de.baseline){case"bottom":ue-=Ia;break;case"top":ue+=Pa-Ia;break;case"hanging":ue+=Pa-2*Ia;break;case"middle":ue+=Pa/2-Ia}if((ht=de.maxWidth||0)>0&&(typeof m=="string"?m=vn.splitTextToSize(m,ht):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Gt,Ut){return Gt.concat(vn.splitTextToSize(Ut,ht))},[]))),Oe={text:m,x:T,y:ue,options:de,mutex:{pdfEscape:Yn,activeFontKey:wt,fonts:jt,activeFontSize:Pe}},Ot.publish("preProcessText",Oe),m=Oe.text,Ye=(de=Oe.options).angle,!(nn instanceof at)&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,de.rotationDirection===0&&(Ye=-Ye),A===S.ADVANCED&&(Ye=-Ye);var La=Math.cos(Ye),Ts=Math.sin(Ye);nn=new at(La,Ts,-Ts,La,0,0)}else Ye&&Ye instanceof at&&(nn=Ye);A!==S.ADVANCED||nn||(nn=to),(vt=de.charSpace||xa)!==void 0&&(En+=M(N(vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qt=de.horizontalScale)!==void 0&&(En+=M(100*Qt)+` Tz
`),de.lang;var Xn=-1,Gd=de.renderingMode!==void 0?de.renderingMode:de.stroke,Ms=vn.internal.getCurrentPageInfo().pageContext;switch(Gd){case 0:case!1:case"fill":Xn=0;break;case 1:case!0:case"stroke":Xn=1;break;case 2:case"fillThenStroke":Xn=2;break;case 3:case"invisible":Xn=3;break;case 4:case"fillAndAddForClipping":Xn=4;break;case 5:case"strokeAndAddPathForClipping":Xn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xn=6;break;case 7:case"addToPathForClipping":Xn=7}var il=Ms.usedRenderingMode!==void 0?Ms.usedRenderingMode:-1;Xn!==-1?En+=Xn+` Tr
`:il!==-1&&(En+=`0 Tr
`),Xn!==-1&&(Ms.usedRenderingMode=Xn),tt=de.align||"left";var gr,Ca=Pe*ir,al=vn.internal.pageSize.getWidth(),sl=jt[wt];vt=de.charSpace||xa,ht=de.maxWidth||0,Nt=Object.assign({autoencode:!0,noBOM:!0},de.flags);var Ko=[],qi=function(Gt){return vn.getStringUnitWidth(Gt,{font:sl,charSpace:vt,fontSize:Pe,doKerning:!1})*Pe/ao};if(Object.prototype.toString.call(m)==="[object Array]"){var Kn;$e=Os(m),tt!=="left"&&(gr=$e.map(qi));var zn,Zo=0;if(tt==="right"){T-=gr[0],m=[],kn=$e.length;for(var Eo=0;Eo<kn;Eo++)Eo===0?(zn=io(T),Kn=No(ue)):(zn=N(Zo-gr[Eo]),Kn=-Ca),m.push([$e[Eo],zn,Kn]),Zo=gr[Eo]}else if(tt==="center"){T-=gr[0]/2,m=[],kn=$e.length;for(var Po=0;Po<kn;Po++)Po===0?(zn=io(T),Kn=No(ue)):(zn=N((Zo-gr[Po])/2),Kn=-Ca),m.push([$e[Po],zn,Kn]),Zo=gr[Po]}else if(tt==="left"){m=[],kn=$e.length;for(var Oa=0;Oa<kn;Oa++)m.push($e[Oa])}else if(tt==="justify"&&sl.encoding==="Identity-H"){m=[],kn=$e.length,ht=ht!==0?ht:al;for(var Io=0,sn=0;sn<kn;sn++)if(Kn=sn===0?No(ue):-Ca,zn=sn===0?io(T):Io,sn<kn-1){var Ds=N((ht-gr[sn])/($e[sn].split(" ").length-1)),Gn=$e[sn].split(" ");m.push([Gn[0]+" ",zn,Kn]),Io=0;for(var mr=1;mr<Gn.length;mr++){var ka=(qi(Gn[mr-1]+" "+Gn[mr])-qi(Gn[mr]))*ao+Ds;mr==Gn.length-1?m.push([Gn[mr],ka,0]):m.push([Gn[mr]+" ",ka,0]),Io-=ka}}else m.push([$e[sn],zn,Kn]);m.push(["",Io,0])}else{if(tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],kn=$e.length,ht=ht!==0?ht:al,sn=0;sn<kn;sn++)Kn=sn===0?No(ue):-Ca,zn=sn===0?io(T):0,sn<kn-1?Ko.push(M(N((ht-gr[sn])/($e[sn].split(" ").length-1)))):Ko.push(0),m.push([$e[sn],zn,Kn])}}var ul=typeof de.R2L=="boolean"?de.R2L:De;ul===!0&&(m=ks(m,function(Gt,Ut,un){return[Gt.split("").reverse().join(""),Ut,un]})),Oe={text:m,x:T,y:ue,options:de,mutex:{pdfEscape:Yn,activeFontKey:wt,fonts:jt,activeFontSize:Pe}},Ot.publish("postProcessText",Oe),m=Oe.text,Rr=Oe.mutex.isHex||!1;var Fs=jt[wt].encoding;Fs!=="WinAnsiEncoding"&&Fs!=="StandardEncoding"||(m=ks(m,function(Gt,Ut,un){return[ol(Gt),Ut,un]})),$e=Os(m),m=[];for(var Ti,Mi,Jo,Di=0,Ra=1,Fi=Array.isArray($e[0])?Ra:Di,Qo="",js=function(Gt,Ut,un){var An="";return un instanceof at?(un=typeof de.angle=="number"?Pr(un,new at(1,0,0,1,Gt,Ut)):Pr(new at(1,0,0,1,Gt,Ut),un),A===S.ADVANCED&&(un=Pr(new at(1,0,0,-1,0,0),un)),An=un.join(" ")+` Tm
`):An=M(Gt)+" "+M(Ut)+` Td
`,An},yr=0;yr<$e.length;yr++){switch(Qo="",Fi){case Ra:Jo=(Rr?"<":"(")+$e[yr][0]+(Rr?">":")"),Ti=parseFloat($e[yr][1]),Mi=parseFloat($e[yr][2]);break;case Di:Jo=(Rr?"<":"(")+$e[yr]+(Rr?">":")"),Ti=io(T),Mi=No(ue)}Ko!==void 0&&Ko[yr]!==void 0&&(Qo=Ko[yr]+` Tw
`),yr===0?m.push(Qo+js(Ti,Mi,nn)+Jo):Fi===Di?m.push(Qo+Jo):Fi===Ra&&m.push(Qo+js(Ti,Mi,nn)+Jo)}m=Fi===Di?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var br=`BT
/`;return br+=wt+" "+Pe+` Tf
`,br+=M(Pe*ir)+` TL
`,br+=ki+`
`,br+=En,br+=m,R(br+="ET"),p[wt]=!0,vn};var qd=h.__private__.clip=h.clip=function(m){return R(m==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return qd("evenodd")},h.__private__.discardPath=h.discardPath=function(){return R("n"),this};var oo=h.__private__.isValidStyle=function(m){var T=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(T=!0),T};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(m){return oo(m)&&(l=m),this};var Ku=h.__private__.getStyle=h.getStyle=function(m){var T=l;switch(m){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=m}return T},Zu=h.close=function(){return R("h"),this};h.stroke=function(){return R("S"),this},h.fill=function(m){return _a("f",m),this},h.fillEvenOdd=function(m){return _a("f*",m),this},h.fillStroke=function(m){return _a("B",m),this},h.fillStrokeEvenOdd=function(m){return _a("B*",m),this};var _a=function(m,T){Dt(T)==="object"?Md(T,m):R(m)},ws=function(m){m===null||A===S.ADVANCED&&m===void 0||(m=Ku(m),R(m))};function Td(m,T,ue,de,ye){var Oe=new Ka(T||this.boundingBox,ue||this.xStep,de||this.yStep,this.gState,ye||this.matrix);Oe.stream=this.stream;var $e=m+"$$"+this.cloneIndex+++"$$";return Wn($e,Oe),Oe}var Md=function(m,T){var ue=Pi[m.key],de=Ct[ue];if(de instanceof Wi)R("q"),R(Dd(T)),de.gState&&h.setGState(de.gState),R(m.matrix.toString()+" cm"),R("/"+ue+" sh"),R("Q");else if(de instanceof Ka){var ye=new at(1,0,0,-1,0,Xo());m.matrix&&(ye=ye.multiply(m.matrix||to),ue=Td.call(de,m.key,m.boundingBox,m.xStep,m.yStep,ye).id),R("q"),R("/Pattern cs"),R("/"+ue+" scn"),de.gState&&h.setGState(de.gState),R(T),R("Q")}},Dd=function(m){switch(m){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},xs=h.moveTo=function(m,T){return R(M(N(m))+" "+M(_(T))+" m"),this},Ci=h.lineTo=function(m,T){return R(M(N(m))+" "+M(_(T))+" l"),this},Wo=h.curveTo=function(m,T,ue,de,ye,Oe){return R([M(N(m)),M(_(T)),M(N(ue)),M(_(de)),M(N(ye)),M(_(Oe)),"c"].join(" ")),this};h.__private__.line=h.line=function(m,T,ue,de,ye){if(isNaN(m)||isNaN(T)||isNaN(ue)||isNaN(de)||!oo(ye))throw new Error("Invalid arguments passed to jsPDF.line");return A===S.COMPAT?this.lines([[ue-m,de-T]],m,T,[1,1],ye||"S"):this.lines([[ue-m,de-T]],m,T,[1,1]).stroke()},h.__private__.lines=h.lines=function(m,T,ue,de,ye,Oe){var $e,Ye,tt,vt,ht,Nt,Qt,nn,vn,Tn,En,Rr;if(typeof m=="number"&&(Rr=ue,ue=T,T=m,m=Rr),de=de||[1,1],Oe=Oe||!1,isNaN(T)||isNaN(ue)||!Array.isArray(m)||!Array.isArray(de)||!oo(ye)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xs(T,ue),$e=de[0],Ye=de[1],vt=m.length,Tn=T,En=ue,tt=0;tt<vt;tt++)(ht=m[tt]).length===2?(Tn=ht[0]*$e+Tn,En=ht[1]*Ye+En,Ci(Tn,En)):(Nt=ht[0]*$e+Tn,Qt=ht[1]*Ye+En,nn=ht[2]*$e+Tn,vn=ht[3]*Ye+En,Tn=ht[4]*$e+Tn,En=ht[5]*Ye+En,Wo(Nt,Qt,nn,vn,Tn,En));return Oe&&Zu(),ws(ye),this},h.path=function(m){for(var T=0;T<m.length;T++){var ue=m[T],de=ue.c;switch(ue.op){case"m":xs(de[0],de[1]);break;case"l":Ci(de[0],de[1]);break;case"c":Wo.apply(this,de);break;case"h":Zu()}}return this},h.__private__.rect=h.rect=function(m,T,ue,de,ye){if(isNaN(m)||isNaN(T)||isNaN(ue)||isNaN(de)||!oo(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return A===S.COMPAT&&(de=-de),R([M(N(m)),M(_(T)),M(N(ue)),M(N(de)),"re"].join(" ")),ws(ye),this},h.__private__.triangle=h.triangle=function(m,T,ue,de,ye,Oe,$e){if(isNaN(m)||isNaN(T)||isNaN(ue)||isNaN(de)||isNaN(ye)||isNaN(Oe)||!oo($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-m,de-T],[ye-ue,Oe-de],[m-ye,T-Oe]],m,T,[1,1],$e,!0),this},h.__private__.roundedRect=h.roundedRect=function(m,T,ue,de,ye,Oe,$e){if(isNaN(m)||isNaN(T)||isNaN(ue)||isNaN(de)||isNaN(ye)||isNaN(Oe)||!oo($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ue),Oe=Math.min(Oe,.5*de),this.lines([[ue-2*ye,0],[ye*Ye,0,ye,Oe-Oe*Ye,ye,Oe],[0,de-2*Oe],[0,Oe*Ye,-ye*Ye,Oe,-ye,Oe],[2*ye-ue,0],[-ye*Ye,0,-ye,-Oe*Ye,-ye,-Oe],[0,2*Oe-de],[0,-Oe*Ye,ye*Ye,-Oe,ye,-Oe]],m+ye,T,[1,1],$e,!0),this},h.__private__.ellipse=h.ellipse=function(m,T,ue,de,ye){if(isNaN(m)||isNaN(T)||isNaN(ue)||isNaN(de)||!oo(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*ue,$e=4/3*(Math.SQRT2-1)*de;return xs(m+ue,T),Wo(m+ue,T-$e,m+Oe,T-de,m,T-de),Wo(m-Oe,T-de,m-ue,T-$e,m-ue,T),Wo(m-ue,T+$e,m-Oe,T+de,m,T+de),Wo(m+Oe,T+de,m+ue,T+$e,m+ue,T),ws(ye),this},h.__private__.circle=h.circle=function(m,T,ue,de){if(isNaN(m)||isNaN(T)||isNaN(ue)||!oo(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,T,ue,ue,de)},h.setFont=function(m,T,ue){return ue&&(T=Z(T,ue)),wt=Wu(m,T,{disableWarning:!1}),this};var Fd=h.__private__.getFont=h.getFont=function(){return jt[Wu.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var m,T,ue={};for(m in Kt)if(Kt.hasOwnProperty(m))for(T in ue[m]=[],Kt[m])Kt[m].hasOwnProperty(T)&&ue[m].push(T);return ue},h.addFont=function(m,T,ue,de,ye){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(ue=Z(ue,de)),ye=ye||"Identity-H",ys.call(this,m,T,ue,ye)};var Oi,Ss=e.lineWidth||.200025,wa=h.__private__.getLineWidth=h.getLineWidth=function(){return Ss},Ju=h.__private__.setLineWidth=h.setLineWidth=function(m){return Ss=m,R(M(N(m))+" w"),this};h.__private__.setLineDash=st.API.setLineDash=st.API.setLineDashPattern=function(m,T){if(m=m||[],T=T||0,isNaN(T)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(ue){return M(N(ue))}).join(" "),T=M(N(T)),R("["+m+"] "+T+" d"),this};var Qu=h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*Oi};h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*Oi};var el=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(Oi=m),this},tl=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Oi};el(e.lineHeight);var io=h.__private__.getHorizontalCoordinate=function(m){return N(m)},No=h.__private__.getVerticalCoordinate=function(m){return A===S.ADVANCED?m:ft[W].mediaBox.topRightY-ft[W].mediaBox.bottomLeftY-N(m)},jd=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(m){return M(io(m))},Yo=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(m){return M(No(m))},kr=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Lr(kr)},h.__private__.setStrokeColor=h.setDrawColor=function(m,T,ue,de){return kr=Cr({ch1:m,ch2:T,ch3:ue,ch4:de,pdfColorType:"draw",precision:2}),R(kr),this};var As=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Lr(As)},h.__private__.setFillColor=h.setFillColor=function(m,T,ue,de){return As=Cr({ch1:m,ch2:T,ch3:ue,ch4:de,pdfColorType:"fill",precision:2}),R(As),this};var ki=e.textColor||"0 g",$d=h.__private__.getTextColor=h.getTextColor=function(){return Lr(ki)};h.__private__.setTextColor=h.setTextColor=function(m,T,ue,de){return ki=Cr({ch1:m,ch2:T,ch3:ue,ch4:de,pdfColorType:"text",precision:3}),this};var xa=e.charSpace,Bd=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(xa||0)};h.__private__.setCharSpace=h.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xa=m,this};var Ns=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(m){var T=h.CapJoinStyles[m];if(T===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ns=T,R(T+" J"),this};var Es=0;h.__private__.setLineJoin=h.setLineJoin=function(m){var T=h.CapJoinStyles[m];if(T===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Es=T,R(T+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return R(M(N(m))+" M"),this},h.GState=Rc,h.setGState=function(m){(m=typeof m=="string"?en[Er[m]]:nl(null,m)).equals(xo)||(R("/"+m.id+" gs"),xo=m)};var nl=function(m,T){if(!m||!Er[m]){var ue=!1;for(var de in en)if(en.hasOwnProperty(de)&&en[de].equals(T)){ue=!0;break}if(ue)T=en[de];else{var ye="GS"+(Object.keys(en).length+1).toString(10);en[ye]=T,T.id=ye}return m&&(Er[m]=T.id),Ot.publish("addGState",T),T}};h.addGState=function(m,T){return nl(m,T),this},h.saveGraphicsState=function(){return R("q"),Jr.push({key:wt,size:Pe,color:ki}),this},h.restoreGraphicsState=function(){R("Q");var m=Jr.pop();return wt=m.key,Pe=m.size,ki=m.color,xo=null,this},h.setCurrentTransformationMatrix=function(m){return R(m.toString()+" cm"),this},h.comment=function(m){return R("#"+m),this};var Sa=function(m,T){var ue=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Oe){isNaN(Oe)||(ue=parseFloat(Oe))}});var de=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Oe){isNaN(Oe)||(de=parseFloat(Oe))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Oe){ye=Oe.toString()}}),this},Ps=function(m,T,ue,de){Sa.call(this,m,T),this.type="rect";var ye=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function($e){isNaN($e)||(ye=parseFloat($e))}});var Oe=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function($e){isNaN($e)||(Oe=parseFloat($e))}}),this},Is=function(){this.page=tn,this.currentPage=W,this.pages=we.slice(0),this.pagesContext=ft.slice(0),this.x=wn,this.y=_t,this.matrix=xn,this.width=Ri(W),this.height=Xo(W),this.outputDestination=_e,this.id="",this.objectNumber=-1};Is.prototype.restore=function(){tn=this.page,W=this.currentPage,ft=this.pagesContext,we=this.pages,wn=this.x,_t=this.y,xn=this.matrix,Ls(W,this.width),Cs(W,this.height),_e=this.outputDestination};var rl=function(m,T,ue,de,ye){eo.push(new Is),tn=W=0,we=[],wn=m,_t=T,xn=ye,bs([ue,de])},zd=function(m){if(Qr[m])eo.pop().restore();else{var T=new Is,ue="Xo"+(Object.keys(On).length+1).toString(10);T.id=ue,Qr[m]=ue,On[ue]=T,Ot.publish("addFormObject",T),eo.pop().restore()}};for(var Aa in h.beginFormObject=function(m,T,ue,de,ye){return rl(m,T,ue,de,ye),this},h.endFormObject=function(m){return zd(m),this},h.doFormObject=function(m,T){var ue=On[Qr[m]];return R("q"),R(T.toString()+" cm"),R("/"+ue.id+" Do"),R("Q"),this},h.getFormObject=function(m){var T=On[Qr[m]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},h.save=function(m,T){return m=m||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,T.returnPromise===!1?(Gi(ya(Ao()),m),typeof Gi.unload=="function"&&lt.setTimeout&&setTimeout(Gi.unload,911),this):new Promise(function(ue,de){try{var ye=Gi(ya(Ao()),m);typeof Gi.unload=="function"&&lt.setTimeout&&setTimeout(Gi.unload,911),ue(ye)}catch(Oe){de(Oe.message)}})},st.API)st.API.hasOwnProperty(Aa)&&(Aa==="events"&&st.API.events.length?function(m,T){var ue,de,ye;for(ye=T.length-1;ye!==-1;ye--)ue=T[ye][0],de=T[ye][1],m.subscribe.apply(m,[ue].concat(typeof de=="function"?[de]:de))}(Ot,st.API.events):h[Aa]=st.API[Aa]);var Ri=h.getPageWidth=function(m){return(ft[m=m||W].mediaBox.topRightX-ft[m].mediaBox.bottomLeftX)/He},Ls=h.setPageWidth=function(m,T){ft[m].mediaBox.topRightX=T*He+ft[m].mediaBox.bottomLeftX},Xo=h.getPageHeight=function(m){return(ft[m=m||W].mediaBox.topRightY-ft[m].mediaBox.bottomLeftY)/He},Cs=h.setPageHeight=function(m,T){ft[m].mediaBox.topRightY=T*He+ft[m].mediaBox.bottomLeftY};return h.internal={pdfEscape:Yn,getStyle:Ku,getFont:Fd,getFontSize:Ce,getCharSpace:Bd,getTextColor:$d,getLineHeight:Qu,getLineHeightFactor:tl,getLineWidth:wa,write:oe,getHorizontalCoordinate:io,getVerticalCoordinate:No,getCoordinateString:jd,getVerticalCoordinateString:Yo,collections:{},newObject:Sn,newAdditionalObject:ca,newObjectDeferred:pn,newObjectDeferredBegin:or,getFilters:no,putStream:vr,events:Ot,scaleFactor:He,pageSize:{getWidth:function(){return Ri(W)},setWidth:function(m){Ls(W,m)},getHeight:function(){return Xo(W)},setHeight:function(m){Cs(W,m)}},encryptionOptions:c,encryption:qn,getEncryptor:kd,output:ba,getNumberOfPages:Pd,pages:we,out:R,f2:H,f3:P,getPageInfo:Xu,getPageInfoByObjId:dt,getCurrentPageInfo:Rd,getPDFVersion:b,Point:Sa,Rectangle:Ps,Matrix:at,hasHotfix:Yu},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Ri(W)},set:function(m){Ls(W,m)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Xo(W)},set:function(m){Cs(W,m)},enumerable:!0,configurable:!0}),Nd.call(h,xe),wt="F1",Vu(o,n),Ot.publish("initialized"),h}Ya.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Ya.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ya.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Ya.prototype.processOwnerPassword=function(e,t){return G0(z0(t).substr(0,5),e)},Ya.prototype.encryptor=function(e,t){var n=z0(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return G0(n,r)}},Rc.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Dt(e)!==Dt(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},st.API={events:[]},st.version="3.0.1";var on=st.API,jm=1,la=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ha=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pt=function(e){return e.toFixed(2)},ci=function(e){return e.toFixed(5)};on.__acroform__={};var rr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},a4=function(e){return e*jm},uo=function(e){var t=new PS,n=Je.internal.getHeight(e)||0,r=Je.internal.getWidth(e)||0;return t.BBox=[0,0,Number(pt(r)),Number(pt(n))],t},r$=on.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},o$=on.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},i$=on.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},cn=on.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return i$(e,t-1)},dn=on.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return r$(e,t-1)},fn=on.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return o$(e,t-1)},a$=on.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,o=e[0],i=e[1],a=e[2],s=e[3],u={};return u.lowerLeft_X=n(o)||0,u.lowerLeft_Y=r(i+s)||0,u.upperRight_X=n(o+a)||0,u.upperRight_Y=r(i)||0,[Number(pt(u.lowerLeft_X)),Number(pt(u.lowerLeft_Y)),Number(pt(u.upperRight_X)),Number(pt(u.upperRight_Y))]},s$=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=U0(e,n),o=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+o+" "+pt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=uo(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},U0=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},o=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");o=e.multiline?o.map(function(P){return P.split(`
`)}):o.map(function(P){return[P]});var i=n,a=Je.internal.getHeight(e)||0;a=a<0?-a:a;var s=Je.internal.getWidth(e)||0;s=s<0?-s:s;var u=function(P,N,V){if(P+1<o.length){var _=N+" "+o[P+1][0];return Xl(_,e,V).width<=s-4}return!1};i++;e:for(;i>0;){t="",i--;var l,c,f=Xl("3",e,i).height,p=e.multiline?a-i:(a-f)/2,h=p+=2,g=0,b=0,w=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Xl(t,e,i=12).width+", FieldWidth:"+s+`
`;break}for(var y="",S=0,A=0;A<o.length;A++)if(o.hasOwnProperty(A)){var L=!1;if(o[A].length!==1&&w!==o[A].length-1){if((f+2)*(S+2)+2>a)continue e;y+=o[A][w],L=!0,b=A,A--}else{y=(y+=o[A][w]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var j=parseInt(A),Z=u(j,y,i),M=A>=o.length-1;if(Z&&!M){y+=" ",w=0;continue}if(Z||M){if(M)b=j;else if(e.multiline&&(f+2)*(S+2)+2>a)continue e}else{if(!e.multiline||(f+2)*(S+2)+2>a)continue e;b=j}}for(var I="",X=g;X<=b;X++){var H=o[X];if(e.multiline){if(X===b){I+=H[w]+" ",w=(w+1)%H.length;continue}if(X===g){I+=H[H.length-1]+" ";continue}}I+=H[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,c=Xl(I,e,i).width,e.textAlign){case"right":l=s-c-2;break;case"center":l=(s-c)/2;break;case"left":default:l=2}t+=pt(l)+" "+pt(h)+` Td
`,t+="("+la(I)+`) Tj
`,t+=-pt(l)+` 0 Td
`,h=-(i+2),c=0,g=L?b:b+1,S++,y=""}break}return r.text=t,r.fontSize=i,r},Xl=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),o=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},u$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},l$=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},c$=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,o=e[n];t.internal.newObjectDeferredBegin(o.objId,!0),Dt(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete e[r]}},d$=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Kr.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(u$)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jm=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new IS,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];i.objId=void 0,i.hasAnnotation&&l$(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,o){var i=!r;for(var a in r||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var s=r[a],u=[],l=s.Rect;if(s.Rect&&(s.Rect=a$(s.Rect,o)),o.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Je.createDefaultAppearanceStream(s),Dt(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(u=s.getKeyValueListForStream()),s.Rect=l,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=s$(s);u.push({key:"AP",value:"<</N "+c+">>"}),o.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var f="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var h=s.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var g=h[a];typeof g=="function"&&(g=g.call(o,s)),f+="/"+a+" "+g+" ",o.internal.acroformPlugin.xForms.indexOf(g)>=0||o.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(o,s)),f+="/"+a+" "+g,o.internal.acroformPlugin.xForms.indexOf(g)>=0||o.internal.acroformPlugin.xForms.push(g);f+=">>"}u.push({key:"AP",value:`<<
`+f+">>"})}o.internal.putStream({additionalKeyValues:u,objectId:s.objId}),o.internal.out("endobj")}i&&c$(o.internal.acroformPlugin.xForms,o)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},ES=on.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(a){return a};if(Array.isArray(e)){for(var o="[",i=0;i<e.length;i++)switch(i!==0&&(o+=" "),Dt(e[i])){case"boolean":case"number":case"object":o+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),o+="("+la(r(e[i].toString()))+")"):o+=e[i].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},s0=function(e,t,n){var r=function(o){return o};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+la(r(e))+")"},po=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};po.prototype.toString=function(){return this.objId+" 0 R"},po.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},po.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],o=this[r];o&&(Array.isArray(o)?e.push({key:r,value:ES(o,this.objId,this.scope)}):o instanceof po?(o.scope=this.scope,e.push({key:r,value:o.objId+" 0 R"})):typeof o!="function"&&e.push({key:r,value:o}))}return e};var PS=function(){po.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};rr(PS,po);var IS=function(){po.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+la(n(e))+")"}},set:function(n){e=n}})};rr(IS,po);var Kr=function e(){po.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!cn(t,3)},set:function(y){y?this.F=dn(t,3):this.F=fn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof qc)return;i="FieldObject"+e.FieldNum++}var y=function(S){return S};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+la(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/jm:l},set:function(y){l=y}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof qc||this instanceof Qi))return s0(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ln?p:s0(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Ln?y:y.substr(0,1)==="("?Ha(y.substr(1,y.length-2)):Ha(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ln?Ha(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Ln?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ln?h:s0(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Ln?y:y.substr(0,1)==="("?Ha(y.substr(1,y.length-2)):Ha(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ln?Ha(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Ln?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(y){y=!!y,b=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,1)},set:function(y){y?this.Ff=dn(this.Ff,1):this.Ff=fn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,2)},set:function(y){y?this.Ff=dn(this.Ff,2):this.Ff=fn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,3)},set:function(y){y?this.Ff=dn(this.Ff,3):this.Ff=fn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');w=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(w){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};rr(Kr,po);var ts=function(){Kr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ES(t,this.objId,this.scope)},set:function(n){var r,o;o=[],typeof(r=n)=="string"&&(o=function(i,a,s){s||(s=1);for(var u,l=[];u=a.exec(i);)l.push(u[s]);return l}(r,/\((.*?)\)/g)),t=o}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,18)},set:function(n){n?this.Ff=dn(this.Ff,18):this.Ff=fn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=dn(this.Ff,19):this.Ff=fn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,20)},set:function(n){n?(this.Ff=dn(this.Ff,20),t.sort()):this.Ff=fn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,22)},set:function(n){n?this.Ff=dn(this.Ff,22):this.Ff=fn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,23)},set:function(n){n?this.Ff=dn(this.Ff,23):this.Ff=fn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,27)},set:function(n){n?this.Ff=dn(this.Ff,27):this.Ff=fn(this.Ff,27)}}),this.hasAppearanceStream=!1};rr(ts,Kr);var ns=function(){ts.call(this),this.fontName="helvetica",this.combo=!1};rr(ns,ts);var rs=function(){ns.call(this),this.combo=!0};rr(rs,ns);var uc=function(){rs.call(this),this.edit=!0};rr(uc,rs);var Ln=function(){Kr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,15)},set:function(n){n?this.Ff=dn(this.Ff,15):this.Ff=fn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,16)},set:function(n){n?this.Ff=dn(this.Ff,16):this.Ff=fn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,17)},set:function(n){n?this.Ff=dn(this.Ff,17):this.Ff=fn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,26)},set:function(n){n?this.Ff=dn(this.Ff,26):this.Ff=fn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,o=[];for(r in o.push("<<"),t)o.push("/"+r+" ("+la(n(t[r]))+")");return o.push(">>"),o.join(`
`)}},set:function(n){Dt(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};rr(Ln,Kr);var lc=function(){Ln.call(this),this.pushButton=!0};rr(lc,Ln);var os=function(){Ln.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};rr(os,Ln);var qc=function(){var e,t;Kr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(o){e=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(o){t=o}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(s){return s};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),r)a.push("/"+i+" ("+la(o(r[i]))+")");return a.push(">>"),a.join(`
`)},set:function(o){Dt(o)==="object"&&(r=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(o){typeof o=="string"&&(r.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(o){n="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};rr(qc,Kr),os.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},os.prototype.createOption=function(e){var t=new qc;return t.Parent=this,t.optionName=e,this.Kids.push(t),f$.call(this.scope,t),t};var cc=function(){Ln.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Je.CheckBox.createAppearanceStream()};rr(cc,Ln);var Qi=function(){Kr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,13)},set:function(t){t?this.Ff=dn(this.Ff,13):this.Ff=fn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,21)},set:function(t){t?this.Ff=dn(this.Ff,21):this.Ff=fn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,23)},set:function(t){t?this.Ff=dn(this.Ff,23):this.Ff=fn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,24)},set:function(t){t?this.Ff=dn(this.Ff,24):this.Ff=fn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,25)},set:function(t){t?this.Ff=dn(this.Ff,25):this.Ff=fn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,26)},set:function(t){t?this.Ff=dn(this.Ff,26):this.Ff=fn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};rr(Qi,Kr);var dc=function(){Qi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!cn(this.Ff,14)},set:function(e){e?this.Ff=dn(this.Ff,14):this.Ff=fn(this.Ff,14)}}),this.password=!0};rr(dc,Qi);var Je={CheckBox:{createAppearanceStream:function(){return{N:{On:Je.CheckBox.YesNormal},D:{On:Je.CheckBox.YesPushDown,Off:Je.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=uo(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),i=U0(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+pt(Je.internal.getWidth(e))+" "+pt(Je.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+pt(i.fontSize)+" Tf "+o),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=uo(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),o=[],i=Je.internal.getHeight(e),a=Je.internal.getWidth(e),s=U0(e,e.caption);return o.push("1 g"),o.push("0 0 "+pt(a)+" "+pt(i)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+pt(a-1)+" "+pt(i-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+pt(s.fontSize)+" Tf "+r),o.push(s.text),o.push("ET"),o.push("Q"),t.stream=o.join(`
`),t},OffPushDown:function(e){var t=uo(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pt(Je.internal.getWidth(e))+" "+pt(Je.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Je.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Je.RadioButton.Circle.YesNormal,t.D[e]=Je.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=uo(e);t.scope=e.scope;var n=[],r=Je.internal.getWidth(e)<=Je.internal.getHeight(e)?Je.internal.getWidth(e)/4:Je.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var o=Je.internal.Bezier_C,i=Number((r*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ci(Je.internal.getWidth(e)/2)+" "+ci(Je.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=uo(e);t.scope=e.scope;var n=[],r=Je.internal.getWidth(e)<=Je.internal.getHeight(e)?Je.internal.getWidth(e)/4:Je.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var o=Number((2*r).toFixed(5)),i=Number((o*Je.internal.Bezier_C).toFixed(5)),a=Number((r*Je.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ci(Je.internal.getWidth(e)/2)+" "+ci(Je.internal.getHeight(e)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+i+" "+i+" "+o+" 0 "+o+" c"),n.push("-"+i+" "+o+" -"+o+" "+i+" -"+o+" 0 c"),n.push("-"+o+" -"+i+" -"+i+" -"+o+" 0 -"+o+" c"),n.push(i+" -"+o+" "+o+" -"+i+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ci(Je.internal.getWidth(e)/2)+" "+ci(Je.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=uo(e);t.scope=e.scope;var n=[],r=Je.internal.getWidth(e)<=Je.internal.getHeight(e)?Je.internal.getWidth(e)/4:Je.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var o=Number((2*r).toFixed(5)),i=Number((o*Je.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ci(Je.internal.getWidth(e)/2)+" "+ci(Je.internal.getHeight(e)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+i+" "+i+" "+o+" 0 "+o+" c"),n.push("-"+i+" "+o+" -"+o+" "+i+" -"+o+" 0 c"),n.push("-"+o+" -"+i+" -"+i+" -"+o+" 0 -"+o+" c"),n.push(i+" -"+o+" "+o+" -"+i+" "+o+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Je.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Je.RadioButton.Cross.YesNormal,t.D[e]=Je.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=uo(e);t.scope=e.scope;var n=[],r=Je.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+pt(Je.internal.getWidth(e)-2)+" "+pt(Je.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(pt(r.x1.x)+" "+pt(r.x1.y)+" m"),n.push(pt(r.x2.x)+" "+pt(r.x2.y)+" l"),n.push(pt(r.x4.x)+" "+pt(r.x4.y)+" m"),n.push(pt(r.x3.x)+" "+pt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=uo(e);t.scope=e.scope;var n=Je.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+pt(Je.internal.getWidth(e))+" "+pt(Je.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+pt(Je.internal.getWidth(e)-2)+" "+pt(Je.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(pt(n.x1.x)+" "+pt(n.x1.y)+" m"),r.push(pt(n.x2.x)+" "+pt(n.x2.y)+" l"),r.push(pt(n.x4.x)+" "+pt(n.x4.y)+" m"),r.push(pt(n.x3.x)+" "+pt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=uo(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pt(Je.internal.getWidth(e))+" "+pt(Je.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Je.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Je.internal.getWidth(e),n=Je.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Je.internal.getWidth=function(e){var t=0;return Dt(e)==="object"&&(t=a4(e.Rect[2])),t},Je.internal.getHeight=function(e){var t=0;return Dt(e)==="object"&&(t=a4(e.Rect[3])),t};var f$=on.addField=function(e){if(d$(this,e),!(e instanceof Kr))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};on.AcroFormChoiceField=ts,on.AcroFormListBox=ns,on.AcroFormComboBox=rs,on.AcroFormEditBox=uc,on.AcroFormButton=Ln,on.AcroFormPushButton=lc,on.AcroFormRadioButton=os,on.AcroFormCheckBox=cc,on.AcroFormTextField=Qi,on.AcroFormPasswordField=dc,on.AcroFormAppearance=Je,on.AcroForm={ChoiceField:ts,ListBox:ns,ComboBox:rs,EditBox:uc,Button:Ln,PushButton:lc,RadioButton:os,CheckBox:cc,TextField:Qi,PasswordField:dc,Appearance:Je},st.AcroForm={ChoiceField:ts,ListBox:ns,ComboBox:rs,EditBox:uc,Button:Ln,PushButton:lc,RadioButton:os,CheckBox:cc,TextField:Qi,PasswordField:dc,Appearance:Je};st.AcroForm;function LS(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(P,N){var V,_,F,k,Q,U=t;if((N=N||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(Z(P))for(Q in n)for(F=n[Q],V=0;V<F.length;V+=1){for(k=!0,_=0;_<F[V].length;_+=1)if(F[V][_]!==void 0&&F[V][_]!==P[_]){k=!1;break}if(k===!0){U=Q;break}}else for(Q in n)for(F=n[Q],V=0;V<F.length;V+=1){for(k=!0,_=0;_<F[V].length;_+=1)if(F[V][_]!==void 0&&F[V][_]!==P.charCodeAt(_)){k=!1;break}if(k===!0){U=Q;break}}return U===t&&N!==t&&(U=N),U},o=function P(N){for(var V=this.internal.write,_=this.internal.putStream,F=(0,this.internal.getFilters)();F.indexOf("FlateEncode")!==-1;)F.splice(F.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var k=[];if(k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Image"}),k.push({key:"Width",value:N.width}),k.push({key:"Height",value:N.height}),N.colorSpace===w.INDEXED?k.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(k.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===w.DEVICE_CMYK&&k.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),k.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&k.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var Q="",U=0,ne=N.transparency.length;U<ne;U++)Q+=N.transparency[U]+" "+N.transparency[U]+" ";k.push({key:"Mask",value:"["+Q+"]"})}N.sMask!==void 0&&k.push({key:"SMask",value:N.objectId+1+" 0 R"});var ee=N.filter!==void 0?["/"+N.filter]:void 0;if(_({data:N.data,additionalKeyValues:k,alreadyAppliedFilters:ee,objectId:N.objectId}),V("endobj"),"sMask"in N&&N.sMask!==void 0){var pe="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,O={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:pe,data:N.sMask};"filter"in N&&(O.filter=N.filter),P.call(this,O)}if(N.colorSpace===w.INDEXED){var W=this.internal.newObject();_({data:I(new Uint8Array(N.palette)),objectId:W}),V("endobj")}},i=function(){var P=this.internal.collections.addImage_images;for(var N in P)o.call(this,P[N])},a=function(){var P,N=this.internal.collections.addImage_images,V=this.internal.write;for(var _ in N)V("/I"+(P=N[_]).index,P.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var P=this.internal.collections.addImage_images;return s.call(this),P},l=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(P){return typeof e["process"+P.toUpperCase()]=="function"},f=function(P){return Dt(P)==="object"&&P.nodeType===1},p=function(P,N){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var V=""+P.getAttribute("src");if(V.indexOf("data:image/")===0)return vu(unescape(V).split("base64,").pop());var _=e.loadFile(V,!0);if(_!==void 0)return _}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var F;switch(N){case"PNG":F="image/png";break;case"WEBP":F="image/webp";break;case"JPEG":case"JPG":default:F="image/jpeg"}return vu(P.toDataURL(F,1).split("base64,").pop())}},h=function(P){var N=this.internal.collections.addImage_images;if(N){for(var V in N)if(P===N[V].alias)return N[V]}},g=function(P,N,V){return P||N||(P=-96,N=-96),P<0&&(P=-1*V.width*72/P/this.internal.scaleFactor),N<0&&(N=-1*V.height*72/N/this.internal.scaleFactor),P===0&&(P=N*V.width/V.height),N===0&&(N=P*V.height/V.width),[P,N]},b=function(P,N,V,_,F,k){var Q=g.call(this,V,_,F),U=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,ee=u.call(this);if(V=Q[0],_=Q[1],ee[F.index]=F,k){k*=Math.PI/180;var pe=Math.cos(k),O=Math.sin(k),W=function(D){return D.toFixed(4)},C=[W(pe),W(O),W(-1*O),W(pe),0,0,"cm"]}this.internal.write("q"),k?(this.internal.write([1,"0","0",1,U(P),ne(N+_),"cm"].join(" ")),this.internal.write(C.join(" ")),this.internal.write([U(V),"0","0",U(_),"0","0","cm"].join(" "))):this.internal.write([U(V),"0","0",U(_),U(P),ne(N+_),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+F.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(P){var N,V,_=0;if(typeof P=="string")for(V=P.length,N=0;N<V;N++)_=(_<<5)-_+P.charCodeAt(N),_|=0;else if(Z(P))for(V=P.byteLength/2,N=0;N<V;N++)_=(_<<5)-_+P[N],_|=0;return _},A=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var N=!0;return P.length===0&&(N=!1),P.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(N=!1),N},L=e.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var N=P.indexOf(",");return N<0?null:P.substring(0,N).trim().endsWith("base64")?P.substring(N+1):null},j=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(P){return j()&&P instanceof ArrayBuffer};var Z=e.__addimage__.isArrayBufferView=function(P){return j()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},M=e.__addimage__.binaryStringToUint8Array=function(P){for(var N=P.length,V=new Uint8Array(N),_=0;_<N;_++)V[_]=P.charCodeAt(_);return V},I=e.__addimage__.arrayBufferToBinaryString=function(P){for(var N="",V=Z(P)?P:new Uint8Array(P),_=0;_<V.length;_+=8192)N+=String.fromCharCode.apply(null,V.subarray(_,_+8192));return N};e.addImage=function(){var P,N,V,_,F,k,Q,U,ne;if(typeof arguments[1]=="number"?(N=t,V=arguments[1],_=arguments[2],F=arguments[3],k=arguments[4],Q=arguments[5],U=arguments[6],ne=arguments[7]):(N=arguments[1],V=arguments[2],_=arguments[3],F=arguments[4],k=arguments[5],Q=arguments[6],U=arguments[7],ne=arguments[8]),Dt(P=arguments[0])==="object"&&!f(P)&&"imageData"in P){var ee=P;P=ee.imageData,N=ee.format||N||t,V=ee.x||V||0,_=ee.y||_||0,F=ee.w||ee.width||F,k=ee.h||ee.height||k,Q=ee.alias||Q,U=ee.compression||U,ne=ee.rotation||ee.angle||ne}var pe=this.internal.getFilters();if(U===void 0&&pe.indexOf("FlateEncode")!==-1&&(U="SLOW"),isNaN(V)||isNaN(_))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var O=X.call(this,P,N,Q,U);return b.call(this,V,_,F,k,O,ne),this};var X=function(P,N,V,_){var F,k,Q;if(typeof P=="string"&&r(P)===t){P=unescape(P);var U=H(P,!1);(U!==""||(U=e.loadFile(P,!0))!==void 0)&&(P=U)}if(f(P)&&(P=p(P,N)),N=r(P,N),!c(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((Q=V)==null||Q.length===0)&&(V=function(ne){return typeof ne=="string"||Z(ne)?S(ne):Z(ne.data)?S(ne.data):null}(P)),(F=h.call(this,V))||(j()&&(P instanceof Uint8Array||N==="RGBA"||(k=P,P=M(P))),F=this["process"+N.toUpperCase()](P,l.call(this),V,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in e.image_compression?ne:y.NONE}(_),k)),!F)throw new Error("An unknown error occurred whilst processing the image.");return F},H=e.__addimage__.convertBase64ToBinaryString=function(P,N){N=typeof N!="boolean"||N;var V,_="";if(typeof P=="string"){var F;V=(F=L(P))!==null&&F!==void 0?F:P;try{_=vu(V)}catch(k){if(N)throw A(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+k.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return _};e.getImageProperties=function(P){var N,V,_="";if(f(P)&&(P=p(P)),typeof P=="string"&&r(P)===t&&((_=H(P,!1))===""&&(_=e.loadFile(P)||""),P=_),V=r(P),!c(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!j()||P instanceof Uint8Array||(P=M(P)),!(N=this["process"+V.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=V,N}})(st.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};st.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,o,i,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),l=n.pageContext.annotations,c=!1,f=0;f<l.length&&!c;f++)switch((r=l[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var p=0;p<l.length;p++){r=l[p];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(b.objId),S=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(o="/Rect ["+a(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+h(y(r.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+h(y(S))+") >>",b.content=i;var A=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+a(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+A,r.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(b.objId,"0 R",w.objId,"0 R");break;case"freetext":o="/Rect ["+a(r.bounds.x)+" "+s(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var L=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+h(g(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var j=this.annotations._nameMap[r.options.name];r.options.pageNumber=j.page,r.options.top=j.y}else r.options.top||(r.options.top=0);if(o="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Z=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+Z+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,o,i,a){var s=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:u(n),y:l(r),w:u(n+o),h:l(r+i)},options:a,type:"link"})},e.textWithLink=function(n,r,o,i){var a,s,u=this.getTextWidth(n),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){s=i.maxWidth;var c=this.splitTextToSize(n,s).length;a=Math.ceil(l*c)}else s=u,a=l;return this.text(n,r,o,i),o+=.2*l,i.align==="center"&&(r-=u/2),i.align==="right"&&(r-=u),this.link(r,o-l,s,a,i),u},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(st.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},s=e.__arabicParser__.isArabicEndLetter=function(b){return a(b)&&i(b)&&t[b.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(b){return a(b)&&o.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return a(b)&&i(b)&&t[b.charCodeAt(0)].length>=1};var l=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return a(b)&&i(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return a(b)&&i(b)&&t[b.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return a(b)&&i(b)&&t[b.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(b){var w=0,y=n,S="",A=0;for(w=0;w<b.length;w+=1)y[b.charCodeAt(w)]!==void 0?(A++,typeof(y=y[b.charCodeAt(w)])=="number"&&(S+=String.fromCharCode(y),y=n,A=0),w===b.length-1&&(y=n,S+=b.charAt(w-(A-1)),w-=A-1,A=0)):(y=n,S+=b.charAt(w-A),w-=A,A=0);return S};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(b,w,y){return a(b)?i(b)===!1?-1:!l(b)||!a(w)&&!a(y)||!a(y)&&s(w)||s(b)&&!a(w)||s(b)&&u(w)||s(b)&&s(w)?0:c(b)&&a(w)&&!s(w)&&a(y)&&l(y)?3:s(b)||!a(y)?1:2:-1},h=function(b){var w=0,y=0,S=0,A="",L="",j="",Z=(b=b||"").split("\\s+"),M=[];for(w=0;w<Z.length;w+=1){for(M.push(""),y=0;y<Z[w].length;y+=1)A=Z[w][y],L=Z[w][y-1],j=Z[w][y+1],a(A)?(S=p(A,L,j),M[w]+=S!==-1?String.fromCharCode(t[A.charCodeAt(0)][S]):A):M[w]+=A;M[w]=f(M[w])}return M.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var b,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(w)){var S=0;for(y=[],S=0;S<w.length;S+=1)Array.isArray(w[S])?y.push([h(w[S][0]),w[S][1],w[S][2]]):y.push([h(w[S])]);b=y}else b=h(w);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",g])}(st.API),st.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(s){o=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(s){i=s}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(s){a=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var o;if((n=n||"2d")!=="2d")return null;for(o in r)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=r[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(st.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(b){g=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,l){r.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),f=l.font||this.getFont(),p=l.scaleFactor||this.internal.scaleFactor,h=0,g=0,b=0,w=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var y=l.maxWidth;y>0?typeof u=="string"?u=this.splitTextToSize(u,y):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(A,L){return A.concat(w.splitTextToSize(L,y))},[])):u=Array.isArray(u)?u:[u];for(var S=0;S<u.length;S++)h<(b=this.getStringUnitWidth(u[S],{font:f})*c)&&(h=b);return h!==0&&(g=u.length),{w:h/=p,h:Math.max((g*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===u.lineNumber?(u.x=(l.x||0)+(l.width||0),u.y=l.y||0):l.y+l.height+u.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=f.top,h&&p&&(this.printHeaderRow(u.lineNumber,!0),u.y+=p[0].height)):u.y=l.y+l.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-c,u.y+c,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+c,{align:"center",baseline:"top",maxWidth:u.width-c-c}):this.text(u.text,u.x+c,u.y+c,{align:"left",baseline:"top",maxWidth:u.width-c-c})),this.internal.__cell__.lastCell=u,this};e.table=function(u,l,c,f,p){if(r.call(this),!c)throw new Error("No data for PDF table.");var h,g,b,w,y=[],S=[],A=[],L={},j={},Z=[],M=[],I=(p=p||{}).autoSize||!1,X=p.printHeaders!==!1,H=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,P=p.margins||Object.assign({width:this.getPageWidth()},t),N=typeof p.padding=="number"?p.padding:3,V=p.headerBackgroundColor||"#c8c8c8",_=p.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=X,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=_,this.setFontSize(H),f==null)S=y=Object.keys(c[0]),A=y.map(function(){return"left"});else if(Array.isArray(f)&&Dt(f[0])==="object")for(y=f.map(function(ee){return ee.name}),S=f.map(function(ee){return ee.prompt||ee.name||""}),A=f.map(function(ee){return ee.align||"left"}),h=0;h<f.length;h+=1)j[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(S=y=f,A=y.map(function(){return"left"}));if(I||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(L[w=y[h]]=c.map(function(ee){return ee[w]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(S[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=L[w],this.setFont(void 0,"normal"),b=0;b<g.length;b+=1)Z.push(this.getTextDimensions(g[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[w]=Math.max.apply(null,Z)+N+N,Z=[]}if(X){var F={};for(h=0;h<y.length;h+=1)F[y[h]]={},F[y[h]].text=S[h],F[y[h]].align=A[h];var k=s.call(this,F,j);M=y.map(function(ee){return new i(u,l,j[ee],k,F[ee].text,void 0,F[ee].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var Q=f.reduce(function(ee,pe){return ee[pe.name]=pe.align,ee},{});for(h=0;h<c.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:c[h]},this);var U=s.call(this,c[h],j);for(b=0;b<y.length;b+=1){var ne=c[h][y[b]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:b,data:ne},this),a.call(this,new i(u,l,j[y[b]],U,ne,h+2,Q[y[b]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=l,this};var s=function(u,l){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(u).map(function(h){var g=u[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,l[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+c+c},this).reduce(function(h,g){return Math.max(h,g)},0)};e.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,l){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,p.push(c)),c.lineNumber=u;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(st.API);var CS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},OS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],V0=LS(OS),kS=[100,200,300,400,500,600,700,800,900],h$=LS(kS);function H0(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return CS[i=i||"normal"]?i:"normal"}(e.style),r=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),o=function(i){return typeof V0[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:o,src:e.src||[],ref:e.ref||{name:t,style:[o,n,r].join(" ")}}}function s4(e,t,n,r){var o;for(o=n;o>=0&&o<t.length;o+=r)if(e[t[o]])return e[t[o]];for(o=n;o>=0&&o<t.length;o-=r)if(e[t[o]])return e[t[o]]}var p$={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},u4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function l4(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function v$(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",o=Object.assign({},p$,n.genericFontFamilies||{}),i=null,a=null,s=0;s<t.length;++s)if(o[(i=H0(t[s])).family]&&(i.family=o[i.family]),e.hasOwnProperty(i.family)){a=e[i.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+l4(i)+"' and default family '"+r+"'.");if(a=function(u,l){if(l[u])return l[u];var c=V0[u],f=c<=V0.normal?-1:1,p=s4(l,OS,c,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+u);return p}(i.stretch,a),a=function(u,l){if(l[u])return l[u];for(var c=CS[u],f=0;f<c.length;++f)if(l[c[f]])return l[c[f]];throw new Error("Could not find a matching font-style for "+u)}(i.style,a),!(a=function(u,l){if(l[u])return l[u];if(u===400&&l[500])return l[500];if(u===500&&l[400])return l[400];var c=h$[u],f=s4(l,kS,c,u<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+u);return f}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+l4(i)+"'.");return a}function c4(e){return e.trimLeft()}function g$(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function m$(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Kl,d4,f4,u0=["times"];(function(e){var t,n,r,o,i,a,s,u,l,c=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new u,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new a,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new a,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,s=this.internal.Rectangle,u=this.internal.Matrix,l=new c}]);var f=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=O;Object.defineProperty(this,"pdf",{get:function(){return W}});var C=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return C},set:function(B){C=!!B}});var D=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return D},set:function(B){D=!!B}});var G=0;Object.defineProperty(this,"posX",{get:function(){return G},set:function(B){isNaN(B)||(G=B)}});var K=0;Object.defineProperty(this,"posY",{get:function(){return K},set:function(B){isNaN(B)||(K=B)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(B){var R;typeof B=="number"?R=[B,B,B,B]:((R=new Array(4))[0]=B[0],R[1]=B.length>=2?B[1]:R[0],R[2]=B.length>=3?B[2]:R[0],R[3]=B.length>=4?B[3]:R[1]),l.margin=R}});var te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return te},set:function(B){te=B}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(B){ce=B}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(B){Ee=B}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(B){B instanceof c&&(l=B)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(B){l.path=B}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(B){we=B}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(B){var R;R=p(B),this.ctx.fillStyle=R.style,this.ctx.isFillTransparent=R.a===0,this.ctx.fillOpacity=R.a,this.pdf.setFillColor(R.r,R.g,R.b,{a:R.a}),this.pdf.setTextColor(R.r,R.g,R.b,{a:R.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(B){var R=p(B);this.ctx.strokeStyle=R.style,this.ctx.isStrokeTransparent=R.a===0,this.ctx.strokeOpacity=R.a,R.a===0?this.pdf.setDrawColor(255,255,255):(R.a,this.pdf.setDrawColor(R.r,R.g,R.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(B){["butt","round","square"].indexOf(B)!==-1&&(this.ctx.lineCap=B,this.pdf.setLineCap(B))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(B){isNaN(B)||(this.ctx.lineWidth=B,this.pdf.setLineWidth(B))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(B){["bevel","round","miter"].indexOf(B)!==-1&&(this.ctx.lineJoin=B,this.pdf.setLineJoin(B))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(B){isNaN(B)||(this.ctx.miterLimit=B,this.pdf.setMiterLimit(B))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(B){this.ctx.textBaseline=B}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(B){["right","end","center","left","start"].indexOf(B)!==-1&&(this.ctx.textAlign=B)}});var ke=null;function _e(B,R){if(ke===null){var oe=function(me){var xe=[];return Object.keys(me).forEach(function(Pe){me[Pe].forEach(function(Ie){var Ce=null;switch(Ie){case"bold":Ce={family:Pe,weight:"bold"};break;case"italic":Ce={family:Pe,style:"italic"};break;case"bolditalic":Ce={family:Pe,weight:"bold",style:"italic"};break;case"":case"normal":Ce={family:Pe}}Ce!==null&&(Ce.ref={name:Pe,style:Ie},xe.push(Ce))})}),xe}(B.getFontList());ke=function(me){for(var xe={},Pe=0;Pe<me.length;++Pe){var Ie=H0(me[Pe]),Ce=Ie.family,De=Ie.stretch,ze=Ie.style,We=Ie.weight;xe[Ce]=xe[Ce]||{},xe[Ce][De]=xe[Ce][De]||{},xe[Ce][De][ze]=xe[Ce][De][ze]||{},xe[Ce][De][ze][We]=Ie}return xe}(oe.concat(R))}return ke}var ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return ae},set:function(B){ke=null,ae=B}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(B){var R;if(this.ctx.font=B,(R=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(B))!==null){var oe=R[1];R[2];var me=R[3],xe=R[4];R[5];var Pe=R[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(Ie==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var Ce=function(rt){var wt,He,wn=[],_t=rt.trim();if(_t==="")return u0;if(_t in u4)return[u4[_t]];for(;_t!=="";){switch(He=null,wt=(_t=c4(_t)).charAt(0)){case'"':case"'":He=g$(_t.substring(1),wt);break;default:He=m$(_t)}if(He===null||(wn.push(He[0]),(_t=c4(He[1]))!==""&&_t.charAt(0)!==","))return u0;_t=_t.replace(/^,/,"")}return wn}(Pe);if(this.fontFaces){var De=v$(_e(this.pdf,this.fontFaces),Ce.map(function(rt){return{family:rt,stretch:"normal",weight:me,style:oe}}));this.pdf.setFont(De.ref.name,De.ref.style)}else{var ze="";(me==="bold"||parseInt(me,10)>=700||oe==="bold")&&(ze="bold"),oe==="italic"&&(ze+="italic"),ze.length===0&&(ze="normal");for(var We="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Ce.length;gt++){if(this.pdf.internal.getFont(Ce[gt],ze,{noFallback:!0,disableWarning:!0})!==void 0){We=Ce[gt];break}if(ze==="bolditalic"&&this.pdf.internal.getFont(Ce[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=Ce[gt],ze="bold";else if(this.pdf.internal.getFont(Ce[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=Ce[gt],ze="normal";break}}if(We===""){for(var xt=0;xt<Ce.length;xt++)if(it[Ce[xt]]){We=it[Ce[xt]];break}}We=We===""?"Times":We,this.pdf.setFont(We,ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(B){this.ctx.globalCompositeOperation=B}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(B){this.ctx.globalAlpha=B}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(B){this.ctx.lineDashOffset=B,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(B){this.ctx.lineDash=B,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(B){this.ctx.ignoreClearRect=!!B}})};f.prototype.setLineDash=function(O){this.lineDash=O},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){L.call(this,"fill",!1)},f.prototype.stroke=function(){L.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(O,W){if(isNaN(O)||isNaN(W))throw Bt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var C=this.ctx.transform.applyToPoint(new a(O,W));this.path.push({type:"mt",x:C.x,y:C.y}),this.ctx.lastPoint=new a(O,W)},f.prototype.closePath=function(){var O=new a(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Dt(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){O=new a(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(O.x,O.y)},f.prototype.lineTo=function(O,W){if(isNaN(O)||isNaN(W))throw Bt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var C=this.ctx.transform.applyToPoint(new a(O,W));this.path.push({type:"lt",x:C.x,y:C.y}),this.ctx.lastPoint=new a(C.x,C.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},f.prototype.quadraticCurveTo=function(O,W,C,D){if(isNaN(C)||isNaN(D)||isNaN(O)||isNaN(W))throw Bt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var G=this.ctx.transform.applyToPoint(new a(C,D)),K=this.ctx.transform.applyToPoint(new a(O,W));this.path.push({type:"qct",x1:K.x,y1:K.y,x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},f.prototype.bezierCurveTo=function(O,W,C,D,G,K){if(isNaN(G)||isNaN(K)||isNaN(O)||isNaN(W)||isNaN(C)||isNaN(D))throw Bt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var te=this.ctx.transform.applyToPoint(new a(G,K)),ce=this.ctx.transform.applyToPoint(new a(O,W)),Ee=this.ctx.transform.applyToPoint(new a(C,D));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:Ee.x,y2:Ee.y,x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},f.prototype.arc=function(O,W,C,D,G,K){if(isNaN(O)||isNaN(W)||isNaN(C)||isNaN(D)||isNaN(G))throw Bt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(K=!!K,!this.ctx.transform.isIdentity){var te=this.ctx.transform.applyToPoint(new a(O,W));O=te.x,W=te.y;var ce=this.ctx.transform.applyToPoint(new a(0,C)),Ee=this.ctx.transform.applyToPoint(new a(0,0));C=Math.sqrt(Math.pow(ce.x-Ee.x,2)+Math.pow(ce.y-Ee.y,2))}Math.abs(G-D)>=2*Math.PI&&(D=0,G=2*Math.PI),this.path.push({type:"arc",x:O,y:W,radius:C,startAngle:D,endAngle:G,counterclockwise:K})},f.prototype.arcTo=function(O,W,C,D,G){throw new Error("arcTo not implemented.")},f.prototype.rect=function(O,W,C,D){if(isNaN(O)||isNaN(W)||isNaN(C)||isNaN(D))throw Bt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,W),this.lineTo(O+C,W),this.lineTo(O+C,W+D),this.lineTo(O,W+D),this.lineTo(O,W),this.lineTo(O+C,W),this.lineTo(O,W)},f.prototype.fillRect=function(O,W,C,D){if(isNaN(O)||isNaN(W)||isNaN(C)||isNaN(D))throw Bt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var G={};this.lineCap!=="butt"&&(G.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(G.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,W,C,D),this.fill(),G.hasOwnProperty("lineCap")&&(this.lineCap=G.lineCap),G.hasOwnProperty("lineJoin")&&(this.lineJoin=G.lineJoin)}},f.prototype.strokeRect=function(O,W,C,D){if(isNaN(O)||isNaN(W)||isNaN(C)||isNaN(D))throw Bt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(O,W,C,D),this.stroke())},f.prototype.clearRect=function(O,W,C,D){if(isNaN(O)||isNaN(W)||isNaN(C)||isNaN(D))throw Bt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,W,C,D))},f.prototype.save=function(O){O=typeof O!="boolean"||O;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,C=0;C<this.pdf.internal.getNumberOfPages();C++)this.pdf.setPage(C+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var D=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=D}},f.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,C=0;C<this.pdf.internal.getNumberOfPages();C++)this.pdf.setPage(C+1),this.pdf.internal.out("Q");this.pdf.setPage(W),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(O){var W,C,D,G;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))W=0,C=0,D=0,G=0;else{var K=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(K!==null)W=parseInt(K[1]),C=parseInt(K[2]),D=parseInt(K[3]),G=1;else if((K=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)W=parseInt(K[1]),C=parseInt(K[2]),D=parseInt(K[3]),G=parseFloat(K[4]);else{if(G=1,typeof O=="string"&&O.charAt(0)!=="#"){var te=new SS(O);O=te.ok?te.toHex():"#000000"}O.length===4?(W=O.substring(1,2),W+=W,C=O.substring(2,3),C+=C,D=O.substring(3,4),D+=D):(W=O.substring(1,3),C=O.substring(3,5),D=O.substring(5,7)),W=parseInt(W,16),C=parseInt(C,16),D=parseInt(D,16)}}return{r:W,g:C,b:D,a:G,style:O}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(O,W,C,D){if(isNaN(W)||isNaN(C)||typeof O!="string")throw Bt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(D=isNaN(D)?void 0:D,!h.call(this)){var G=U(this.ctx.transform.rotation),K=this.ctx.transform.scaleX;N.call(this,{text:O,x:W,y:C,scale:K,angle:G,align:this.textAlign,maxWidth:D})}},f.prototype.strokeText=function(O,W,C,D){if(isNaN(W)||isNaN(C)||typeof O!="string")throw Bt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){D=isNaN(D)?void 0:D;var G=U(this.ctx.transform.rotation),K=this.ctx.transform.scaleX;N.call(this,{text:O,x:W,y:C,scale:K,renderingMode:"stroke",angle:G,align:this.textAlign,maxWidth:D})}},f.prototype.measureText=function(O){if(typeof O!="string")throw Bt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,C=this.pdf.internal.scaleFactor,D=W.internal.getFontSize(),G=W.getStringUnitWidth(O)*D/W.internal.scaleFactor,K=function(te){var ce=(te=te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this};return new K({width:G*=Math.round(96*C/72*1e4)/1e4})},f.prototype.scale=function(O,W){if(isNaN(O)||isNaN(W))throw Bt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var C=new u(O,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(C)},f.prototype.rotate=function(O){if(isNaN(O))throw Bt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new u(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function(O,W){if(isNaN(O)||isNaN(W))throw Bt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var C=new u(1,0,0,1,O,W);this.ctx.transform=this.ctx.transform.multiply(C)},f.prototype.transform=function(O,W,C,D,G,K){if(isNaN(O)||isNaN(W)||isNaN(C)||isNaN(D)||isNaN(G)||isNaN(K))throw Bt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var te=new u(O,W,C,D,G,K);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.setTransform=function(O,W,C,D,G,K){O=isNaN(O)?1:O,W=isNaN(W)?0:W,C=isNaN(C)?0:C,D=isNaN(D)?1:D,G=isNaN(G)?0:G,K=isNaN(K)?0:K,this.ctx.transform=new u(O,W,C,D,G,K)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(O,W,C,D,G,K,te,ce,Ee){var we=this.pdf.getImageProperties(O),ke=1,_e=1,ae=1,B=1;D!==void 0&&ce!==void 0&&(ae=ce/D,B=Ee/G,ke=we.width/D*ce/D,_e=we.height/G*Ee/G),K===void 0&&(K=W,te=C,W=0,C=0),D!==void 0&&ce===void 0&&(ce=D,Ee=G),D===void 0&&ce===void 0&&(ce=we.width,Ee=we.height);for(var R,oe=this.ctx.transform.decompose(),me=U(oe.rotate.shx),xe=new u,Pe=(xe=(xe=(xe=xe.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale)).applyToRectangle(new s(K-W*ae,te-C*B,D*ke,G*_e)),Ie=w.call(this,Pe),Ce=[],De=0;De<Ie.length;De+=1)Ce.indexOf(Ie[De])===-1&&Ce.push(Ie[De]);if(A(Ce),this.autoPaging)for(var ze=Ce[0],We=Ce[Ce.length-1],it=ze;it<We+1;it++){this.pdf.setPage(it);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=it===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=it===1?0:rt+(it-2)*wt;if(this.ctx.clip_path.length!==0){var wn=this.path;R=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(R,this.posX+this.margin[3],-He+xt+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=wn}var _t=JSON.parse(JSON.stringify(Pe));_t=S([_t],this.posX+this.margin[3],-He+xt+this.ctx.prevPageLastElemOffset)[0];var xn=(it>ze||it<We)&&b.call(this);xn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,wt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,me),xn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,me)};var w=function(O,W,C){var D=[];W=W||this.pdf.internal.pageSize.width,C=C||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var G=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":D.push(Math.floor((O.y+G)/C)+1);break;case"arc":D.push(Math.floor((O.y+G-O.radius)/C)+1),D.push(Math.floor((O.y+G+O.radius)/C)+1);break;case"qct":var K=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);D.push(Math.floor((K.y+G)/C)+1),D.push(Math.floor((K.y+K.h+G)/C)+1);break;case"bct":var te=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);D.push(Math.floor((te.y+G)/C)+1),D.push(Math.floor((te.y+te.h+G)/C)+1);break;case"rect":D.push(Math.floor((O.y+G)/C)+1),D.push(Math.floor((O.y+O.h+G)/C)+1)}for(var ce=0;ce<D.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<D[ce];)y.call(this);return D},y=function(){var O=this.fillStyle,W=this.strokeStyle,C=this.font,D=this.lineCap,G=this.lineWidth,K=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=W,this.font=C,this.lineCap=D,this.lineWidth=G,this.lineJoin=K},S=function(O,W,C){for(var D=0;D<O.length;D++)switch(O[D].type){case"bct":O[D].x2+=W,O[D].y2+=C;case"qct":O[D].x1+=W,O[D].y1+=C;case"mt":case"lt":case"arc":default:O[D].x+=W,O[D].y+=C}return O},A=function(O){return O.sort(function(W,C){return W-C})},L=function(O,W){for(var C,D,G=this.fillStyle,K=this.strokeStyle,te=this.lineCap,ce=this.lineWidth,Ee=Math.abs(ce*this.ctx.transform.scaleX),we=this.lineJoin,ke=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),ae=[],B=0;B<_e.length;B++)if(_e[B].x!==void 0)for(var R=w.call(this,_e[B]),oe=0;oe<R.length;oe+=1)ae.indexOf(R[oe])===-1&&ae.push(R[oe]);for(var me=0;me<ae.length;me++)for(;this.pdf.internal.getNumberOfPages()<ae[me];)y.call(this);if(A(ae),this.autoPaging)for(var xe=ae[0],Pe=ae[ae.length-1],Ie=xe;Ie<Pe+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=G,this.strokeStyle=K,this.lineCap=te,this.lineWidth=Ee,this.lineJoin=we;var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=Ie===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Ie===1?0:ze+(Ie-2)*We;if(this.ctx.clip_path.length!==0){var gt=this.path;C=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(C,this.posX+this.margin[3],-it+De+this.ctx.prevPageLastElemOffset),j.call(this,O,!0),this.path=gt}if(D=JSON.parse(JSON.stringify(ke)),this.path=S(D,this.posX+this.margin[3],-it+De+this.ctx.prevPageLastElemOffset),W===!1||Ie===0){var xt=(Ie>xe||Ie<Pe)&&b.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,We,null).clip().discardPath()),j.call(this,O,W),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=Ee,j.call(this,O,W),this.lineWidth=ce;this.path=ke},j=function(O,W){if((O!=="stroke"||W||!g.call(this))&&(O==="stroke"||W||!h.call(this))){for(var C,D,G=[],K=this.path,te=0;te<K.length;te++){var ce=K[te];switch(ce.type){case"begin":G.push({begin:!0});break;case"close":G.push({close:!0});break;case"mt":G.push({start:ce,deltas:[],abs:[]});break;case"lt":var Ee=G.length;if(K[te-1]&&!isNaN(K[te-1].x)&&(C=[ce.x-K[te-1].x,ce.y-K[te-1].y],Ee>0)){for(;Ee>=0;Ee--)if(G[Ee-1].close!==!0&&G[Ee-1].begin!==!0){G[Ee-1].deltas.push(C),G[Ee-1].abs.push(ce);break}}break;case"bct":C=[ce.x1-K[te-1].x,ce.y1-K[te-1].y,ce.x2-K[te-1].x,ce.y2-K[te-1].y,ce.x-K[te-1].x,ce.y-K[te-1].y],G[G.length-1].deltas.push(C);break;case"qct":var we=K[te-1].x+2/3*(ce.x1-K[te-1].x),ke=K[te-1].y+2/3*(ce.y1-K[te-1].y),_e=ce.x+2/3*(ce.x1-ce.x),ae=ce.y+2/3*(ce.y1-ce.y),B=ce.x,R=ce.y;C=[we-K[te-1].x,ke-K[te-1].y,_e-K[te-1].x,ae-K[te-1].y,B-K[te-1].x,R-K[te-1].y],G[G.length-1].deltas.push(C);break;case"arc":G.push({deltas:[],abs:[],arc:!0}),Array.isArray(G[G.length-1].abs)&&G[G.length-1].abs.push(ce)}}D=W?null:O==="stroke"?"stroke":"fill";for(var oe=!1,me=0;me<G.length;me++)if(G[me].arc)for(var xe=G[me].abs,Pe=0;Pe<xe.length;Pe++){var Ie=xe[Pe];Ie.type==="arc"?I.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,W,!oe):V.call(this,Ie.x,Ie.y),oe=!0}else if(G[me].close===!0)this.pdf.internal.out("h"),oe=!1;else if(G[me].begin!==!0){var Ce=G[me].start.x,De=G[me].start.y;_.call(this,G[me].deltas,Ce,De),oe=!0}D&&X.call(this,D),W&&H.call(this)}},Z=function(O){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,C=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-C;case"top":return O+W-C;case"hanging":return O+W-2*C;case"middle":return O+W/2-C;case"ideographic":return O;case"alphabetic":default:return O}},M=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(W,C){this.colorStops.push([W,C])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(O,W,C,D,G,K,te,ce,Ee){for(var we=k.call(this,C,D,G,K),ke=0;ke<we.length;ke++){var _e=we[ke];ke===0&&(Ee?P.call(this,_e.x1+O,_e.y1+W):V.call(this,_e.x1+O,_e.y1+W)),F.call(this,O,W,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}ce?H.call(this):X.call(this,te)},X=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(O,W){this.pdf.internal.out(n(O)+" "+r(W)+" m")},N=function(O){var W;switch(O.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var C=this.pdf.getTextDimensions(O.text),D=Z.call(this,O.y),G=M.call(this,D)-C.h,K=this.ctx.transform.applyToPoint(new a(O.x,D)),te=this.ctx.transform.decompose(),ce=new u;ce=(ce=(ce=ce.multiply(te.translate)).multiply(te.skew)).multiply(te.scale);for(var Ee,we,ke,_e=this.ctx.transform.applyToRectangle(new s(O.x,D,C.w,C.h)),ae=ce.applyToRectangle(new s(O.x,G,C.w,C.h)),B=w.call(this,ae),R=[],oe=0;oe<B.length;oe+=1)R.indexOf(B[oe])===-1&&R.push(B[oe]);if(A(R),this.autoPaging)for(var me=R[0],xe=R[R.length-1],Pe=me;Pe<xe+1;Pe++){this.pdf.setPage(Pe);var Ie=Pe===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],ze=De-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],it=We-this.margin[3],gt=Pe===1?0:Ce+(Pe-2)*ze;if(this.ctx.clip_path.length!==0){var xt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Ee,this.posX+this.margin[3],-1*gt+Ie),j.call(this,"fill",!0),this.path=xt}var rt=S([JSON.parse(JSON.stringify(ae))],this.posX+this.margin[3],-gt+Ie+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*O.scale),ke=this.lineWidth,this.lineWidth=ke*O.scale);var wt=this.autoPaging!=="text";if(wt||rt.y+rt.h<=De){if(wt||rt.y>=Ie&&rt.x<=We){var He=wt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||We-rt.x)[0],wn=S([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-gt+Ie+this.ctx.prevPageLastElemOffset)[0],_t=wt&&(Pe>me||Pe<xe)&&b.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,ze,null).clip().discardPath()),this.pdf.text(He,wn.x,wn.y,{angle:O.angle,align:W,renderingMode:O.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else rt.y<De&&(this.ctx.prevPageLastElemOffset+=De-rt.y);O.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=ke)}else O.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*O.scale),ke=this.lineWidth,this.lineWidth=ke*O.scale),this.pdf.text(O.text,K.x+this.posX,K.y+this.posY,{angle:O.angle,align:W,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=ke)},V=function(O,W,C,D){C=C||0,D=D||0,this.pdf.internal.out(n(O+C)+" "+r(W+D)+" l")},_=function(O,W,C){return this.pdf.lines(O,W,C,null,null)},F=function(O,W,C,D,G,K,te,ce){this.pdf.internal.out([t(o(C+O)),t(i(D+W)),t(o(G+O)),t(i(K+W)),t(o(te+O)),t(i(ce+W)),"c"].join(" "))},k=function(O,W,C,D){for(var G=2*Math.PI,K=Math.PI/2;W>C;)W-=G;var te=Math.abs(C-W);te<G&&D&&(te=G-te);for(var ce=[],Ee=D?-1:1,we=W;te>1e-5;){var ke=we+Ee*Math.min(te,K);ce.push(Q.call(this,O,we,ke)),te-=Math.abs(ke-we),we=ke}return ce},Q=function(O,W,C){var D=(C-W)/2,G=O*Math.cos(D),K=O*Math.sin(D),te=G,ce=-K,Ee=te*te+ce*ce,we=Ee+te*G+ce*K,ke=4/3*(Math.sqrt(2*Ee*we)-we)/(te*K-ce*G),_e=te-ke*ce,ae=ce+ke*te,B=_e,R=-ae,oe=D+W,me=Math.cos(oe),xe=Math.sin(oe);return{x1:O*Math.cos(W),y1:O*Math.sin(W),x2:_e*me-ae*xe,y2:_e*xe+ae*me,x3:B*me-R*xe,y3:B*xe+R*me,x4:O*Math.cos(C),y4:O*Math.sin(C)}},U=function(O){return 180*O/Math.PI},ne=function(O,W,C,D,G,K){var te=O+.5*(C-O),ce=W+.5*(D-W),Ee=G+.5*(C-G),we=K+.5*(D-K),ke=Math.min(O,G,te,Ee),_e=Math.max(O,G,te,Ee),ae=Math.min(W,K,ce,we),B=Math.max(W,K,ce,we);return new s(ke,ae,_e-ke,B-ae)},ee=function(O,W,C,D,G,K,te,ce){var Ee,we,ke,_e,ae,B,R,oe,me,xe,Pe,Ie,Ce,De,ze=C-O,We=D-W,it=G-C,gt=K-D,xt=te-G,rt=ce-K;for(we=0;we<41;we++)me=(R=(ke=O+(Ee=we/40)*ze)+Ee*((ae=C+Ee*it)-ke))+Ee*(ae+Ee*(G+Ee*xt-ae)-R),xe=(oe=(_e=W+Ee*We)+Ee*((B=D+Ee*gt)-_e))+Ee*(B+Ee*(K+Ee*rt-B)-oe),we==0?(Pe=me,Ie=xe,Ce=me,De=xe):(Pe=Math.min(Pe,me),Ie=Math.min(Ie,xe),Ce=Math.max(Ce,me),De=Math.max(De,xe));return new s(Math.round(Pe),Math.round(Ie),Math.round(Ce-Pe),Math.round(De-Ie))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,W,C=(O=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:W}));this.prevLineDash!==C&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=C)}}})(st.API),function(e){var t=function(i){var a,s,u,l,c,f,p,h,g,b;for(s=[],u=0,l=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;l>u;u+=4)(c=(i.charCodeAt(u)<<24)+(i.charCodeAt(u+1)<<16)+(i.charCodeAt(u+2)<<8)+i.charCodeAt(u+3))!==0?(f=(c=((c=((c=((c=(c-(b=c%85))/85)-(g=c%85))/85)-(h=c%85))/85)-(p=c%85))/85)%85,s.push(f+33,p+33,h+33,g+33,b+33)):s.push(122);return function(w,y){for(var S=y;S>0;S--)w.pop()}(s,a.length),String.fromCharCode.apply(String,s)+"~>"},n=function(i){var a,s,u,l,c,f=String,p="length",h=255,g="charCodeAt",b="slice",w="replace";for(i[b](-2),i=i[b](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],l=0,c=(i+=a="uuuuu"[b](i[p]%5||5))[p];c>l;l+=5)s=52200625*(i[g](l)-33)+614125*(i[g](l+1)-33)+7225*(i[g](l+2)-33)+85*(i[g](l+3)-33)+(i[g](l+4)-33),u.push(h&s>>24,h&s>>16,h&s>>8,h&s);return function(y,S){for(var A=S;A>0;A--)y.pop()}(u,a[p]),f.fromCharCode.apply(f,u)},r=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var s="",u=0;u<i.length;u+=2)s+=String.fromCharCode("0x"+(i[u]+i[u+1]));return s},o=function(i){for(var a=new Uint8Array(i.length),s=i.length;s--;)a[s]=i.charCodeAt(s);return i=(a=$0(a)).reduce(function(u,l){return u+String.fromCharCode(l)},"")};e.processDataByFilters=function(i,a){var s=0,u=i||"",l=[];for(typeof(a=a||[])=="string"&&(a=[a]),s=0;s<a.length;s+=1)switch(a[s]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=o(u),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[s]+'" is not implemented')}return{data:u,reverseChain:l.reverse().join(" ")}}}(st.API),function(e){e.loadFile=function(t,n,r){return function(o,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var s=void 0;try{s=function(u,l,c){var f=new XMLHttpRequest,p=0,h=function(g){var b=g.length,w=[],y=String.fromCharCode;for(p=0;p<b;p+=1)w.push(y(255&g.charCodeAt(p)));return w.join("")};if(f.open("GET",u,!l),f.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(f.onload=function(){f.status===200?c(h(this.responseText)):c(void 0)}),f.send(null),l&&f.status===200)return h(f.responseText)}(o,i,a)}catch{}return s}(t,n,r)},e.loadImageFile=e.loadFile}(st.API),function(e){function t(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):Zt(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):Zt(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var s=Dt(a);return s==="undefined"?"undefined":s==="string"||a instanceof String?"string":s==="number"||a instanceof Number?"number":s==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":s==="object"?"object":"unknown"},o=function(a,s){var u=document.createElement(a);for(var l in s.className&&(u.className=s.className),s.innerHTML&&s.dompurify&&(u.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)u.style[l]=s.style[l];return u},i=function a(s){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),l=a.convert(Promise.resolve(),u);return l=(l=l.setProgress(1,a,1,[a])).set(s)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,s){return a.__proto__=s||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,s){return this.then(function(){switch(s=s||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(u){return this.set({src:o("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function u(l,c){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(u(p,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(s){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,s(this.prop.container,u)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(s){var u=this.opt.jsPDF,l=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=l,l)for(var p=0;p<l.length;++p){var h=l[p],g=h.src.find(function(b){return b.format==="truetype"});g&&u.addFont(g.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,u.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,s,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,s):this.outputPdf(a,s)},i.prototype.outputPdf=function(a,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,s)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(r(a)!=="object")return this;var s=Object.keys(a||{}).map(function(u){if(u in i.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(s)})},i.prototype.get=function(a,s){return this.then(function(){var u=a in i.template.prop?this.prop[a]:this.opt[a];return s?s(u):u})},i.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function s(u,l){return Math.floor(u*l/72*96)}return this.then(function(){(a=a||st.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:s(a.inner.width,a.k),height:s(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,s,u,l){return a!=null&&(this.progress.val=a),s!=null&&(this.progress.state=s),u!=null&&(this.progress.n=u),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,s,u,l){return this.setProgress(a?this.progress.val+a:null,s||null,u?this.progress.n+u:null,l?this.progress.stack.concat(l):null)},i.prototype.then=function(a,s){var u=this;return this.thenCore(a,s,function(l,c){return u.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(f){return u.updateProgress(null,l),f}).then(l,c).then(function(f){return u.updateProgress(1),f})})},i.prototype.thenCore=function(a,s,u){u=u||Promise.prototype.then,a&&(a=a.bind(this)),s&&(s=s.bind(this));var l=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),c=u.call(l,a,s);return i.convert(c,this.__proto__)},i.prototype.thenExternal=function(a,s){return Promise.prototype.then.call(this,a,s)},i.prototype.thenList=function(a){var s=this;return a.forEach(function(u){s=s.thenCore(u)}),s},i.prototype.catch=function(a){a&&(a=a.bind(this));var s=Promise.prototype.catch.call(this,a);return i.convert(s,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,st.getPageSize=function(a,s,u){if(Dt(a)==="object"){var l=a;a=l.orientation,s=l.unit||s,u=l.format||u}s=s||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var c,f=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+s}var h,g=0,b=0;if(p.hasOwnProperty(f))g=p[f][1]/c,b=p[f][0]/c;else try{g=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",b>g&&(h=b,b=g,g=h);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",g>b&&(h=b,b=g,g=h)}return{width:b,height:g,unit:s,k:c,orientation:a}},e.html=function(a,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(H0):null;var u=new i(s);return s.worker?u:u.from(a).doCallback()}}(st.API),st.API.addJS=function(e){return f4=e,this.internal.events.subscribe("postPutResources",function(){Kl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Kl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),d4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+f4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Kl!==void 0&&d4!==void 0&&this.internal.out("/Names <</JavaScript "+Kl+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=n.outline.render().split(/\r\n/),i=0;i<o.length;i++){var a=o[i],s=r.exec(a);if(s!=null){var u=s[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var f=n.internal.newObject();c.push(f);var p=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<c.length;i++)n.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,o,i){var a={title:o,options:i,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var o=0;o<r.children.length;o++)this.genIds_r(r.children[o])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var a=r.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var s=this.count=this.count_r({count:0},a);if(s>0&&this.line("/Count "+s),a.options&&a.options.pageNumber){var u=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var l=0;l<r.children.length;l++)this.renderItems(r.children[l])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,o){for(var i=0;i<o.children.length;i++)r.count++,this.count_r(r,o.children[i]);return r.count}}])}(st.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,o,i,a,s){var u,l=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,b={width:0,height:0,numcomponents:1},w=4;w<g;w+=2){if(w+=h,t.indexOf(f.charCodeAt(w+1))!==-1){p=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),b={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:p,numcomponents:f.charCodeAt(w+9)};break}h=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:n,width:u.width,height:u.height,colorSpace:s,bitsPerComponent:8,filter:l,index:r,alias:o}}return c}}(st.API);var Wa,Zl,h4,p4,v4,y$=function(){var e,t,n;function r(i){var a,s,u,l,c,f,p,h,g,b,w,y,S,A;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(a=this.readUInt32(),g=(function(){var L,j;for(j=[],L=0;L<4;++L)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),l=this.readUInt16()||100,f.delay=1e3*c/l,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,a-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=a?y<a:y>a;0<=a?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((b=u-this.transparency.indexed.length)>0)for(S=0;0<=b?S<b:S>b;0<=b?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":p=(w=this.read(a)).indexOf(0),h=String.fromCharCode.apply(String,w.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,w.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var a,s;for(s=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*a),u=0,l=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function c(f,p,h,g){var b,w,y,S,A,L,j,Z,M,I,X,H,P,N,V,_,F,k,Q,U,ne,ee=Math.ceil((l.width-f)/h),pe=Math.ceil((l.height-p)/g),O=l.width==ee&&l.height==pe;for(N=a*ee,H=O?s:new Uint8Array(N*pe),L=i.length,P=0,w=0;P<pe&&u<L;){switch(i[u++]){case 0:for(S=F=0;F<N;S=F+=1)H[w++]=i[u++];break;case 1:for(S=k=0;k<N;S=k+=1)b=i[u++],A=S<a?0:H[w-a],H[w++]=(b+A)%256;break;case 2:for(S=Q=0;Q<N;S=Q+=1)b=i[u++],y=(S-S%a)/a,V=P&&H[(P-1)*N+y*a+S%a],H[w++]=(V+b)%256;break;case 3:for(S=U=0;U<N;S=U+=1)b=i[u++],y=(S-S%a)/a,A=S<a?0:H[w-a],V=P&&H[(P-1)*N+y*a+S%a],H[w++]=(b+Math.floor((A+V)/2))%256;break;case 4:for(S=ne=0;ne<N;S=ne+=1)b=i[u++],y=(S-S%a)/a,A=S<a?0:H[w-a],P===0?V=_=0:(V=H[(P-1)*N+y*a+S%a],_=y&&H[(P-1)*N+(y-1)*a+S%a]),j=A+V-_,Z=Math.abs(j-A),I=Math.abs(j-V),X=Math.abs(j-_),M=Z<=I&&Z<=X?A:I<=X?V:_,H[w++]=(b+M)%256;break;default:throw new Error("Invalid filter algorithm: "+i[u-1])}if(!O){var W=((p+P*g)*l.width+f)*a,C=P*N;for(S=0;S<ee;S+=1){for(var D=0;D<a;D+=1)s[W++]=H[C++];W+=(h-1)*a}}P++}}return i=Kj(i),l.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),s},r.prototype.decodePalette=function(){var i,a,s,u,l,c,f,p,h;for(s=this.palette,c=this.transparency.indexed||[],l=new Uint8Array((c.length||0)+s.length),u=0,i=0,a=f=0,p=s.length;f<p;a=f+=3)l[u++]=s[a],l[u++]=s[a+1],l[u++]=s[a+2],l[u++]=(h=c[i++])!=null?h:255;return l},r.prototype.copyToImageData=function(i,a){var s,u,l,c,f,p,h,g,b,w,y;if(u=this.colors,b=null,s=this.hasAlphaChannel,this.palette.length&&(b=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),u=4,s=!0),g=(l=i.data||i).length,f=b||a,c=p=0,u===1)for(;c<g;)h=b?4*a[c/4]:p,w=f[h++],l[c++]=w,l[c++]=w,l[c++]=w,l[c++]=s?f[h++]:255,p=h;else for(;c<g;)h=b?4*a[c/4]:p,l[c++]=f[h++],l[c++]=f[h++],l[c++]=f[h++],l[c++]=s?f[h++]:255,p=h},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var o=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{t=lt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return o(),e=function(i){var a;if(o()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var a,s,u,l,c,f,p,h;if(this.animation){for(h=[],s=c=0,f=(p=this.animation.frames).length;c<f;s=++c)a=p[s],u=i.createImageData(a.width,a.height),l=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(u,l),a.imageData=u,h.push(a.image=e(u));return h}},r.prototype.renderFrame=function(i,a){var s,u,l;return s=(u=this.animation.frames)[a],l=u[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(l!=null?l.disposeOp:void 0)===1?i.clearRect(l.xOffset,l.yOffset,l.width,l.height):(l!=null?l.disposeOp:void 0)===2&&i.putImageData(l.imageData,l.xOffset,l.yOffset),s.blendOp===0&&i.clearRect(s.xOffset,s.yOffset,s.width,s.height),i.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(i){var a,s,u,l,c,f,p=this;return s=0,f=this.animation,l=f.numFrames,u=f.frames,c=f.numPlays,(a=function(){var h,g;if(h=s++%l,g=u[h],p.renderFrame(i,h),l>1&&s/l<c)return p.animation._timeout=setTimeout(a,g.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var a,s;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(s=a.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),a.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function b$(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,o=e[t++],i=o>>7,a=1<<(7&o)+1;e[t++],e[t++];var s=null,u=null;i&&(s=t,u=a,t+=3*a);var l=!0,c=[],f=0,p=null,h=0,g=null;for(this.width=n,this.height=r;l&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],(1&b)==0&&(p=null),h=b>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,L=e[t++],j=L>>6&1,Z=1<<(7&L)+1,M=s,I=u,X=!1;L>>7&&(X=!0,M=t,I=Z,t+=3*Z);var H=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}c.push({x:w,y,width:S,height:A,has_local_palette:X,palette_offset:M,palette_size:I,data_offset:H,data_length:t-H,transparent_index:p,interlaced:!!j,delay:f,disposal:h});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return g},this.frameInfo=function(N){if(N<0||N>=c.length)throw new Error("Frame index out of range.");return c[N]},this.decodeAndBlitFrameBGRA=function(N,V){var _=this.frameInfo(N),F=_.width*_.height,k=new Uint8Array(F);g4(e,_.data_offset,k,F);var Q=_.palette_offset,U=_.transparent_index;U===null&&(U=256);var ne=_.width,ee=n-ne,pe=ne,O=4*(_.y*n+_.x),W=4*((_.y+_.height)*n+_.x),C=O,D=4*ee;_.interlaced===!0&&(D+=4*n*7);for(var G=8,K=0,te=k.length;K<te;++K){var ce=k[K];if(pe===0&&(pe=ne,(C+=D)>=W&&(D=4*ee+4*n*(G-1),C=O+(ne+ee)*(G<<1),G>>=1)),ce===U)C+=4;else{var Ee=e[Q+3*ce],we=e[Q+3*ce+1],ke=e[Q+3*ce+2];V[C++]=ke,V[C++]=we,V[C++]=Ee,V[C++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(N,V){var _=this.frameInfo(N),F=_.width*_.height,k=new Uint8Array(F);g4(e,_.data_offset,k,F);var Q=_.palette_offset,U=_.transparent_index;U===null&&(U=256);var ne=_.width,ee=n-ne,pe=ne,O=4*(_.y*n+_.x),W=4*((_.y+_.height)*n+_.x),C=O,D=4*ee;_.interlaced===!0&&(D+=4*n*7);for(var G=8,K=0,te=k.length;K<te;++K){var ce=k[K];if(pe===0&&(pe=ne,(C+=D)>=W&&(D=4*ee+4*n*(G-1),C=O+(ne+ee)*(G<<1),G>>=1)),ce===U)C+=4;else{var Ee=e[Q+3*ce],we=e[Q+3*ce+1],ke=e[Q+3*ce+2];V[C++]=Ee,V[C++]=we,V[C++]=ke,V[C++]=255}--pe}}}function g4(e,t,n,r){for(var o=e[t++],i=1<<o,a=i+1,s=a+1,u=o+1,l=(1<<u)-1,c=0,f=0,p=0,h=e[t++],g=new Int32Array(4096),b=null;;){for(;c<16&&h!==0;)f|=e[t++]<<c,c+=8,h===1?h=e[t++]:--h;if(c<u)break;var w=f&l;if(f>>=u,c-=u,w!==i){if(w===a)break;for(var y=w<s?w:b,S=0,A=y;A>i;)A=g[A]>>8,++S;var L=A;if(p+S+(y!==w?1:0)>r)return void Bt.log("Warning, gif stream longer than expected.");n[p++]=L;var j=p+=S;for(y!==w&&(n[p++]=L),A=y;S--;)A=g[A],n[--j]=255&A,A>>=8;b!==null&&s<4096&&(g[s++]=b<<8|L,s>=l+1&&u<12&&(++u,l=l<<1|1)),b=w}else s=a+1,l=(1<<(u=o+1))-1,b=null}return p!==r&&Bt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function l0(e){var t,n,r,o,i,a=Math.floor,s=new Array(64),u=new Array(64),l=new Array(64),c=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),g=new Array(64),b=[],w=0,y=7,S=new Array(64),A=new Array(64),L=new Array(64),j=new Array(256),Z=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],F=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function k(O,W){for(var C=0,D=0,G=new Array,K=1;K<=16;K++){for(var te=1;te<=O[K];te++)G[W[D]]=[],G[W[D]][0]=C,G[W[D]][1]=K,D++,C++;C*=2}return G}function Q(O){for(var W=O[0],C=O[1]-1;C>=0;)W&1<<C&&(w|=1<<y),C--,--y<0&&(w==255?(U(255),U(0)):U(w),y=7,w=0)}function U(O){b.push(O)}function ne(O){U(O>>8&255),U(255&O)}function ee(O,W,C,D,G){for(var K,te=G[0],ce=G[240],Ee=function(xe,Pe){var Ie,Ce,De,ze,We,it,gt,xt,rt,wt,He=0;for(rt=0;rt<8;++rt){Ie=xe[He],Ce=xe[He+1],De=xe[He+2],ze=xe[He+3],We=xe[He+4],it=xe[He+5],gt=xe[He+6];var wn=Ie+(xt=xe[He+7]),_t=Ie-xt,xn=Ce+gt,jt=Ce-gt,Kt=De+it,Jr=De-it,Ct=ze+We,Pi=ze-We,en=wn+Ct,Er=wn-Ct,xo=xn+Kt,tn=xn-Kt;xe[He]=en+xo,xe[He+4]=en-xo;var ft=.707106781*(tn+Er);xe[He+2]=Er+ft,xe[He+6]=Er-ft;var Ot=.382683433*((en=Pi+Jr)-(tn=jt+_t)),Ii=.5411961*en+Ot,On=1.306562965*tn+Ot,Qr=.707106781*(xo=Jr+jt),eo=_t+Qr,at=_t-Qr;xe[He+5]=at+Ii,xe[He+3]=at-Ii,xe[He+1]=eo+On,xe[He+7]=eo-On,He+=8}for(He=0,rt=0;rt<8;++rt){Ie=xe[He],Ce=xe[He+8],De=xe[He+16],ze=xe[He+24],We=xe[He+32],it=xe[He+40],gt=xe[He+48];var Pr=Ie+(xt=xe[He+56]),to=Ie-xt,Wn=Ce+gt,Sn=Ce-gt,pn=De+it,or=De-it,ca=ze+We,So=ze-We,Ir=Pr+ca,Lr=Pr-ca,Cr=Wn+pn,no=Wn-pn;xe[He]=Ir+Cr,xe[He+32]=Ir-Cr;var vr=.707106781*(no+Lr);xe[He+16]=Lr+vr,xe[He+48]=Lr-vr;var ro=.382683433*((Ir=So+or)-(no=Sn+to)),Li=.5411961*Ir+ro,da=1.306562965*no+ro,fa=.707106781*(Cr=or+Sn),ha=to+fa,pa=to-fa;xe[He+40]=pa+Li,xe[He+24]=pa-Li,xe[He+8]=ha+da,xe[He+56]=ha-da,He++}for(rt=0;rt<64;++rt)wt=xe[rt]*Pe[rt],h[rt]=wt>0?wt+.5|0:wt-.5|0;return h}(O,W),we=0;we<64;++we)g[M[we]]=Ee[we];var ke=g[0]-C;C=g[0],ke==0?Q(D[0]):(Q(D[p[K=32767+ke]]),Q(f[K]));for(var _e=63;_e>0&&g[_e]==0;)_e--;if(_e==0)return Q(te),C;for(var ae,B=1;B<=_e;){for(var R=B;g[B]==0&&B<=_e;)++B;var oe=B-R;if(oe>=16){ae=oe>>4;for(var me=1;me<=ae;++me)Q(ce);oe&=15}K=32767+g[B],Q(G[(oe<<4)+p[K]]),Q(f[K]),B++}return _e!=63&&Q(te),C}function pe(O){O=Math.min(Math.max(O,1),100),i!=O&&(function(W){for(var C=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],D=0;D<64;D++){var G=a((C[D]*W+50)/100);G=Math.min(Math.max(G,1),255),s[M[D]]=G}for(var K=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],te=0;te<64;te++){var ce=a((K[te]*W+50)/100);ce=Math.min(Math.max(ce,1),255),u[M[te]]=ce}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,ke=0;ke<8;ke++)for(var _e=0;_e<8;_e++)l[we]=1/(s[M[we]]*Ee[ke]*Ee[_e]*8),c[we]=1/(u[M[we]]*Ee[ke]*Ee[_e]*8),we++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),i=O)}this.encode=function(O,W){W&&pe(W),b=new Array,w=0,y=7,ne(65496),ne(65504),ne(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),ne(1),ne(1),U(0),U(0),function(){ne(65499),ne(132),U(0);for(var Ce=0;Ce<64;Ce++)U(s[Ce]);U(1);for(var De=0;De<64;De++)U(u[De])}(),function(Ce,De){ne(65472),ne(17),U(8),ne(De),ne(Ce),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}(O.width,O.height),function(){ne(65476),ne(418),U(0);for(var Ce=0;Ce<16;Ce++)U(I[Ce+1]);for(var De=0;De<=11;De++)U(X[De]);U(16);for(var ze=0;ze<16;ze++)U(H[ze+1]);for(var We=0;We<=161;We++)U(P[We]);U(1);for(var it=0;it<16;it++)U(N[it+1]);for(var gt=0;gt<=11;gt++)U(V[gt]);U(17);for(var xt=0;xt<16;xt++)U(_[xt+1]);for(var rt=0;rt<=161;rt++)U(F[rt])}(),ne(65498),ne(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var C=0,D=0,G=0;w=0,y=7,this.encode.displayName="_encode_";for(var K,te,ce,Ee,we,ke,_e,ae,B,R=O.data,oe=O.width,me=O.height,xe=4*oe,Pe=0;Pe<me;){for(K=0;K<xe;){for(we=xe*Pe+K,_e=-1,ae=0,B=0;B<64;B++)ke=we+(ae=B>>3)*xe+(_e=4*(7&B)),Pe+ae>=me&&(ke-=xe*(Pe+1+ae-me)),K+_e>=xe&&(ke-=K+_e-xe+4),te=R[ke++],ce=R[ke++],Ee=R[ke++],S[B]=(Z[te]+Z[ce+256>>0]+Z[Ee+512>>0]>>16)-128,A[B]=(Z[te+768>>0]+Z[ce+1024>>0]+Z[Ee+1280>>0]>>16)-128,L[B]=(Z[te+1280>>0]+Z[ce+1536>>0]+Z[Ee+1792>>0]>>16)-128;C=ee(S,l,C,t,r),D=ee(A,c,D,n,o),G=ee(L,c,G,n,o),K+=32}Pe+=8}if(y>=0){var Ie=[];Ie[1]=y+1,Ie[0]=(1<<y+1)-1,Q(Ie)}return ne(65497),new Uint8Array(b)},e=e||50,function(){for(var O=String.fromCharCode,W=0;W<256;W++)j[W]=O(W)}(),t=k(I,X),n=k(N,V),r=k(H,P),o=k(_,F),function(){for(var O=1,W=2,C=1;C<=15;C++){for(var D=O;D<W;D++)p[32767+D]=C,f[32767+D]=[],f[32767+D][1]=C,f[32767+D][0]=D;for(var G=-(W-1);G<=-O;G++)p[32767+G]=C,f[32767+G]=[],f[32767+G][1]=C,f[32767+G][0]=W-1+G;O<<=1,W<<=1}}(),function(){for(var O=0;O<256;O++)Z[O]=19595*O,Z[O+256>>0]=38470*O,Z[O+512>>0]=7471*O+32768,Z[O+768>>0]=-11059*O,Z[O+1024>>0]=-21709*O,Z[O+1280>>0]=32768*O+8421375,Z[O+1536>>0]=-27439*O,Z[O+1792>>0]=-5329*O}(),pe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function $r(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function m4(e){function t(I){if(!I)throw Error("assert :P")}function n(I,X,H){for(var P=0;4>P;P++)if(I[X+P]!=H.charCodeAt(P))return!0;return!1}function r(I,X,H,P,N){for(var V=0;V<N;V++)I[X+V]=H[P+V]}function o(I,X,H,P){for(var N=0;N<P;N++)I[X+N]=H}function i(I){return new Int32Array(I)}function a(I,X){for(var H=[],P=0;P<I;P++)H.push(new X);return H}function s(I,X){var H=[];return function P(N,V,_){for(var F=_[V],k=0;k<F&&(N.push(_.length>V+1?[]:new X),!(_.length<V+1));k++)P(N[k],V+1,_)}(H,0,I),H}var u=function(){var I=this;function X(d,v){for(var x=1<<v-1>>>0;d&x;)x>>>=1;return x?(d&x-1)+x:d}function H(d,v,x,E,q){t(!(E%x));do d[v+(E-=x)]=q;while(0<E)}function P(d,v,x,E,q){if(t(2328>=q),512>=q)var $=i(512);else if(($=i(q))==null)return 0;return function(z,Y,J,re,fe,Se){var Ae,ge,Me=Y,Le=1<<J,he=i(16),ve=i(16);for(t(fe!=0),t(re!=null),t(z!=null),t(0<J),ge=0;ge<fe;++ge){if(15<re[ge])return 0;++he[re[ge]]}if(he[0]==fe)return 0;for(ve[1]=0,Ae=1;15>Ae;++Ae){if(he[Ae]>1<<Ae)return 0;ve[Ae+1]=ve[Ae]+he[Ae]}for(ge=0;ge<fe;++ge)Ae=re[ge],0<re[ge]&&(Se[ve[Ae]++]=ge);if(ve[15]==1)return(re=new N).g=0,re.value=Se[0],H(z,Me,1,Le,re),Le;var qe,Fe=-1,Te=Le-1,Ke=0,Ge=1,ot=1,Ve=1<<J;for(ge=0,Ae=1,fe=2;Ae<=J;++Ae,fe<<=1){if(Ge+=ot<<=1,0>(ot-=he[Ae]))return 0;for(;0<he[Ae];--he[Ae])(re=new N).g=Ae,re.value=Se[ge++],H(z,Me+Ke,fe,Ve,re),Ke=X(Ke,Ae)}for(Ae=J+1,fe=2;15>=Ae;++Ae,fe<<=1){if(Ge+=ot<<=1,0>(ot-=he[Ae]))return 0;for(;0<he[Ae];--he[Ae]){if(re=new N,(Ke&Te)!=Fe){for(Me+=Ve,qe=1<<(Fe=Ae)-J;15>Fe&&!(0>=(qe-=he[Fe]));)++Fe,qe<<=1;Le+=Ve=1<<(qe=Fe-J),z[Y+(Fe=Ke&Te)].g=qe+J,z[Y+Fe].value=Me-Y-Fe}re.g=Ae-J,re.value=Se[ge++],H(z,Me+(Ke>>J),fe,Ve,re),Ke=X(Ke,Ae)}}return Ge!=2*ve[15]-1?0:Le}(d,v,x,E,q,$)}function N(){this.value=this.g=0}function V(){this.value=this.g=0}function _(){this.G=a(5,N),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(kn,V)}function F(d,v,x,E){t(d!=null),t(v!=null),t(2147483648>E),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=v,d.pa=x,d.Jd=v,d.Yc=x+E,d.Zc=4<=E?x+E-4+1:x,K(d)}function k(d,v){for(var x=0;0<v--;)x|=ce(d,128)<<v;return x}function Q(d,v){var x=k(d,v);return te(d)?-x:x}function U(d,v,x,E){var q,$=0;for(t(d!=null),t(v!=null),t(4294967288>E),d.Sb=E,d.Ra=0,d.u=0,d.h=0,4<E&&(E=4),q=0;q<E;++q)$+=v[x+q]<<8*q;d.Ra=$,d.bb=E,d.oa=v,d.pa=x}function ne(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<La-8>>>0,++d.bb,d.u-=8;C(d)&&(d.h=1,d.u=0)}function ee(d,v){if(t(0<=v),!d.h&&v<=Ia){var x=W(d)&Pa[v];return d.u+=v,ne(d),x}return d.h=1,d.u=0}function pe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(d){return d.Ra>>>(d.u&La-1)>>>0}function C(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>La}function D(d,v){d.u=v,d.h=C(d)}function G(d){d.u>=Ts&&(t(d.u>=Ts),ne(d))}function K(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function te(d){return k(d,1)}function ce(d,v){var x=d.Ca;0>d.b&&K(d);var E=d.b,q=x*v>>>8,$=(d.I>>>E>q)+0;for($?(x-=q,d.I-=q+1<<E>>>0):x=q+1,E=x,q=0;256<=E;)q+=8,E>>=8;return E=7^q+Xn[E],d.b-=E,d.Ca=(x<<E)-1,$}function Ee(d,v,x){d[v+0]=x>>24&255,d[v+1]=x>>16&255,d[v+2]=x>>8&255,d[v+3]=x>>0&255}function we(d,v){return d[v+0]<<0|d[v+1]<<8}function ke(d,v){return we(d,v)|d[v+2]<<16}function _e(d,v){return we(d,v)|we(d,v+2)<<16}function ae(d,v){var x=1<<v;return t(d!=null),t(0<v),d.X=i(x),d.X==null?0:(d.Mb=32-v,d.Xa=v,1)}function B(d,v){t(d!=null),t(v!=null),t(d.Xa==v.Xa),r(v.X,0,d.X,0,1<<v.Xa)}function R(){this.X=[],this.Xa=this.Mb=0}function oe(d,v,x,E){t(x!=null),t(E!=null);var q=x[0],$=E[0];return q==0&&(q=(d*$+v/2)/v),$==0&&($=(v*q+d/2)/d),0>=q||0>=$?0:(x[0]=q,E[0]=$,1)}function me(d,v){return d+(1<<v)-1>>>v}function xe(d,v){return((4278255360&d)+(4278255360&v)>>>0&4278255360)+((16711935&d)+(16711935&v)>>>0&16711935)>>>0}function Pe(d,v){I[v]=function(x,E,q,$,z,Y,J){var re;for(re=0;re<z;++re){var fe=I[d](Y[J+re-1],q,$+re);Y[J+re]=xe(x[E+re],fe)}}}function Ie(){this.ud=this.hd=this.jd=0}function Ce(d,v){return((4278124286&(d^v))>>>1)+(d&v)>>>0}function De(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function ze(d,v){return De(d+(d-v+.5>>1))}function We(d,v,x){return Math.abs(v-x)-Math.abs(d-x)}function it(d,v,x,E,q,$,z){for(E=$[z-1],x=0;x<q;++x)$[z+x]=E=xe(d[v+x],E)}function gt(d,v,x,E,q){var $;for($=0;$<x;++$){var z=d[v+$],Y=z>>8&255,J=16711935&(J=(J=16711935&z)+((Y<<16)+Y));E[q+$]=(4278255360&z)+J>>>0}}function xt(d,v){v.jd=d>>0&255,v.hd=d>>8&255,v.ud=d>>16&255}function rt(d,v,x,E,q,$){var z;for(z=0;z<E;++z){var Y=v[x+z],J=Y>>>8,re=Y,fe=255&(fe=(fe=Y>>>16)+((d.jd<<24>>24)*(J<<24>>24)>>>5));re=255&(re=(re=re+((d.hd<<24>>24)*(J<<24>>24)>>>5))+((d.ud<<24>>24)*(fe<<24>>24)>>>5)),q[$+z]=(4278255360&Y)+(fe<<16)+re}}function wt(d,v,x,E,q){I[v]=function($,z,Y,J,re,fe,Se,Ae,ge){for(J=Se;J<Ae;++J)for(Se=0;Se<ge;++Se)re[fe++]=q(Y[E($[z++])])},I[d]=function($,z,Y,J,re,fe,Se){var Ae=8>>$.b,ge=$.Ea,Me=$.K[0],Le=$.w;if(8>Ae)for($=(1<<$.b)-1,Le=(1<<Ae)-1;z<Y;++z){var he,ve=0;for(he=0;he<ge;++he)he&$||(ve=E(J[re++])),fe[Se++]=q(Me[ve&Le]),ve>>=Ae}else I["VP8LMapColor"+x](J,re,Me,Le,fe,Se,z,Y,ge)}}function He(d,v,x,E,q){for(x=v+x;v<x;){var $=d[v++];E[q++]=$>>16&255,E[q++]=$>>8&255,E[q++]=$>>0&255}}function wn(d,v,x,E,q){for(x=v+x;v<x;){var $=d[v++];E[q++]=$>>16&255,E[q++]=$>>8&255,E[q++]=$>>0&255,E[q++]=$>>24&255}}function _t(d,v,x,E,q){for(x=v+x;v<x;){var $=(z=d[v++])>>16&240|z>>12&15,z=z>>0&240|z>>28&15;E[q++]=$,E[q++]=z}}function xn(d,v,x,E,q){for(x=v+x;v<x;){var $=(z=d[v++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;E[q++]=$,E[q++]=z}}function jt(d,v,x,E,q){for(x=v+x;v<x;){var $=d[v++];E[q++]=$>>0&255,E[q++]=$>>8&255,E[q++]=$>>16&255}}function Kt(d,v,x,E,q,$){if($==0)for(x=v+x;v<x;)Ee(E,(($=d[v++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),q+=32;else r(E,q,d,v,x)}function Jr(d,v){I[v][0]=I[d+"0"],I[v][1]=I[d+"1"],I[v][2]=I[d+"2"],I[v][3]=I[d+"3"],I[v][4]=I[d+"4"],I[v][5]=I[d+"5"],I[v][6]=I[d+"6"],I[v][7]=I[d+"7"],I[v][8]=I[d+"8"],I[v][9]=I[d+"9"],I[v][10]=I[d+"10"],I[v][11]=I[d+"11"],I[v][12]=I[d+"12"],I[v][13]=I[d+"13"],I[v][14]=I[d+"0"],I[v][15]=I[d+"0"]}function Ct(d){return d==Hd||d==Wd||d==vl||d==Yd}function Pi(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pi,this.f.kb=new en,this.sd=null}function xo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Ot(d,v){var x=d.T,E=v.ba.f.RGBA,q=E.eb,$=E.fb+d.ka*E.A,z=wr[v.ba.S],Y=d.y,J=d.O,re=d.f,fe=d.N,Se=d.ea,Ae=d.W,ge=v.cc,Me=v.dc,Le=v.Mc,he=v.Nc,ve=d.ka,qe=d.ka+d.T,Fe=d.U,Te=Fe+1>>1;for(ve==0?z(Y,J,null,null,re,fe,Se,Ae,re,fe,Se,Ae,q,$,null,null,Fe):(z(v.ec,v.fc,Y,J,ge,Me,Le,he,re,fe,Se,Ae,q,$-E.A,q,$,Fe),++x);ve+2<qe;ve+=2)ge=re,Me=fe,Le=Se,he=Ae,fe+=d.Rc,Ae+=d.Rc,$+=2*E.A,z(Y,(J+=2*d.fa)-d.fa,Y,J,ge,Me,Le,he,re,fe,Se,Ae,q,$-E.A,q,$,Fe);return J+=d.fa,d.j+qe<d.o?(r(v.ec,v.fc,Y,J,Fe),r(v.cc,v.dc,re,fe,Te),r(v.Mc,v.Nc,Se,Ae,Te),x--):1&qe||z(Y,J,null,null,re,fe,Se,Ae,re,fe,Se,Ae,q,$+E.A,null,null,Fe),x}function Ii(d,v,x){var E=d.F,q=[d.J];if(E!=null){var $=d.U,z=v.ba.S,Y=z==pl||z==vl;v=v.ba.f.RGBA;var J=[0],re=d.ka;J[0]=d.T,d.Kb&&(re==0?--J[0]:(--re,q[0]-=d.width),d.j+d.ka+d.T==d.o&&(J[0]=d.o-d.j-re));var fe=v.eb;re=v.fb+re*v.A,d=Ut(E,q[0],d.width,$,J,fe,re+(Y?0:3),v.A),t(x==J),d&&Ct(z)&&br(fe,re,Y,$,J,v.A)}return 0}function On(d){var v=d.ma,x=v.ba.S,E=11>x,q=x==fl||x==hl||x==pl||x==Vd||x==12||Ct(x);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Rs(v.Oa,d,q?11:12))return 0;if(q&&Ct(x)&&$e(),d.da)alert("todo:use_scaling");else{if(E){if(v.Ib=ft,d.Kb){if(x=d.U+1>>1,v.memory=i(d.U+2*x),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+d.U,v.Mc=v.cc,v.Nc=v.dc+x,v.Ib=Ot,$e()}}else alert("todo:EmitYUV");q&&(v.Jb=Ii,E&&ye())}if(E&&!Xm){for(d=0;256>d;++d)QS[d]=89858*(d-128)+ml>>gl,nA[d]=-22014*(d-128)+ml,tA[d]=-45773*(d-128),eA[d]=113618*(d-128)+ml>>gl;for(d=zs;d<Zd;++d)v=76283*(d-16)+ml>>gl,rA[d-zs]=ir(v,255),oA[d-zs]=ir(v+8>>4,15);Xm=1}return 1}function Qr(d){var v=d.ma,x=d.U,E=d.T;return t(!(1&d.ka)),0>=x||0>=E?0:(x=v.Ib(d,v),v.Jb!=null&&v.Jb(d,v,x),v.Dc+=x,1)}function eo(d){d.ma.memory=null}function at(d,v,x,E){return ee(d,8)!=47?0:(v[0]=ee(d,14)+1,x[0]=ee(d,14)+1,E[0]=ee(d,1),ee(d,3)!=0?0:!d.h)}function Pr(d,v){if(4>d)return d+1;var x=d-2>>1;return(2+(1&d)<<x)+ee(v,x)+1}function to(d,v){return 120<v?v-120:1<=(x=((x=jS[v-1])>>4)*d+(8-(15&x)))?x:1;var x}function Wn(d,v,x){var E=W(x),q=d[v+=255&E].g-8;return 0<q&&(D(x,x.u+8),E=W(x),v+=d[v].value,v+=E&(1<<q)-1),D(x,x.u+d[v].g),d[v].value}function Sn(d,v,x){return x.g+=d.g,x.value+=d.value<<v>>>0,t(8>=x.g),d.g}function pn(d,v,x){var E=d.xc;return t((v=E==0?0:d.vc[d.md*(x>>E)+(v>>E)])<d.Wb),d.Ya[v]}function or(d,v,x,E){var q=d.ab,$=d.c*v,z=d.C;v=z+v;var Y=x,J=E;for(E=d.Ta,x=d.Ua;0<q--;){var re=d.gc[q],fe=z,Se=v,Ae=Y,ge=J,Me=(J=E,Y=x,re.Ea);switch(t(fe<Se),t(Se<=re.nc),re.hc){case 2:il(Ae,ge,(Se-fe)*Me,J,Y);break;case 0:var Le=fe,he=Se,ve=J,qe=Y,Fe=(Ve=re).Ea;Le==0&&(Gd(Ae,ge,null,null,1,ve,qe),it(Ae,ge+1,0,0,Fe-1,ve,qe+1),ge+=Fe,qe+=Fe,++Le);for(var Te=1<<Ve.b,Ke=Te-1,Ge=me(Fe,Ve.b),ot=Ve.K,Ve=Ve.w+(Le>>Ve.b)*Ge;Le<he;){var Pt=ot,qt=Ve,Et=1;for(Ms(Ae,ge,ve,qe-Fe,1,ve,qe);Et<Fe;){var St=(Et&~Ke)+Te;St>Fe&&(St=Fe),(0,Ko[Pt[qt++]>>8&15])(Ae,ge+ +Et,ve,qe+Et-Fe,St-Et,ve,qe+Et),Et=St}ge+=Fe,qe+=Fe,++Le&Ke||(Ve+=Ge)}Se!=re.nc&&r(J,Y-Me,J,Y+(Se-fe-1)*Me,Me);break;case 1:for(Me=Ae,he=ge,Fe=(Ae=re.Ea)-(qe=Ae&~(ve=(ge=1<<re.b)-1)),Le=me(Ae,re.b),Te=re.K,re=re.w+(fe>>re.b)*Le;fe<Se;){for(Ke=Te,Ge=re,ot=new Ie,Ve=he+qe,Pt=he+Ae;he<Ve;)xt(Ke[Ge++],ot),qi(ot,Me,he,ge,J,Y),he+=ge,Y+=ge;he<Pt&&(xt(Ke[Ge++],ot),qi(ot,Me,he,Fe,J,Y),he+=Fe,Y+=Fe),++fe&ve||(re+=Le)}break;case 3:if(Ae==J&&ge==Y&&0<re.b){for(he=J,Ae=Me=Y+(Se-fe)*Me-(qe=(Se-fe)*me(re.Ea,re.b)),ge=J,ve=Y,Le=[],qe=(Fe=qe)-1;0<=qe;--qe)Le[qe]=ge[ve+qe];for(qe=Fe-1;0<=qe;--qe)he[Ae+qe]=Le[qe];gr(re,fe,Se,J,Me,J,Y)}else gr(re,fe,Se,Ae,ge,J,Y)}Y=E,J=x}J!=x&&r(E,x,Y,J,$)}function ca(d,v){var x=d.V,E=d.Ba+d.c*d.C,q=v-d.C;if(t(v<=d.l.o),t(16>=q),0<q){var $=d.l,z=d.Ta,Y=d.Ua,J=$.width;if(or(d,q,x,E),q=Y=[Y],t((x=d.C)<(E=v)),t($.v<$.va),E>$.o&&(E=$.o),x<$.j){var re=$.j-x;x=$.j,q[0]+=re*J}if(x>=E?x=0:(q[0]+=4*$.v,$.ka=x-$.j,$.U=$.va-$.v,$.T=E-x,x=1),x){if(Y=Y[0],11>(x=d.ca).S){var fe=x.f.RGBA,Se=(E=x.S,q=$.U,$=$.T,re=fe.eb,fe.A),Ae=$;for(fe=fe.fb+d.Ma*fe.A;0<Ae--;){var ge=z,Me=Y,Le=q,he=re,ve=fe;switch(E){case dl:Kn(ge,Me,Le,he,ve);break;case fl:zn(ge,Me,Le,he,ve);break;case Hd:zn(ge,Me,Le,he,ve),br(he,ve,0,Le,1,0);break;case $m:Po(ge,Me,Le,he,ve);break;case hl:Kt(ge,Me,Le,he,ve,1);break;case Wd:Kt(ge,Me,Le,he,ve,1),br(he,ve,0,Le,1,0);break;case pl:Kt(ge,Me,Le,he,ve,0);break;case vl:Kt(ge,Me,Le,he,ve,0),br(he,ve,1,Le,1,0);break;case Vd:Zo(ge,Me,Le,he,ve);break;case Yd:Zo(ge,Me,Le,he,ve),Gt(he,ve,Le,1,0);break;case Bm:Eo(ge,Me,Le,he,ve);break;default:t(0)}Y+=J,fe+=Se}d.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=x.height)}}d.C=v,t(d.C<=d.i)}function So(d){var v;if(0<d.ua)return 0;for(v=0;v<d.Wb;++v){var x=d.Ya[v].G,E=d.Ya[v].H;if(0<x[1][E[1]+0].g||0<x[2][E[2]+0].g||0<x[3][E[3]+0].g)return 0}return 1}function Ir(d,v,x,E,q,$){if(d.Z!=0){var z=d.qd,Y=d.rd;for(t(ti[d.Z]!=null);v<x;++v)ti[d.Z](z,Y,E,q,E,q,$),z=E,Y=q,q+=$;d.qd=z,d.rd=Y}}function Lr(d,v){var x=d.l.ma,E=x.Z==0||x.Z==1?d.l.j:d.C;if(E=d.C<E?E:d.C,t(v<=d.l.o),v>E){var q=d.l.width,$=x.ca,z=x.tb+q*E,Y=d.V,J=d.Ba+d.c*E,re=d.gc;t(d.ab==1),t(re[0].hc==3),al(re[0],E,v,Y,J,$,z),Ir(x,E,v,$,z,q)}d.C=d.Ma=v}function Cr(d,v,x,E,q,$,z){var Y=d.$/E,J=d.$%E,re=d.m,fe=d.s,Se=x+d.$,Ae=Se;q=x+E*q;var ge=x+E*$,Me=280+fe.ua,Le=d.Pb?Y:16777216,he=0<fe.ua?fe.Wa:null,ve=fe.wc,qe=Se<ge?pn(fe,J,Y):null;t(d.C<$),t(ge<=q);var Fe=!1;e:for(;;){for(;Fe||Se<ge;){var Te=0;if(Y>=Le){var Ke=Se-x;t((Le=d).Pb),Le.wd=Le.m,Le.xd=Ke,0<Le.s.ua&&B(Le.s.Wa,Le.s.vb),Le=Y+BS}if(J&ve||(qe=pn(fe,J,Y)),t(qe!=null),qe.Qb&&(v[Se]=qe.qb,Fe=!0),!Fe)if(G(re),qe.jc){Te=re,Ke=v;var Ge=Se,ot=qe.pd[W(Te)&kn-1];t(qe.jc),256>ot.g?(D(Te,Te.u+ot.g),Ke[Ge]=ot.value,Te=0):(D(Te,Te.u+ot.g-256),t(256<=ot.value),Te=ot.value),Te==0&&(Fe=!0)}else Te=Wn(qe.G[0],qe.H[0],re);if(re.h)break;if(Fe||256>Te){if(!Fe)if(qe.nd)v[Se]=(qe.qb|Te<<8)>>>0;else{if(G(re),Fe=Wn(qe.G[1],qe.H[1],re),G(re),Ke=Wn(qe.G[2],qe.H[2],re),Ge=Wn(qe.G[3],qe.H[3],re),re.h)break;v[Se]=(Ge<<24|Fe<<16|Te<<8|Ke)>>>0}if(Fe=!1,++Se,++J>=E&&(J=0,++Y,z!=null&&Y<=$&&!(Y%16)&&z(d,Y),he!=null))for(;Ae<Se;)Te=v[Ae++],he.X[(506832829*Te&4294967295)>>>he.Mb]=Te}else if(280>Te){if(Te=Pr(Te-256,re),Ke=Wn(qe.G[4],qe.H[4],re),G(re),Ke=to(E,Ke=Pr(Ke,re)),re.h)break;if(Se-x<Ke||q-Se<Te)break e;for(Ge=0;Ge<Te;++Ge)v[Se+Ge]=v[Se+Ge-Ke];for(Se+=Te,J+=Te;J>=E;)J-=E,++Y,z!=null&&Y<=$&&!(Y%16)&&z(d,Y);if(t(Se<=q),J&ve&&(qe=pn(fe,J,Y)),he!=null)for(;Ae<Se;)Te=v[Ae++],he.X[(506832829*Te&4294967295)>>>he.Mb]=Te}else{if(!(Te<Me))break e;for(Fe=Te-280,t(he!=null);Ae<Se;)Te=v[Ae++],he.X[(506832829*Te&4294967295)>>>he.Mb]=Te;Te=Se,t(!(Fe>>>(Ke=he).Xa)),v[Te]=Ke.X[Fe],Fe=!0}Fe||t(re.h==C(re))}if(d.Pb&&re.h&&Se<q)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&B(d.s.vb,d.s.Wa);else{if(re.h)break e;z!=null&&z(d,Y>$?$:Y),d.a=0,d.$=Se-x}return 1}return d.a=3,0}function no(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var v=d.Wa;v!=null&&(v.X=null),d.vb=null,t(d!=null)}function vr(){var d=new zd;return d==null?null:(d.a=0,d.xb=Um,Jr("Predictor","VP8LPredictors"),Jr("Predictor","VP8LPredictors_C"),Jr("PredictorAdd","VP8LPredictorsAdd"),Jr("PredictorAdd","VP8LPredictorsAdd_C"),il=gt,qi=rt,Kn=He,zn=wn,Zo=_t,Eo=xn,Po=jt,I.VP8LMapColor32b=Ca,I.VP8LMapColor8b=sl,d)}function ro(d,v,x,E,q){var $=1,z=[d],Y=[v],J=E.m,re=E.s,fe=null,Se=0;e:for(;;){if(x)for(;$&&ee(J,1);){var Ae=z,ge=Y,Me=E,Le=1,he=Me.m,ve=Me.gc[Me.ab],qe=ee(he,2);if(Me.Oc&1<<qe)$=0;else{switch(Me.Oc|=1<<qe,ve.hc=qe,ve.Ea=Ae[0],ve.nc=ge[0],ve.K=[null],++Me.ab,t(4>=Me.ab),qe){case 0:case 1:ve.b=ee(he,3)+2,Le=ro(me(ve.Ea,ve.b),me(ve.nc,ve.b),0,Me,ve.K),ve.K=ve.K[0];break;case 3:var Fe,Te=ee(he,8)+1,Ke=16<Te?0:4<Te?1:2<Te?2:3;if(Ae[0]=me(ve.Ea,Ke),ve.b=Ke,Fe=Le=ro(Te,1,0,Me,ve.K)){var Ge,ot=Te,Ve=ve,Pt=1<<(8>>Ve.b),qt=i(Pt);if(qt==null)Fe=0;else{var Et=Ve.K[0],St=Ve.w;for(qt[0]=Ve.K[0][0],Ge=1;Ge<1*ot;++Ge)qt[Ge]=xe(Et[St+Ge],qt[Ge-1]);for(;Ge<4*Pt;++Ge)qt[Ge]=0;Ve.K[0]=null,Ve.K[0]=qt,Fe=1}}Le=Fe;break;case 2:break;default:t(0)}$=Le}}if(z=z[0],Y=Y[0],$&&ee(J,1)&&!($=1<=(Se=ee(J,4))&&11>=Se)){E.a=3;break e}var $t;if($t=$)t:{var Ft,mt,gn,Zn=E,mn=z,Jn=Y,Tt=Se,sr=x,ur=Zn.m,Pn=Zn.s,Rn=[null],Un=1,xr=0,so=$S[Tt];n:for(;;){if(sr&&ee(ur,1)){var In=ee(ur,3)+2,Oo=me(mn,In),ji=me(Jn,In),Ta=Oo*ji;if(!ro(Oo,ji,0,Zn,Rn))break n;for(Rn=Rn[0],Pn.xc=In,Ft=0;Ft<Ta;++Ft){var ni=Rn[Ft]>>8&65535;Rn[Ft]=ni,ni>=Un&&(Un=ni+1)}}if(ur.h)break n;for(mt=0;5>mt;++mt){var rn=zm[mt];!mt&&0<Tt&&(rn+=1<<Tt),xr<rn&&(xr=rn)}var Jd=a(Un*so,N),Jm=Un,Qm=a(Jm,_);if(Qm==null)var bl=null;else t(65536>=Jm),bl=Qm;var Gs=i(xr);if(bl==null||Gs==null||Jd==null){Zn.a=1;break n}var _l=Jd;for(Ft=gn=0;Ft<Un;++Ft){var Tr=bl[Ft],Ma=Tr.G,Da=Tr.H,e2=0,wl=1,t2=0;for(mt=0;5>mt;++mt){rn=zm[mt],Ma[mt]=_l,Da[mt]=gn,!mt&&0<Tt&&(rn+=1<<Tt);o:{var xl,Qd=rn,Sl=Zn,Us=Gs,sA=_l,uA=gn,ef=0,ri=Sl.m,lA=ee(ri,1);if(o(Us,0,0,Qd),lA){var cA=ee(ri,1)+1,dA=ee(ri,1),n2=ee(ri,dA==0?1:8);Us[n2]=1,cA==2&&(Us[n2=ee(ri,8)]=1);var Al=1}else{var r2=i(19),o2=ee(ri,4)+4;if(19<o2){Sl.a=3;var Nl=0;break o}for(xl=0;xl<o2;++xl)r2[FS[xl]]=ee(ri,3);var tf=void 0,Vs=void 0,i2=Sl,fA=r2,El=Qd,a2=Us,nf=0,oi=i2.m,s2=8,u2=a(128,N);r:for(;P(u2,0,7,fA,19);){if(ee(oi,1)){var hA=2+2*ee(oi,3);if((tf=2+ee(oi,hA))>El)break r}else tf=El;for(Vs=0;Vs<El&&tf--;){G(oi);var l2=u2[0+(127&W(oi))];D(oi,oi.u+l2.g);var Fa=l2.value;if(16>Fa)a2[Vs++]=Fa,Fa!=0&&(s2=Fa);else{var pA=Fa==16,c2=Fa-16,vA=MS[c2],d2=ee(oi,TS[c2])+vA;if(Vs+d2>El)break r;for(var gA=pA?s2:0;0<d2--;)a2[Vs++]=gA}}nf=1;break r}nf||(i2.a=3),Al=nf}(Al=Al&&!ri.h)&&(ef=P(sA,uA,8,Us,Qd)),Al&&ef!=0?Nl=ef:(Sl.a=3,Nl=0)}if(Nl==0)break n;if(wl&&DS[mt]==1&&(wl=_l[gn].g==0),e2+=_l[gn].g,gn+=Nl,3>=mt){var Hs,rf=Gs[0];for(Hs=1;Hs<rn;++Hs)Gs[Hs]>rf&&(rf=Gs[Hs]);t2+=rf}}if(Tr.nd=wl,Tr.Qb=0,wl&&(Tr.qb=(Ma[3][Da[3]+0].value<<24|Ma[1][Da[1]+0].value<<16|Ma[2][Da[2]+0].value)>>>0,e2==0&&256>Ma[0][Da[0]+0].value&&(Tr.Qb=1,Tr.qb+=Ma[0][Da[0]+0].value<<8)),Tr.jc=!Tr.Qb&&6>t2,Tr.jc){var Pl,ko=Tr;for(Pl=0;Pl<kn;++Pl){var ii=Pl,ai=ko.pd[ii],Il=ko.G[0][ko.H[0]+ii];256<=Il.value?(ai.g=Il.g+256,ai.value=Il.value):(ai.g=0,ai.value=0,ii>>=Sn(Il,8,ai),ii>>=Sn(ko.G[1][ko.H[1]+ii],16,ai),ii>>=Sn(ko.G[2][ko.H[2]+ii],0,ai),Sn(ko.G[3][ko.H[3]+ii],24,ai))}}}Pn.vc=Rn,Pn.Wb=Un,Pn.Ya=bl,Pn.yc=Jd,$t=1;break t}$t=0}if(!($=$t)){E.a=3;break e}if(0<Se){if(re.ua=1<<Se,!ae(re.Wa,Se)){E.a=1,$=0;break e}}else re.ua=0;var of=E,f2=z,mA=Y,af=of.s,sf=af.xc;if(of.c=f2,of.i=mA,af.md=me(f2,sf),af.wc=sf==0?-1:(1<<sf)-1,x){E.xb=YS;break e}if((fe=i(z*Y))==null){E.a=1,$=0;break e}$=($=Cr(E,fe,0,z,Y,Y,null))&&!J.h;break e}return $?(q!=null?q[0]=fe:(t(fe==null),t(x)),E.$=0,x||no(re)):no(re),$}function Li(d,v){var x=d.c*d.i,E=x+v+16*v;return t(d.c<=v),d.V=i(E),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+x+v,1)}function da(d,v){var x=d.C,E=v-x,q=d.V,$=d.Ba+d.c*x;for(t(v<=d.l.o);0<E;){var z=16<E?16:E,Y=d.l.ma,J=d.l.width,re=J*z,fe=Y.ca,Se=Y.tb+J*x,Ae=d.Ta,ge=d.Ua;or(d,z,q,$),un(Ae,ge,fe,Se,re),Ir(Y,x,x+z,fe,Se,J),E-=z,q+=z*d.c,x+=z}t(x==v),d.C=d.Ma=v}function fa(){this.ub=this.yd=this.td=this.Rb=0}function ha(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pa(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ju(){this.Yb=function(){var d=[];return function v(x,E,q){for(var $=q[E],z=0;z<$&&(x.push(q.length>E+1?[]:0),!(q.length<E+1));z++)v(x[z],E+1,q)}(d,0,[3,11]),d}()}function bd(){this.jb=i(3),this.Wc=s([4,8],ju),this.Xc=s([4,17],ju)}function _d(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function va(){this.ld=this.La=this.dd=this.tc=0}function $u(){this.Na=this.la=0}function wd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ms(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xd(){this.uc=this.M=this.Nb=0,this.wa=Array(new va),this.Y=0,this.ya=Array(new ms),this.aa=0,this.l=new ga}function Bu(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Sd(){this.cb=this.a=0,this.sc="",this.m=new pe,this.Od=new fa,this.Kc=new ha,this.ed=new _d,this.Qa=new pa,this.Ic=this.$c=this.Aa=0,this.D=new xd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,pe),this.ia=0,this.pb=a(4,wd),this.Pa=new bd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bu),this.Hd=0,this.rb=Array(new $u),this.sb=0,this.wa=Array(new va),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ms),this.L=this.aa=0,this.gd=s([4,2],va),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ga(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ad(){var d=new Sd;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Bs||(Bs=Uu)),d}function an(d,v,x){return d.a==0&&(d.a=v,d.sc=x,d.cb=0),0}function zu(d,v,x){return 3<=x&&d[v+0]==157&&d[v+1]==1&&d[v+2]==42}function Gu(d,v){if(d==null)return 0;if(d.a=0,d.sc="OK",v==null)return an(d,2,"null VP8Io passed to VP8GetHeaders()");var x=v.data,E=v.w,q=v.ha;if(4>q)return an(d,7,"Truncated header.");var $=x[E+0]|x[E+1]<<8|x[E+2]<<16,z=d.Od;if(z.Rb=!(1&$),z.td=$>>1&7,z.yd=$>>4&1,z.ub=$>>5,3<z.td)return an(d,3,"Incorrect keyframe parameters.");if(!z.yd)return an(d,4,"Frame not displayable.");E+=3,q-=3;var Y=d.Kc;if(z.Rb){if(7>q)return an(d,7,"cannot parse picture header");if(!zu(x,E,q))return an(d,3,"Bad code word");Y.c=16383&(x[E+4]<<8|x[E+3]),Y.Td=x[E+4]>>6,Y.i=16383&(x[E+6]<<8|x[E+5]),Y.Ud=x[E+6]>>6,E+=7,q-=7,d.za=Y.c+15>>4,d.Ub=Y.i+15>>4,v.width=Y.c,v.height=Y.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,o(($=d.Pa).jb,0,255,$.jb.length),t(($=d.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,o($.Zb,0,0,$.Zb.length),o($.Lb,0,0,$.Lb)}if(z.ub>q)return an(d,7,"bad partition length");F($=d.m,x,E,z.ub),E+=z.ub,q-=z.ub,z.Rb&&(Y.Ld=te($),Y.Kd=te($)),Y=d.Qa;var J,re=d.Pa;if(t($!=null),t(Y!=null),Y.Cb=te($),Y.Cb){if(Y.Bb=te($),te($)){for(Y.Fb=te($),J=0;4>J;++J)Y.Zb[J]=te($)?Q($,7):0;for(J=0;4>J;++J)Y.Lb[J]=te($)?Q($,6):0}if(Y.Bb)for(J=0;3>J;++J)re.jb[J]=te($)?k($,8):255}else Y.Bb=0;if($.Ka)return an(d,3,"cannot parse segment header");if((Y=d.ed).zd=te($),Y.Tb=k($,6),Y.wb=k($,3),Y.Pc=te($),Y.Pc&&te($)){for(re=0;4>re;++re)te($)&&(Y.vd[re]=Q($,6));for(re=0;4>re;++re)te($)&&(Y.od[re]=Q($,6))}if(d.L=Y.Tb==0?0:Y.zd?1:2,$.Ka)return an(d,3,"cannot parse filter header");var fe=q;if(q=J=E,E=J+fe,Y=fe,d.Xb=(1<<k(d.m,2))-1,fe<3*(re=d.Xb))x=7;else{for(J+=3*re,Y-=3*re,fe=0;fe<re;++fe){var Se=x[q+0]|x[q+1]<<8|x[q+2]<<16;Se>Y&&(Se=Y),F(d.Jc[+fe],x,J,Se),J+=Se,Y-=Se,q+=3}F(d.Jc[+re],x,J,Y),x=J<E?0:5}if(x!=0)return an(d,x,"cannot parse partitions");for(x=k(J=d.m,7),q=te(J)?Q(J,4):0,E=te(J)?Q(J,4):0,Y=te(J)?Q(J,4):0,re=te(J)?Q(J,4):0,J=te(J)?Q(J,4):0,fe=d.Qa,Se=0;4>Se;++Se){if(fe.Cb){var Ae=fe.Zb[Se];fe.Fb||(Ae+=x)}else{if(0<Se){d.pb[Se]=d.pb[0];continue}Ae=x}var ge=d.pb[Se];ge.Sc[0]=Xd[ir(Ae+q,127)],ge.Sc[1]=Kd[ir(Ae+0,127)],ge.Eb[0]=2*Xd[ir(Ae+E,127)],ge.Eb[1]=101581*Kd[ir(Ae+Y,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=Xd[ir(Ae+re,117)],ge.Qc[1]=Kd[ir(Ae+J,127)],ge.lc=Ae+J}if(!z.Rb)return an(d,4,"Not a key frame.");for(te($),z=d.Pa,x=0;4>x;++x){for(q=0;8>q;++q)for(E=0;3>E;++E)for(Y=0;11>Y;++Y)re=ce($,HS[x][q][E][Y])?k($,8):US[x][q][E][Y],z.Wc[x][q].Yb[E][Y]=re;for(q=0;17>q;++q)z.Xc[x][q]=z.Wc[x][WS[q]]}return d.kc=te($),d.kc&&(d.Bd=k($,8)),d.cb=1}function Uu(d,v,x,E,q,$,z){var Y=v[q].Yb[x];for(x=0;16>q;++q){if(!ce(d,Y[x+0]))return q;for(;!ce(d,Y[x+1]);)if(Y=v[++q].Yb[0],x=0,q==16)return 16;var J=v[q+1].Yb;if(ce(d,Y[x+2])){var re=d,fe=0;if(ce(re,(Ae=Y)[(Se=x)+3]))if(ce(re,Ae[Se+6])){for(Y=0,Se=2*(fe=ce(re,Ae[Se+8]))+(Ae=ce(re,Ae[Se+9+fe])),fe=0,Ae=zS[Se];Ae[Y];++Y)fe+=fe+ce(re,Ae[Y]);fe+=3+(8<<Se)}else ce(re,Ae[Se+7])?(fe=7+2*ce(re,165),fe+=ce(re,145)):fe=5+ce(re,159);else fe=ce(re,Ae[Se+4])?3+ce(re,Ae[Se+5]):2;Y=J[2]}else fe=1,Y=J[1];J=z+GS[q],0>(re=d).b&&K(re);var Se,Ae=re.b,ge=(Se=re.Ca>>1)-(re.I>>Ae)>>31;--re.b,re.Ca+=ge,re.Ca|=1,re.I-=(Se+1&ge)<<Ae,$[J]=((fe^ge)-ge)*E[(0<q)+0]}return 16}function ys(d){var v=d.rb[d.sb-1];v.la=0,v.Na=0,o(d.zc,0,0,d.zc.length),d.ja=0}function Nd(d,v){if(d==null)return 0;if(v==null)return an(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Gu(d,v))return 0;if(t(d.cb),v.ac==null||v.ac(v)){v.ob&&(d.L=0);var x=yl[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=v.v-x>>4,d.zb=v.j-x>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=v.o+15+x>>4,d.Hb=v.va+15+x>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var E=d.ed;for(x=0;4>x;++x){var q;if(d.Qa.Cb){var $=d.Qa.Lb[x];d.Qa.Fb||($+=E.Tb)}else $=E.Tb;for(q=0;1>=q;++q){var z=d.gd[x][q],Y=$;if(E.Pc&&(Y+=E.vd[0],q&&(Y+=E.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var J=Y;0<E.wb&&(J=4<E.wb?J>>2:J>>1)>9-E.wb&&(J=9-E.wb),1>J&&(J=1),z.dd=J,z.tc=2*Y+J,z.ld=40<=Y?2:15<=Y?1:0}else z.tc=0;z.La=q}}}x=0}else an(d,6,"Frame setup failed"),x=d.a;if(x=x==0){if(x){d.$c=0,0<d.Aa||(d.Ic=aA);e:{x=d.Ic,E=4*(J=d.za);var re=32*J,fe=J+1,Se=0<d.L?J*(0<d.Aa?2:1):0,Ae=(d.Aa==2?2:1)*J;if((z=E+832+(q=3*(16*x+yl[d.L])/2*re)+($=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=z)x=0;else{if(z>d.Vb){if(d.Vb=0,d.Ec=i(z),d.Fc=0,d.Ec==null){x=an(d,1,"no memory during frame initialization.");break e}d.Vb=z}z=d.Ec,Y=d.Fc,d.Ac=z,d.Bc=Y,Y+=E,d.Gd=a(re,Bu),d.Hd=0,d.rb=a(fe+1,$u),d.sb=1,d.wa=Se?a(Se,va):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=J),t(!0),d.oc=z,d.pc=Y,Y+=832,d.ya=a(Ae,ms),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=J),d.R=16*J,d.B=8*J,J=(re=yl[d.L])*d.R,re=re/2*d.B,d.sa=z,d.ta=Y+J,d.qa=d.sa,d.ra=d.ta+16*x*d.R+re,d.Ha=d.qa,d.Ia=d.ra+8*x*d.B+re,d.$c=0,Y+=q,d.mb=$?z:null,d.nb=$?Y:null,t(Y+$<=d.Fc+d.Vb),ys(d),o(d.Ac,d.Bc,0,E),x=1}}if(x){if(v.ka=0,v.y=d.sa,v.O=d.ta,v.f=d.qa,v.N=d.ra,v.ea=d.Ha,v.Vd=d.Ia,v.fa=d.R,v.Rc=d.B,v.F=null,v.J=0,!ll){for(x=-255;255>=x;++x)An[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)Lo[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)$s[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)qa[255+x]=0>x?0:255<x?255:x;ll=1}Oa=Id,Io=Ed,Ds=Hu,Gn=Pd,mr=Wu,sn=Vu,ka=As,ul=ki,Fs=Bd,Ti=Ns,Mi=$d,Jo=xa,Di=Es,Ra=nl,Fi=tl,Qo=io,js=No,yr=jd,qr[0]=oo,qr[1]=Ld,qr[2]=Rd,qr[3]=qd,qr[4]=Ku,qr[5]=_a,qr[6]=Zu,qr[7]=ws,qr[8]=Md,qr[9]=Td,ei[0]=Yu,ei[1]=Od,ei[2]=Ao,ei[3]=ya,ei[4]=qn,ei[5]=kd,ei[6]=Xu,Co[0]=Wo,Co[1]=Cd,Co[2]=Dd,Co[3]=xs,Co[4]=Oi,Co[5]=Fd,Co[6]=Ss,x=1}else x=0}x&&(x=function(ge,Me){for(ge.M=0;ge.M<ge.Va;++ge.M){var Le,he=ge.Jc[ge.M&ge.Xb],ve=ge.m,qe=ge;for(Le=0;Le<qe.za;++Le){var Fe=ve,Te=qe,Ke=Te.Ac,Ge=Te.Bc+4*Le,ot=Te.zc,Ve=Te.ya[Te.aa+Le];if(Te.Qa.Bb?Ve.$b=ce(Fe,Te.Pa.jb[0])?2+ce(Fe,Te.Pa.jb[2]):ce(Fe,Te.Pa.jb[1]):Ve.$b=0,Te.kc&&(Ve.Ad=ce(Fe,Te.Bd)),Ve.Za=!ce(Fe,145)+0,Ve.Za){var Pt=Ve.Ob,qt=0;for(Te=0;4>Te;++Te){var Et,St=ot[0+Te];for(Et=0;4>Et;++Et){St=VS[Ke[Ge+Et]][St];for(var $t=Gm[ce(Fe,St[0])];0<$t;)$t=Gm[2*$t+ce(Fe,St[$t])];St=-$t,Ke[Ge+Et]=St}r(Pt,qt,Ke,Ge,4),qt+=4,ot[0+Te]=St}}else St=ce(Fe,156)?ce(Fe,128)?1:3:ce(Fe,163)?2:0,Ve.Ob[0]=St,o(Ke,Ge,St,4),o(ot,0,St,4);Ve.Dd=ce(Fe,142)?ce(Fe,114)?ce(Fe,183)?1:3:2:0}if(qe.m.Ka)return an(ge,7,"Premature end-of-partition0 encountered.");for(;ge.ja<ge.za;++ge.ja){if(qe=he,Fe=(ve=ge).rb[ve.sb-1],Ke=ve.rb[ve.sb+ve.ja],Le=ve.ya[ve.aa+ve.ja],Ge=ve.kc?Le.Ad:0)Fe.la=Ke.la=0,Le.Za||(Fe.Na=Ke.Na=0),Le.Hc=0,Le.Gc=0,Le.ia=0;else{var Ft,mt;if(Fe=Ke,Ke=qe,Ge=ve.Pa.Xc,ot=ve.ya[ve.aa+ve.ja],Ve=ve.pb[ot.$b],Te=ot.ad,Pt=0,qt=ve.rb[ve.sb-1],St=Et=0,o(Te,Pt,0,384),ot.Za)var gn=0,Zn=Ge[3];else{$t=i(16);var mn=Fe.Na+qt.Na;if(mn=Bs(Ke,Ge[1],mn,Ve.Eb,0,$t,0),Fe.Na=qt.Na=(0<mn)+0,1<mn)Oa($t,0,Te,Pt);else{var Jn=$t[0]+3>>3;for($t=0;256>$t;$t+=16)Te[Pt+$t]=Jn}gn=1,Zn=Ge[0]}var Tt=15&Fe.la,sr=15&qt.la;for($t=0;4>$t;++$t){var ur=1&sr;for(Jn=mt=0;4>Jn;++Jn)Tt=Tt>>1|(ur=(mn=Bs(Ke,Zn,mn=ur+(1&Tt),Ve.Sc,gn,Te,Pt))>gn)<<7,mt=mt<<2|(3<mn?3:1<mn?2:Te[Pt+0]!=0),Pt+=16;Tt>>=4,sr=sr>>1|ur<<7,Et=(Et<<8|mt)>>>0}for(Zn=Tt,gn=sr>>4,Ft=0;4>Ft;Ft+=2){for(mt=0,Tt=Fe.la>>4+Ft,sr=qt.la>>4+Ft,$t=0;2>$t;++$t){for(ur=1&sr,Jn=0;2>Jn;++Jn)mn=ur+(1&Tt),Tt=Tt>>1|(ur=0<(mn=Bs(Ke,Ge[2],mn,Ve.Qc,0,Te,Pt)))<<3,mt=mt<<2|(3<mn?3:1<mn?2:Te[Pt+0]!=0),Pt+=16;Tt>>=2,sr=sr>>1|ur<<5}St|=mt<<4*Ft,Zn|=Tt<<4<<Ft,gn|=(240&sr)<<Ft}Fe.la=Zn,qt.la=gn,ot.Hc=Et,ot.Gc=St,ot.ia=43690&St?0:Ve.ia,Ge=!(Et|St)}if(0<ve.L&&(ve.wa[ve.Y+ve.ja]=ve.gd[Le.$b][Le.Za],ve.wa[ve.Y+ve.ja].La|=!Ge),qe.Ka)return an(ge,7,"Premature end-of-file encountered.")}if(ys(ge),ve=Me,qe=1,Le=(he=ge).D,Fe=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(Le.M=he.M,Le.uc=Fe,ks(he,Le),qe=1,Le=(mt=he.D).Nb,Fe=(St=yl[he.L])*he.R,Ke=St/2*he.B,$t=16*Le*he.R,Jn=8*Le*he.B,Ge=he.sa,ot=he.ta-Fe+$t,Ve=he.qa,Te=he.ra-Ke+Jn,Pt=he.Ha,qt=he.Ia-Ke+Jn,sr=(Tt=mt.M)==0,Et=Tt>=he.Va-1,he.Aa==2&&ks(he,mt),mt.uc)for(ur=(mn=he).D.M,t(mn.D.uc),mt=mn.yb;mt<mn.Hb;++mt){gn=mt,Zn=ur;var Pn=(Rn=(rn=mn).D).Nb;Ft=rn.R;var Rn=Rn.wa[Rn.Y+gn],Un=rn.sa,xr=rn.ta+16*Pn*Ft+16*gn,so=Rn.dd,In=Rn.tc;if(In!=0)if(t(3<=In),rn.L==1)0<gn&&Qo(Un,xr,Ft,In+4),Rn.La&&yr(Un,xr,Ft,In),0<Zn&&Fi(Un,xr,Ft,In+4),Rn.La&&js(Un,xr,Ft,In);else{var Oo=rn.B,ji=rn.qa,Ta=rn.ra+8*Pn*Oo+8*gn,ni=rn.Ha,rn=rn.Ia+8*Pn*Oo+8*gn;Pn=Rn.ld,0<gn&&(ul(Un,xr,Ft,In+4,so,Pn),Ti(ji,Ta,ni,rn,Oo,In+4,so,Pn)),Rn.La&&(Jo(Un,xr,Ft,In,so,Pn),Ra(ji,Ta,ni,rn,Oo,In,so,Pn)),0<Zn&&(ka(Un,xr,Ft,In+4,so,Pn),Fs(ji,Ta,ni,rn,Oo,In+4,so,Pn)),Rn.La&&(Mi(Un,xr,Ft,In,so,Pn),Di(ji,Ta,ni,rn,Oo,In,so,Pn))}}if(he.ia&&alert("todo:DitherRow"),ve.put!=null){if(mt=16*Tt,Tt=16*(Tt+1),sr?(ve.y=he.sa,ve.O=he.ta+$t,ve.f=he.qa,ve.N=he.ra+Jn,ve.ea=he.Ha,ve.W=he.Ia+Jn):(mt-=St,ve.y=Ge,ve.O=ot,ve.f=Ve,ve.N=Te,ve.ea=Pt,ve.W=qt),Et||(Tt-=St),Tt>ve.o&&(Tt=ve.o),ve.F=null,ve.J=null,he.Fa!=null&&0<he.Fa.length&&mt<Tt&&(ve.J=Cs(he,ve,mt,Tt-mt),ve.F=he.mb,ve.F==null&&ve.F.length==0)){qe=an(he,3,"Could not decode alpha data.");break e}mt<ve.j&&(St=ve.j-mt,mt=ve.j,t(!(1&St)),ve.O+=he.R*St,ve.N+=he.B*(St>>1),ve.W+=he.B*(St>>1),ve.F!=null&&(ve.J+=ve.width*St)),mt<Tt&&(ve.O+=ve.v,ve.N+=ve.v>>1,ve.W+=ve.v>>1,ve.F!=null&&(ve.J+=ve.v),ve.ka=mt-ve.j,ve.U=ve.va-ve.v,ve.T=Tt-mt,qe=ve.put(ve))}Le+1!=he.Ic||Et||(r(he.sa,he.ta-Fe,Ge,ot+16*he.R,Fe),r(he.qa,he.ra-Ke,Ve,Te+8*he.B,Ke),r(he.Ha,he.Ia-Ke,Pt,qt+8*he.B,Ke))}if(!qe)return an(ge,6,"Output aborted.")}return 1}(d,v)),v.bc!=null&&v.bc(v),x&=1}return x?(d.cb=0,x):0}function Or(d,v,x,E,q){q=d[v+x+32*E]+(q>>3),d[v+x+32*E]=-256&q?0>q?0:255:q}function ma(d,v,x,E,q,$){Or(d,v,0,x,E+q),Or(d,v,1,x,E+$),Or(d,v,2,x,E-$),Or(d,v,3,x,E-q)}function Yn(d){return(20091*d>>16)+d}function bs(d,v,x,E){var q,$=0,z=i(16);for(q=0;4>q;++q){var Y=d[v+0]+d[v+8],J=d[v+0]-d[v+8],re=(35468*d[v+4]>>16)-Yn(d[v+12]),fe=Yn(d[v+4])+(35468*d[v+12]>>16);z[$+0]=Y+fe,z[$+1]=J+re,z[$+2]=J-re,z[$+3]=Y-fe,$+=4,v++}for(q=$=0;4>q;++q)Y=(d=z[$+0]+4)+z[$+8],J=d-z[$+8],re=(35468*z[$+4]>>16)-Yn(z[$+12]),Or(x,E,0,0,Y+(fe=Yn(z[$+4])+(35468*z[$+12]>>16))),Or(x,E,1,0,J+re),Or(x,E,2,0,J-re),Or(x,E,3,0,Y-fe),$++,E+=32}function Vu(d,v,x,E){var q=d[v+0]+4,$=35468*d[v+4]>>16,z=Yn(d[v+4]),Y=35468*d[v+1]>>16;ma(x,E,0,q+z,d=Yn(d[v+1]),Y),ma(x,E,1,q+$,d,Y),ma(x,E,2,q-$,d,Y),ma(x,E,3,q-z,d,Y)}function Ed(d,v,x,E,q){bs(d,v,x,E),q&&bs(d,v+16,x,E+4)}function Hu(d,v,x,E){Io(d,v+0,x,E,1),Io(d,v+32,x,E+128,1)}function Pd(d,v,x,E){var q;for(d=d[v+0]+4,q=0;4>q;++q)for(v=0;4>v;++v)Or(x,E,v,q,d)}function Wu(d,v,x,E){d[v+0]&&Gn(d,v+0,x,E),d[v+16]&&Gn(d,v+16,x,E+4),d[v+32]&&Gn(d,v+32,x,E+128),d[v+48]&&Gn(d,v+48,x,E+128+4)}function Id(d,v,x,E){var q,$=i(16);for(q=0;4>q;++q){var z=d[v+0+q]+d[v+12+q],Y=d[v+4+q]+d[v+8+q],J=d[v+4+q]-d[v+8+q],re=d[v+0+q]-d[v+12+q];$[0+q]=z+Y,$[8+q]=z-Y,$[4+q]=re+J,$[12+q]=re-J}for(q=0;4>q;++q)z=(d=$[0+4*q]+3)+$[3+4*q],Y=$[1+4*q]+$[2+4*q],J=$[1+4*q]-$[2+4*q],re=d-$[3+4*q],x[E+0]=z+Y>>3,x[E+16]=re+J>>3,x[E+32]=z-Y>>3,x[E+48]=re-J>>3,E+=64}function _s(d,v,x){var E,q=v-32,$=ar,z=255-d[q-1];for(E=0;E<x;++E){var Y,J=$,re=z+d[v-1];for(Y=0;Y<x;++Y)d[v+Y]=J[re+d[q+Y]];v+=32}}function Ld(d,v){_s(d,v,4)}function Cd(d,v){_s(d,v,8)}function Od(d,v){_s(d,v,16)}function Ao(d,v){var x;for(x=0;16>x;++x)r(d,v+32*x,d,v-32,16)}function ya(d,v){var x;for(x=16;0<x;--x)o(d,v,d[v-1],16),v+=32}function ba(d,v,x){var E;for(E=0;16>E;++E)o(v,x+32*E,d,16)}function Yu(d,v){var x,E=16;for(x=0;16>x;++x)E+=d[v-1+32*x]+d[v+x-32];ba(E>>5,d,v)}function qn(d,v){var x,E=8;for(x=0;16>x;++x)E+=d[v-1+32*x];ba(E>>4,d,v)}function kd(d,v){var x,E=8;for(x=0;16>x;++x)E+=d[v+x-32];ba(E>>4,d,v)}function Xu(d,v){ba(128,d,v)}function dt(d,v,x){return d+2*v+x+2>>2}function Rd(d,v){var x,E=v-32;for(E=new Uint8Array([dt(d[E-1],d[E+0],d[E+1]),dt(d[E+0],d[E+1],d[E+2]),dt(d[E+1],d[E+2],d[E+3]),dt(d[E+2],d[E+3],d[E+4])]),x=0;4>x;++x)r(d,v+32*x,E,0,E.length)}function qd(d,v){var x=d[v-1],E=d[v-1+32],q=d[v-1+64],$=d[v-1+96];Ee(d,v+0,16843009*dt(d[v-1-32],x,E)),Ee(d,v+32,16843009*dt(x,E,q)),Ee(d,v+64,16843009*dt(E,q,$)),Ee(d,v+96,16843009*dt(q,$,$))}function oo(d,v){var x,E=4;for(x=0;4>x;++x)E+=d[v+x-32]+d[v-1+32*x];for(E>>=3,x=0;4>x;++x)o(d,v+32*x,E,4)}function Ku(d,v){var x=d[v-1+0],E=d[v-1+32],q=d[v-1+64],$=d[v-1-32],z=d[v+0-32],Y=d[v+1-32],J=d[v+2-32],re=d[v+3-32];d[v+0+96]=dt(E,q,d[v-1+96]),d[v+1+96]=d[v+0+64]=dt(x,E,q),d[v+2+96]=d[v+1+64]=d[v+0+32]=dt($,x,E),d[v+3+96]=d[v+2+64]=d[v+1+32]=d[v+0+0]=dt(z,$,x),d[v+3+64]=d[v+2+32]=d[v+1+0]=dt(Y,z,$),d[v+3+32]=d[v+2+0]=dt(J,Y,z),d[v+3+0]=dt(re,J,Y)}function Zu(d,v){var x=d[v+1-32],E=d[v+2-32],q=d[v+3-32],$=d[v+4-32],z=d[v+5-32],Y=d[v+6-32],J=d[v+7-32];d[v+0+0]=dt(d[v+0-32],x,E),d[v+1+0]=d[v+0+32]=dt(x,E,q),d[v+2+0]=d[v+1+32]=d[v+0+64]=dt(E,q,$),d[v+3+0]=d[v+2+32]=d[v+1+64]=d[v+0+96]=dt(q,$,z),d[v+3+32]=d[v+2+64]=d[v+1+96]=dt($,z,Y),d[v+3+64]=d[v+2+96]=dt(z,Y,J),d[v+3+96]=dt(Y,J,J)}function _a(d,v){var x=d[v-1+0],E=d[v-1+32],q=d[v-1+64],$=d[v-1-32],z=d[v+0-32],Y=d[v+1-32],J=d[v+2-32],re=d[v+3-32];d[v+0+0]=d[v+1+64]=$+z+1>>1,d[v+1+0]=d[v+2+64]=z+Y+1>>1,d[v+2+0]=d[v+3+64]=Y+J+1>>1,d[v+3+0]=J+re+1>>1,d[v+0+96]=dt(q,E,x),d[v+0+64]=dt(E,x,$),d[v+0+32]=d[v+1+96]=dt(x,$,z),d[v+1+32]=d[v+2+96]=dt($,z,Y),d[v+2+32]=d[v+3+96]=dt(z,Y,J),d[v+3+32]=dt(Y,J,re)}function ws(d,v){var x=d[v+0-32],E=d[v+1-32],q=d[v+2-32],$=d[v+3-32],z=d[v+4-32],Y=d[v+5-32],J=d[v+6-32],re=d[v+7-32];d[v+0+0]=x+E+1>>1,d[v+1+0]=d[v+0+64]=E+q+1>>1,d[v+2+0]=d[v+1+64]=q+$+1>>1,d[v+3+0]=d[v+2+64]=$+z+1>>1,d[v+0+32]=dt(x,E,q),d[v+1+32]=d[v+0+96]=dt(E,q,$),d[v+2+32]=d[v+1+96]=dt(q,$,z),d[v+3+32]=d[v+2+96]=dt($,z,Y),d[v+3+64]=dt(z,Y,J),d[v+3+96]=dt(Y,J,re)}function Td(d,v){var x=d[v-1+0],E=d[v-1+32],q=d[v-1+64],$=d[v-1+96];d[v+0+0]=x+E+1>>1,d[v+2+0]=d[v+0+32]=E+q+1>>1,d[v+2+32]=d[v+0+64]=q+$+1>>1,d[v+1+0]=dt(x,E,q),d[v+3+0]=d[v+1+32]=dt(E,q,$),d[v+3+32]=d[v+1+64]=dt(q,$,$),d[v+3+64]=d[v+2+64]=d[v+0+96]=d[v+1+96]=d[v+2+96]=d[v+3+96]=$}function Md(d,v){var x=d[v-1+0],E=d[v-1+32],q=d[v-1+64],$=d[v-1+96],z=d[v-1-32],Y=d[v+0-32],J=d[v+1-32],re=d[v+2-32];d[v+0+0]=d[v+2+32]=x+z+1>>1,d[v+0+32]=d[v+2+64]=E+x+1>>1,d[v+0+64]=d[v+2+96]=q+E+1>>1,d[v+0+96]=$+q+1>>1,d[v+3+0]=dt(Y,J,re),d[v+2+0]=dt(z,Y,J),d[v+1+0]=d[v+3+32]=dt(x,z,Y),d[v+1+32]=d[v+3+64]=dt(E,x,z),d[v+1+64]=d[v+3+96]=dt(q,E,x),d[v+1+96]=dt($,q,E)}function Dd(d,v){var x;for(x=0;8>x;++x)r(d,v+32*x,d,v-32,8)}function xs(d,v){var x;for(x=0;8>x;++x)o(d,v,d[v-1],8),v+=32}function Ci(d,v,x){var E;for(E=0;8>E;++E)o(v,x+32*E,d,8)}function Wo(d,v){var x,E=8;for(x=0;8>x;++x)E+=d[v+x-32]+d[v-1+32*x];Ci(E>>4,d,v)}function Fd(d,v){var x,E=4;for(x=0;8>x;++x)E+=d[v+x-32];Ci(E>>3,d,v)}function Oi(d,v){var x,E=4;for(x=0;8>x;++x)E+=d[v-1+32*x];Ci(E>>3,d,v)}function Ss(d,v){Ci(128,d,v)}function wa(d,v,x){var E=d[v-x],q=d[v+0],$=3*(q-E)+Ud[1020+d[v-2*x]-d[v+x]],z=cl[112+($+4>>3)];d[v-x]=ar[255+E+cl[112+($+3>>3)]],d[v+0]=ar[255+q-z]}function Ju(d,v,x,E){var q=d[v+0],$=d[v+x];return _r[255+d[v-2*x]-d[v-x]]>E||_r[255+$-q]>E}function Qu(d,v,x,E){return 4*_r[255+d[v-x]-d[v+0]]+_r[255+d[v-2*x]-d[v+x]]<=E}function el(d,v,x,E,q){var $=d[v-3*x],z=d[v-2*x],Y=d[v-x],J=d[v+0],re=d[v+x],fe=d[v+2*x],Se=d[v+3*x];return 4*_r[255+Y-J]+_r[255+z-re]>E?0:_r[255+d[v-4*x]-$]<=q&&_r[255+$-z]<=q&&_r[255+z-Y]<=q&&_r[255+Se-fe]<=q&&_r[255+fe-re]<=q&&_r[255+re-J]<=q}function tl(d,v,x,E){var q=2*E+1;for(E=0;16>E;++E)Qu(d,v+E,x,q)&&wa(d,v+E,x)}function io(d,v,x,E){var q=2*E+1;for(E=0;16>E;++E)Qu(d,v+E*x,1,q)&&wa(d,v+E*x,1)}function No(d,v,x,E){var q;for(q=3;0<q;--q)tl(d,v+=4*x,x,E)}function jd(d,v,x,E){var q;for(q=3;0<q;--q)io(d,v+=4,x,E)}function Yo(d,v,x,E,q,$,z,Y){for($=2*$+1;0<q--;){if(el(d,v,x,$,z))if(Ju(d,v,x,Y))wa(d,v,x);else{var J=d,re=v,fe=x,Se=J[re-2*fe],Ae=J[re-fe],ge=J[re+0],Me=J[re+fe],Le=J[re+2*fe],he=27*(qe=Ud[1020+3*(ge-Ae)+Ud[1020+Se-Me]])+63>>7,ve=18*qe+63>>7,qe=9*qe+63>>7;J[re-3*fe]=ar[255+J[re-3*fe]+qe],J[re-2*fe]=ar[255+Se+ve],J[re-fe]=ar[255+Ae+he],J[re+0]=ar[255+ge-he],J[re+fe]=ar[255+Me-ve],J[re+2*fe]=ar[255+Le-qe]}v+=E}}function kr(d,v,x,E,q,$,z,Y){for($=2*$+1;0<q--;){if(el(d,v,x,$,z))if(Ju(d,v,x,Y))wa(d,v,x);else{var J=d,re=v,fe=x,Se=J[re-fe],Ae=J[re+0],ge=J[re+fe],Me=cl[112+((Le=3*(Ae-Se))+4>>3)],Le=cl[112+(Le+3>>3)],he=Me+1>>1;J[re-2*fe]=ar[255+J[re-2*fe]+he],J[re-fe]=ar[255+Se+Le],J[re+0]=ar[255+Ae-Me],J[re+fe]=ar[255+ge-he]}v+=E}}function As(d,v,x,E,q,$){Yo(d,v,x,1,16,E,q,$)}function ki(d,v,x,E,q,$){Yo(d,v,1,x,16,E,q,$)}function $d(d,v,x,E,q,$){var z;for(z=3;0<z;--z)kr(d,v+=4*x,x,1,16,E,q,$)}function xa(d,v,x,E,q,$){var z;for(z=3;0<z;--z)kr(d,v+=4,1,x,16,E,q,$)}function Bd(d,v,x,E,q,$,z,Y){Yo(d,v,q,1,8,$,z,Y),Yo(x,E,q,1,8,$,z,Y)}function Ns(d,v,x,E,q,$,z,Y){Yo(d,v,1,q,8,$,z,Y),Yo(x,E,1,q,8,$,z,Y)}function Es(d,v,x,E,q,$,z,Y){kr(d,v+4*q,q,1,8,$,z,Y),kr(x,E+4*q,q,1,8,$,z,Y)}function nl(d,v,x,E,q,$,z,Y){kr(d,v+4,1,q,8,$,z,Y),kr(x,E+4,1,q,8,$,z,Y)}function Sa(){this.ba=new Er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ps(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Is(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rl(){this.ua=0,this.Wa=new R,this.vb=new R,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _,this.yc=new N}function zd(){this.xb=this.a=0,this.l=new ga,this.ca=new Er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rl,this.ab=0,this.gc=a(4,Is),this.Oc=0}function Aa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ga,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ri(d,v,x,E,q,$,z){for(d=d==null?0:d[v+0],v=0;v<z;++v)q[$+v]=d+x[E+v]&255,d=q[$+v]}function Ls(d,v,x,E,q,$,z){var Y;if(d==null)Ri(null,null,x,E,q,$,z);else for(Y=0;Y<z;++Y)q[$+Y]=d[v+Y]+x[E+Y]&255}function Xo(d,v,x,E,q,$,z){if(d==null)Ri(null,null,x,E,q,$,z);else{var Y,J=d[v+0],re=J,fe=J;for(Y=0;Y<z;++Y)re=fe+(J=d[v+Y])-re,fe=x[E+Y]+(-256&re?0>re?0:255:re)&255,re=J,q[$+Y]=fe}}function Cs(d,v,x,E){var q=v.width,$=v.o;if(t(d!=null&&v!=null),0>x||0>=E||x+E>$)return null;if(!d.Cc){if(d.ga==null){var z;if(d.ga=new Aa,(z=d.ga==null)||(z=v.width*v.o,t(d.Gb.length==0),d.Gb=i(z),d.Uc=0,d.Gb==null?z=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,z=1),z=!z),!z){z=d.ga;var Y=d.Fa,J=d.P,re=d.qc,fe=d.mb,Se=d.nb,Ae=J+1,ge=re-1,Me=z.l;if(t(Y!=null&&fe!=null&&v!=null),ti[0]=null,ti[1]=Ri,ti[2]=Ls,ti[3]=Xo,z.ca=fe,z.tb=Se,z.c=v.width,z.i=v.height,t(0<z.c&&0<z.i),1>=re)v=0;else if(z.$a=Y[J+0]>>0&3,z.Z=Y[J+0]>>2&3,z.Lc=Y[J+0]>>4&3,J=Y[J+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||J)v=0;else if(Me.put=Qr,Me.ac=On,Me.bc=eo,Me.ma=z,Me.width=v.width,Me.height=v.height,Me.Da=v.Da,Me.v=v.v,Me.va=v.va,Me.j=v.j,Me.o=v.o,z.$a)e:{t(z.$a==1),v=vr();t:for(;;){if(v==null){v=0;break e}if(t(z!=null),z.mc=v,v.c=z.c,v.i=z.i,v.l=z.l,v.l.ma=z,v.l.width=z.c,v.l.height=z.i,v.a=0,U(v.m,Y,Ae,ge),!ro(z.c,z.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&So(v.s)?(z.ic=1,Y=v.c*v.i,v.Ta=null,v.Ua=0,v.V=i(Y),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(z.ic=0,v=Li(v,z.c)),!v))break t;v=1;break e}z.mc=null,v=0}else v=ge>=z.c*z.i;z=!v}if(z)return null;d.ga.Lc!=1?d.Ga=0:E=$-x}t(d.ga!=null),t(x+E<=$);e:{if(v=(Y=d.ga).c,$=Y.l.o,Y.$a==0){if(Ae=d.rc,ge=d.Vc,Me=d.Fa,J=d.P+1+x*v,re=d.mb,fe=d.nb+x*v,t(J<=d.P+d.qc),Y.Z!=0)for(t(ti[Y.Z]!=null),z=0;z<E;++z)ti[Y.Z](Ae,ge,Me,J,re,fe,v),Ae=re,ge=fe,fe+=v,J+=v;else for(z=0;z<E;++z)r(re,fe,Me,J,v),Ae=re,ge=fe,fe+=v,J+=v;d.rc=Ae,d.Vc=ge}else{if(t(Y.mc!=null),v=x+E,t((z=Y.mc)!=null),t(v<=z.i),z.C>=v)v=1;else if(Y.ic||ye(),Y.ic){Y=z.V,Ae=z.Ba,ge=z.c;var Le=z.i,he=(Me=1,J=z.$/ge,re=z.$%ge,fe=z.m,Se=z.s,z.$),ve=ge*Le,qe=ge*v,Fe=Se.wc,Te=he<qe?pn(Se,re,J):null;t(he<=ve),t(v<=Le),t(So(Se));t:for(;;){for(;!fe.h&&he<qe;){if(re&Fe||(Te=pn(Se,re,J)),t(Te!=null),G(fe),256>(Le=Wn(Te.G[0],Te.H[0],fe)))Y[Ae+he]=Le,++he,++re>=ge&&(re=0,++J<=v&&!(J%16)&&Lr(z,J));else{if(!(280>Le)){Me=0;break t}Le=Pr(Le-256,fe);var Ke,Ge=Wn(Te.G[4],Te.H[4],fe);if(G(fe),!(he>=(Ge=to(ge,Ge=Pr(Ge,fe)))&&ve-he>=Le)){Me=0;break t}for(Ke=0;Ke<Le;++Ke)Y[Ae+he+Ke]=Y[Ae+he+Ke-Ge];for(he+=Le,re+=Le;re>=ge;)re-=ge,++J<=v&&!(J%16)&&Lr(z,J);he<qe&&re&Fe&&(Te=pn(Se,re,J))}t(fe.h==C(fe))}Lr(z,J>v?v:J);break t}!Me||fe.h&&he<ve?(Me=0,z.a=fe.h?5:3):z.$=he,v=Me}else v=Cr(z,z.V,z.Ba,z.c,z.i,v,da);if(!v){E=0;break e}}x+E>=$&&(d.Cc=1),E=1}if(!E)return null;if(d.Cc&&((E=d.ga)!=null&&(E.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+x*q}function m(d,v,x,E,q,$){for(;0<q--;){var z,Y=d,J=v+(x?1:0),re=d,fe=v+(x?0:3);for(z=0;z<E;++z){var Se=re[fe+4*z];Se!=255&&(Se*=32897,Y[J+4*z+0]=Y[J+4*z+0]*Se>>23,Y[J+4*z+1]=Y[J+4*z+1]*Se>>23,Y[J+4*z+2]=Y[J+4*z+2]*Se>>23)}v+=$}}function T(d,v,x,E,q){for(;0<E--;){var $;for($=0;$<x;++$){var z=d[v+2*$+0],Y=15&(re=d[v+2*$+1]),J=4369*Y,re=(240&re|re>>4)*J>>16;d[v+2*$+0]=(240&z|z>>4)*J>>16&240|(15&z|z<<4)*J>>16>>4&15,d[v+2*$+1]=240&re|Y}v+=q}}function ue(d,v,x,E,q,$,z,Y){var J,re,fe=255;for(re=0;re<q;++re){for(J=0;J<E;++J){var Se=d[v+J];$[z+4*J]=Se,fe&=Se}v+=x,z+=Y}return fe!=255}function de(d,v,x,E,q){var $;for($=0;$<q;++$)x[E+$]=d[v+$]>>8}function ye(){br=m,Gt=T,Ut=ue,un=de}function Oe(d,v,x){I[d]=function(E,q,$,z,Y,J,re,fe,Se,Ae,ge,Me,Le,he,ve,qe,Fe){var Te,Ke=Fe-1>>1,Ge=Y[J+0]|re[fe+0]<<16,ot=Se[Ae+0]|ge[Me+0]<<16;t(E!=null);var Ve=3*Ge+ot+131074>>2;for(v(E[q+0],255&Ve,Ve>>16,Le,he),$!=null&&(Ve=3*ot+Ge+131074>>2,v($[z+0],255&Ve,Ve>>16,ve,qe)),Te=1;Te<=Ke;++Te){var Pt=Y[J+Te]|re[fe+Te]<<16,qt=Se[Ae+Te]|ge[Me+Te]<<16,Et=Ge+Pt+ot+qt+524296,St=Et+2*(Pt+ot)>>3;Ve=St+Ge>>1,Ge=(Et=Et+2*(Ge+qt)>>3)+Pt>>1,v(E[q+2*Te-1],255&Ve,Ve>>16,Le,he+(2*Te-1)*x),v(E[q+2*Te-0],255&Ge,Ge>>16,Le,he+(2*Te-0)*x),$!=null&&(Ve=Et+ot>>1,Ge=St+qt>>1,v($[z+2*Te-1],255&Ve,Ve>>16,ve,qe+(2*Te-1)*x),v($[z+2*Te+0],255&Ge,Ge>>16,ve,qe+(2*Te+0)*x)),Ge=Pt,ot=qt}1&Fe||(Ve=3*Ge+ot+131074>>2,v(E[q+Fe-1],255&Ve,Ve>>16,Le,he+(Fe-1)*x),$!=null&&(Ve=3*ot+Ge+131074>>2,v($[z+Fe-1],255&Ve,Ve>>16,ve,qe+(Fe-1)*x)))}}function $e(){wr[dl]=XS,wr[fl]=Vm,wr[$m]=KS,wr[hl]=Hm,wr[pl]=Wm,wr[Vd]=Ym,wr[Bm]=ZS,wr[Hd]=Vm,wr[Wd]=Hm,wr[vl]=Wm,wr[Yd]=Ym}function Ye(d){return d&-16384?0>d?0:255:d>>JS}function tt(d,v){return Ye((19077*d>>8)+(26149*v>>8)-14234)}function vt(d,v,x){return Ye((19077*d>>8)-(6419*v>>8)-(13320*x>>8)+8708)}function ht(d,v){return Ye((19077*d>>8)+(33050*v>>8)-17685)}function Nt(d,v,x,E,q){E[q+0]=tt(d,x),E[q+1]=vt(d,v,x),E[q+2]=ht(d,v)}function Qt(d,v,x,E,q){E[q+0]=ht(d,v),E[q+1]=vt(d,v,x),E[q+2]=tt(d,x)}function nn(d,v,x,E,q){var $=vt(d,v,x);v=$<<3&224|ht(d,v)>>3,E[q+0]=248&tt(d,x)|$>>5,E[q+1]=v}function vn(d,v,x,E,q){var $=240&ht(d,v)|15;E[q+0]=240&tt(d,x)|vt(d,v,x)>>4,E[q+1]=$}function Tn(d,v,x,E,q){E[q+0]=255,Nt(d,v,x,E,q+1)}function En(d,v,x,E,q){Qt(d,v,x,E,q),E[q+3]=255}function Rr(d,v,x,E,q){Nt(d,v,x,E,q),E[q+3]=255}function ir(d,v){return 0>d?0:d>v?v:d}function ao(d,v,x){I[d]=function(E,q,$,z,Y,J,re,fe,Se){for(var Ae=fe+(-2&Se)*x;fe!=Ae;)v(E[q+0],$[z+0],Y[J+0],re,fe),v(E[q+1],$[z+0],Y[J+0],re,fe+x),q+=2,++z,++J,fe+=2*x;1&Se&&v(E[q+0],$[z+0],Y[J+0],re,fe)}}function ol(d,v,x){return x==0?d==0?v==0?6:5:v==0?4:0:x}function Os(d,v,x,E,q){switch(d>>>30){case 3:Io(v,x,E,q,0);break;case 2:sn(v,x,E,q);break;case 1:Gn(v,x,E,q)}}function ks(d,v){var x,E,q=v.M,$=v.Nb,z=d.oc,Y=d.pc+40,J=d.oc,re=d.pc+584,fe=d.oc,Se=d.pc+600;for(x=0;16>x;++x)z[Y+32*x-1]=129;for(x=0;8>x;++x)J[re+32*x-1]=129,fe[Se+32*x-1]=129;for(0<q?z[Y-1-32]=J[re-1-32]=fe[Se-1-32]=129:(o(z,Y-32-1,127,21),o(J,re-32-1,127,9),o(fe,Se-32-1,127,9)),E=0;E<d.za;++E){var Ae=v.ya[v.aa+E];if(0<E){for(x=-1;16>x;++x)r(z,Y+32*x-4,z,Y+32*x+12,4);for(x=-1;8>x;++x)r(J,re+32*x-4,J,re+32*x+4,4),r(fe,Se+32*x-4,fe,Se+32*x+4,4)}var ge=d.Gd,Me=d.Hd+E,Le=Ae.ad,he=Ae.Hc;if(0<q&&(r(z,Y-32,ge[Me].y,0,16),r(J,re-32,ge[Me].f,0,8),r(fe,Se-32,ge[Me].ea,0,8)),Ae.Za){var ve=z,qe=Y-32+16;for(0<q&&(E>=d.za-1?o(ve,qe,ge[Me].y[15],4):r(ve,qe,ge[Me+1].y,0,4)),x=0;4>x;x++)ve[qe+128+x]=ve[qe+256+x]=ve[qe+384+x]=ve[qe+0+x];for(x=0;16>x;++x,he<<=2)ve=z,qe=Y+Km[x],qr[Ae.Ob[x]](ve,qe),Os(he,Le,16*+x,ve,qe)}else if(ve=ol(E,q,Ae.Ob[0]),ei[ve](z,Y),he!=0)for(x=0;16>x;++x,he<<=2)Os(he,Le,16*+x,z,Y+Km[x]);for(x=Ae.Gc,ve=ol(E,q,Ae.Dd),Co[ve](J,re),Co[ve](fe,Se),he=Le,ve=J,qe=re,255&(Ae=x>>0)&&(170&Ae?Ds(he,256,ve,qe):mr(he,256,ve,qe)),Ae=fe,he=Se,255&(x>>=8)&&(170&x?Ds(Le,320,Ae,he):mr(Le,320,Ae,he)),q<d.Ub-1&&(r(ge[Me].y,0,z,Y+480,16),r(ge[Me].f,0,J,re+224,8),r(ge[Me].ea,0,fe,Se+224,8)),x=8*$*d.B,ge=d.sa,Me=d.ta+16*E+16*$*d.R,Le=d.qa,Ae=d.ra+8*E+x,he=d.Ha,ve=d.Ia+8*E+x,x=0;16>x;++x)r(ge,Me+x*d.R,z,Y+32*x,16);for(x=0;8>x;++x)r(Le,Ae+x*d.B,J,re+32*x,8),r(he,ve+x*d.B,fe,Se+32*x,8)}}function Na(d,v,x,E,q,$,z,Y,J){var re=[0],fe=[0],Se=0,Ae=J!=null?J.kd:0,ge=J??new Ps;if(d==null||12>x)return 7;ge.data=d,ge.w=v,ge.ha=x,v=[v],x=[x],ge.gb=[ge.gb];e:{var Me=v,Le=x,he=ge.gb;if(t(d!=null),t(Le!=null),t(he!=null),he[0]=0,12<=Le[0]&&!n(d,Me[0],"RIFF")){if(n(d,Me[0]+8,"WEBP")){he=3;break e}var ve=_e(d,Me[0]+4);if(12>ve||4294967286<ve){he=3;break e}if(Ae&&ve>Le[0]-8){he=7;break e}he[0]=ve,Me[0]+=12,Le[0]-=12}he=0}if(he!=0)return he;for(ve=0<ge.gb[0],x=x[0];;){e:{var qe=d;Le=v,he=x;var Fe=re,Te=fe,Ke=Me=[0];if((Ve=Se=[Se])[0]=0,8>he[0])he=7;else{if(!n(qe,Le[0],"VP8X")){if(_e(qe,Le[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var Ge=_e(qe,Le[0]+8),ot=1+ke(qe,Le[0]+12);if(2147483648<=ot*(qe=1+ke(qe,Le[0]+15))){he=3;break e}Ke!=null&&(Ke[0]=Ge),Fe!=null&&(Fe[0]=ot),Te!=null&&(Te[0]=qe),Le[0]+=18,he[0]-=18,Ve[0]=1}he=0}}if(Se=Se[0],Me=Me[0],he!=0)return he;if(Le=!!(2&Me),!ve&&Se)return 3;if($!=null&&($[0]=!!(16&Me)),z!=null&&(z[0]=Le),Y!=null&&(Y[0]=0),z=re[0],Me=fe[0],Se&&Le&&J==null){he=0;break}if(4>x){he=7;break}if(ve&&Se||!ve&&!Se&&!n(d,v[0],"ALPH")){x=[x],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{Ge=d,he=v,ve=x;var Ve=ge.gb;Fe=ge.na,Te=ge.P,Ke=ge.Sa,ot=22,t(Ge!=null),t(ve!=null),qe=he[0];var Pt=ve[0];for(t(Fe!=null),t(Ke!=null),Fe[0]=null,Te[0]=null,Ke[0]=0;;){if(he[0]=qe,ve[0]=Pt,8>Pt){he=7;break e}var qt=_e(Ge,qe+4);if(4294967286<qt){he=3;break e}var Et=8+qt+1&-2;if(ot+=Et,0<Ve&&ot>Ve){he=3;break e}if(!n(Ge,qe,"VP8 ")||!n(Ge,qe,"VP8L")){he=0;break e}if(Pt[0]<Et){he=7;break e}n(Ge,qe,"ALPH")||(Fe[0]=Ge,Te[0]=qe+8,Ke[0]=qt),qe+=Et,Pt-=Et}}if(x=x[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],he!=0)break}x=[x],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(Ve=d,he=v,ve=x,Fe=ge.gb[0],Te=ge.Ja,Ke=ge.xa,Ge=he[0],qe=!n(Ve,Ge,"VP8 "),ot=!n(Ve,Ge,"VP8L"),t(Ve!=null),t(ve!=null),t(Te!=null),t(Ke!=null),8>ve[0])he=7;else{if(qe||ot){if(Ve=_e(Ve,Ge+4),12<=Fe&&Ve>Fe-12){he=3;break e}if(Ae&&Ve>ve[0]-8){he=7;break e}Te[0]=Ve,he[0]+=8,ve[0]-=8,Ke[0]=ot}else Ke[0]=5<=ve[0]&&Ve[Ge+0]==47&&!(Ve[Ge+4]>>5),Te[0]=ve[0];he=0}if(x=x[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],v=v[0],he!=0)break;if(4294967286<ge.Ja)return 3;if(Y==null||Le||(Y[0]=ge.xa?2:1),z=[z],Me=[Me],ge.xa){if(5>x){he=7;break}Y=z,Ae=Me,Le=$,d==null||5>x?d=0:5<=x&&d[v+0]==47&&!(d[v+4]>>5)?(ve=[0],Ve=[0],Fe=[0],U(Te=new O,d,v,x),at(Te,ve,Ve,Fe)?(Y!=null&&(Y[0]=ve[0]),Ae!=null&&(Ae[0]=Ve[0]),Le!=null&&(Le[0]=Fe[0]),d=1):d=0):d=0}else{if(10>x){he=7;break}Y=Me,d==null||10>x||!zu(d,v+3,x-3)?d=0:(Ae=d[v+0]|d[v+1]<<8|d[v+2]<<16,Le=16383&(d[v+7]<<8|d[v+6]),d=16383&(d[v+9]<<8|d[v+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=ge.Ja||!Le||!d?d=0:(z&&(z[0]=Le),Y&&(Y[0]=d),d=1))}if(!d||(z=z[0],Me=Me[0],Se&&(re[0]!=z||fe[0]!=Me)))return 3;J!=null&&(J[0]=ge,J.offset=v-J.w,t(4294967286>v-J.w),t(J.offset==J.ha-x));break}return he==0||he==7&&Se&&J==null?($!=null&&($[0]|=ge.na!=null&&0<ge.na.length),E!=null&&(E[0]=z),q!=null&&(q[0]=Me),0):he}function Rs(d,v,x){var E=v.width,q=v.height,$=0,z=0,Y=E,J=q;if(v.Da=d!=null&&0<d.Da,v.Da&&(Y=d.cd,J=d.bd,$=d.v,z=d.j,11>x||($&=-2,z&=-2),0>$||0>z||0>=Y||0>=J||$+Y>E||z+J>q))return 0;if(v.v=$,v.j=z,v.va=$+Y,v.o=z+J,v.U=Y,v.T=J,v.da=d!=null&&0<d.da,v.da){if(!oe(Y,J,x=[d.ib],$=[d.hb]))return 0;v.ib=x[0],v.hb=$[0]}return v.ob=d!=null&&d.ob,v.Kb=d==null||!d.Sd,v.da&&(v.ob=v.ib<3*E/4&&v.hb<3*q/4,v.Kb=0),1}function qs(d){if(d==null)return 2;if(11>d.S){var v=d.f.RGBA;v.fb+=(d.height-1)*v.A,v.A=-v.A}else v=d.f.kb,d=d.height,v.O+=(d-1)*v.fa,v.fa=-v.fa,v.N+=(d-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(d-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(d-1)*v.lb,v.lb=-v.lb);return 0}function Ea(d,v,x,E){if(E==null||0>=d||0>=v)return 2;if(x!=null){if(x.Da){var q=x.cd,$=x.bd,z=-2&x.v,Y=-2&x.j;if(0>z||0>Y||0>=q||0>=$||z+q>d||Y+$>v)return 2;d=q,v=$}if(x.da){if(!oe(d,v,q=[x.ib],$=[x.hb]))return 2;d=q[0],v=$[0]}}E.width=d,E.height=v;e:{var J=E.width,re=E.height;if(d=E.S,0>=J||0>=re||!(d>=dl&&13>d))d=2;else{if(0>=E.Rd&&E.sd==null){z=$=q=v=0;var fe=(Y=J*Zm[d])*re;if(11>d||($=(re+1)/2*(v=(J+1)/2),d==12&&(z=(q=J)*re)),(re=i(fe+2*$+z))==null){d=1;break e}E.sd=re,11>d?((J=E.f.RGBA).eb=re,J.fb=0,J.A=Y,J.size=fe):((J=E.f.kb).y=re,J.O=0,J.fa=Y,J.Fd=fe,J.f=re,J.N=0+fe,J.Ab=v,J.Cd=$,J.ea=re,J.W=0+fe+$,J.Db=v,J.Ed=$,d==12&&(J.F=re,J.J=0+fe+2*$),J.Tc=z,J.lb=q)}if(v=1,q=E.S,$=E.width,z=E.height,q>=dl&&13>q)if(11>q)d=E.f.RGBA,v&=(Y=Math.abs(d.A))*(z-1)+$<=d.size,v&=Y>=$*Zm[q],v&=d.eb!=null;else{d=E.f.kb,Y=($+1)/2,fe=(z+1)/2,J=Math.abs(d.fa),re=Math.abs(d.Ab);var Se=Math.abs(d.Db),Ae=Math.abs(d.lb),ge=Ae*(z-1)+$;v&=J*(z-1)+$<=d.Fd,v&=re*(fe-1)+Y<=d.Cd,v=(v&=Se*(fe-1)+Y<=d.Ed)&J>=$&re>=Y&Se>=Y,v&=d.y!=null,v&=d.f!=null,v&=d.ea!=null,q==12&&(v&=Ae>=$,v&=ge<=d.Tc,v&=d.F!=null)}else v=0;d=v?0:2}}return d!=0||x!=null&&x.fd&&(d=qs(E)),d}var kn=64,Pa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ia=24,La=32,Ts=8,Xn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(d){return d},I.Predictor2=function(d,v,x){return v[x+0]},I.Predictor3=function(d,v,x){return v[x+1]},I.Predictor4=function(d,v,x){return v[x-1]},I.Predictor5=function(d,v,x){return Ce(Ce(d,v[x+1]),v[x+0])},I.Predictor6=function(d,v,x){return Ce(d,v[x-1])},I.Predictor7=function(d,v,x){return Ce(d,v[x+0])},I.Predictor8=function(d,v,x){return Ce(v[x-1],v[x+0])},I.Predictor9=function(d,v,x){return Ce(v[x+0],v[x+1])},I.Predictor10=function(d,v,x){return Ce(Ce(d,v[x-1]),Ce(v[x+0],v[x+1]))},I.Predictor11=function(d,v,x){var E=v[x+0];return 0>=We(E>>24&255,d>>24&255,(v=v[x-1])>>24&255)+We(E>>16&255,d>>16&255,v>>16&255)+We(E>>8&255,d>>8&255,v>>8&255)+We(255&E,255&d,255&v)?E:d},I.Predictor12=function(d,v,x){var E=v[x+0];return(De((d>>24&255)+(E>>24&255)-((v=v[x-1])>>24&255))<<24|De((d>>16&255)+(E>>16&255)-(v>>16&255))<<16|De((d>>8&255)+(E>>8&255)-(v>>8&255))<<8|De((255&d)+(255&E)-(255&v)))>>>0},I.Predictor13=function(d,v,x){var E=v[x-1];return(ze((d=Ce(d,v[x+0]))>>24&255,E>>24&255)<<24|ze(d>>16&255,E>>16&255)<<16|ze(d>>8&255,E>>8&255)<<8|ze(d>>0&255,E>>0&255))>>>0};var Gd=I.PredictorAdd0;I.PredictorAdd1=it,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var Ms=I.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var il,gr=I.ColorIndexInverseTransform,Ca=I.MapARGB,al=I.VP8LColorIndexInverseTransformAlpha,sl=I.MapAlpha,Ko=I.VP8LPredictorsAdd=[];Ko.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var qi,Kn,zn,Zo,Eo,Po,Oa,Io,sn,Ds,Gn,mr,ka,ul,Fs,Ti,Mi,Jo,Di,Ra,Fi,Qo,js,yr,br,Gt,Ut,un,An=i(511),Lo=i(2041),$s=i(225),qa=i(767),ll=0,Ud=Lo,cl=$s,ar=qa,_r=An,dl=0,fl=1,$m=2,hl=3,pl=4,Vd=5,Bm=6,Hd=7,Wd=8,vl=9,Yd=10,TS=[2,3,7],MS=[3,3,11],zm=[280,256,256,256,40],DS=[0,1,1,1,0],FS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],jS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$S=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],BS=8,Xd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bs=null,zS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],GS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],US=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],VS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],HS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],WS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ei=[],qr=[],Co=[],YS=1,Um=2,ti=[],wr=[];Oe("UpsampleRgbLinePair",Nt,3),Oe("UpsampleBgrLinePair",Qt,3),Oe("UpsampleRgbaLinePair",Rr,4),Oe("UpsampleBgraLinePair",En,4),Oe("UpsampleArgbLinePair",Tn,4),Oe("UpsampleRgba4444LinePair",vn,2),Oe("UpsampleRgb565LinePair",nn,2);var XS=I.UpsampleRgbLinePair,KS=I.UpsampleBgrLinePair,Vm=I.UpsampleRgbaLinePair,Hm=I.UpsampleBgraLinePair,Wm=I.UpsampleArgbLinePair,Ym=I.UpsampleRgba4444LinePair,ZS=I.UpsampleRgb565LinePair,gl=16,ml=1<<gl-1,zs=-227,Zd=482,JS=6,Xm=0,QS=i(256),eA=i(256),tA=i(256),nA=i(256),rA=i(Zd-zs),oA=i(Zd-zs);ao("YuvToRgbRow",Nt,3),ao("YuvToBgrRow",Qt,3),ao("YuvToRgbaRow",Rr,4),ao("YuvToBgraRow",En,4),ao("YuvToArgbRow",Tn,4),ao("YuvToRgba4444Row",vn,2),ao("YuvToRgb565Row",nn,2);var Km=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yl=[0,2,8],iA=[8,7,6,4,4,2,2,2,1,1,1,1],aA=1;this.WebPDecodeRGBA=function(d,v,x,E,q){var $=fl,z=new Sa,Y=new Er;z.ba=Y,Y.S=$,Y.width=[Y.width],Y.height=[Y.height];var J=Y.width,re=Y.height,fe=new xo;if(fe==null||d==null)var Se=2;else t(fe!=null),Se=Na(d,v,x,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Se!=0?J=0:(J!=null&&(J[0]=fe.width[0]),re!=null&&(re[0]=fe.height[0]),J=1),J){Y.width=Y.width[0],Y.height=Y.height[0],E!=null&&(E[0]=Y.width),q!=null&&(q[0]=Y.height);e:{if(E=new ga,(q=new Ps).data=d,q.w=v,q.ha=x,q.kd=1,v=[0],t(q!=null),((d=Na(q.data,q.w,q.ha,null,null,null,v,null,q))==0||d==7)&&v[0]&&(d=4),(v=d)==0){if(t(z!=null),E.data=q.data,E.w=q.w+q.offset,E.ha=q.ha-q.offset,E.put=Qr,E.ac=On,E.bc=eo,E.ma=z,q.xa){if((d=vr())==null){z=1;break e}if(function(Ae,ge){var Me=[0],Le=[0],he=[0];t:for(;;){if(Ae==null)return 0;if(ge==null)return Ae.a=2,0;if(Ae.l=ge,Ae.a=0,U(Ae.m,ge.data,ge.w,ge.ha),!at(Ae.m,Me,Le,he)){Ae.a=3;break t}if(Ae.xb=Um,ge.width=Me[0],ge.height=Le[0],!ro(Me[0],Le[0],1,Ae,null))break t;return 1}return t(Ae.a!=0),0}(d,E)){if(E=(v=Ea(E.width,E.height,z.Oa,z.ba))==0){t:{E=d;n:for(;;){if(E==null){E=0;break t}if(t(E.s.yc!=null),t(E.s.Ya!=null),t(0<E.s.Wb),t((x=E.l)!=null),t((q=x.ma)!=null),E.xb!=0){if(E.ca=q.ba,E.tb=q.tb,t(E.ca!=null),!Rs(q.Oa,x,hl)){E.a=2;break n}if(!Li(E,x.width)||x.da)break n;if((x.da||Ct(E.ca.S))&&ye(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&ye()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!ae(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!Cr(E,E.V,E.Ba,E.c,E.i,x.o,ca))break n;q.Dc=E.Ma,E=1;break t}t(E.a!=0),E=0}E=!E}E&&(v=d.a)}else v=d.a}else{if((d=new Ad)==null){z=1;break e}if(d.Fa=q.na,d.P=q.P,d.qc=q.Sa,Gu(d,E)){if((v=Ea(E.width,E.height,z.Oa,z.ba))==0){if(d.Aa=0,x=z.Oa,t((q=d)!=null),x!=null){if(0<(J=0>(J=x.Md)?0:100<J?255:255*J/100)){for(re=fe=0;4>re;++re)12>(Se=q.pb[re]).lc&&(Se.ia=J*iA[0>Se.lc?0:Se.lc]>>3),fe|=Se.ia;fe&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=x.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}Nd(d,E)||(v=d.a)}}else v=d.a}v==0&&z.Oa!=null&&z.Oa.fd&&(v=qs(z.ba))}z=v}$=z!=0?null:11>$?Y.f.RGBA.eb:Y.f.kb.y}else $=null;return $};var Zm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(I,X){for(var H="",P=0;P<4;P++)H+=String.fromCharCode(I[X++]);return H}function c(I,X){return(I[X+0]<<0|I[X+1]<<8|I[X+2]<<16)>>>0}function f(I,X){return(I[X+0]<<0|I[X+1]<<8|I[X+2]<<16|I[X+3]<<24)>>>0}new u;var p=[0],h=[0],g=[],b=new u,w=e,y=function(I,X){var H={},P=0,N=!1,V=0,_=0;if(H.frames=[],!function(W,C,D,G){for(var K=0;K<G;K++)if(W[C+K]!=D.charCodeAt(K))return!0;return!1}(I,X,"RIFF",4)){for(f(I,X+=4),X+=8;X<I.length;){var F=l(I,X),k=f(I,X+=4);X+=4;var Q=k+(1&k);switch(F){case"VP8 ":case"VP8L":H.frames[P]===void 0&&(H.frames[P]={}),(ee=H.frames[P]).src_off=N?_:X-8,ee.src_size=V+k+8,P++,N&&(N=!1,V=0,_=0);break;case"VP8X":(ee=H.header={}).feature_flags=I[X];var U=X+4;ee.canvas_width=1+c(I,U),U+=3,ee.canvas_height=1+c(I,U),U+=3;break;case"ALPH":N=!0,V=Q+8,_=X-8;break;case"ANIM":(ee=H.header).bgcolor=f(I,X),U=X+4,ee.loop_count=(pe=I)[(O=U)+0]<<0|pe[O+1]<<8,U+=2;break;case"ANMF":var ne,ee;(ee=H.frames[P]={}).offset_x=2*c(I,X),X+=3,ee.offset_y=2*c(I,X),X+=3,ee.width=1+c(I,X),X+=3,ee.height=1+c(I,X),X+=3,ee.duration=c(I,X),X+=3,ne=I[X++],ee.dispose=1&ne,ee.blend=ne>>1&1}F!="ANMF"&&(X+=Q)}var pe,O;return H}}(w,0);y.response=w,y.rgbaoutput=!0,y.dataurl=!1;var S=y.header?y.header:null,A=y.frames?y.frames:null;if(S){S.loop_counter=S.loop_count,p=[S.canvas_height],h=[S.canvas_width];for(var L=0;L<A.length&&A[L].blend!=0;L++);}var j=A[0],Z=b.WebPDecodeRGBA(w,j.src_off,j.src_size,h,p);j.rgba=Z,j.imgwidth=h[0],j.imgheight=p[0];for(var M=0;M<h[0]*p[0]*4;M++)g[M]=Z[M];return this.width=h,this.height=p,this.data=g,this}(function(e){var t=function(){return typeof $0=="function"},n=function(p,h,g,b){var w=4,y=a;switch(b){case e.image_compression.FAST:w=1,y=i;break;case e.image_compression.MEDIUM:w=6,y=s;break;case e.image_compression.SLOW:w=9,y=u}p=r(p,h,g,y);var S=$0(p,{level:w});return e.__addimage__.arrayBufferToBinaryString(S)},r=function(p,h,g,b){for(var w,y,S,A=p.length/h,L=new Uint8Array(p.length+A),j=c(),Z=0;Z<A;Z+=1){if(S=Z*h,w=p.subarray(S,S+h),b)L.set(b(w,g,y),S+Z);else{for(var M,I=j.length,X=[];M<I;M+=1)X[M]=j[M](w,g,y);var H=f(X.concat());L.set(X[H],S+Z)}y=w}return L},o=function(p){var h=Array.apply([],p);return h.unshift(0),h},i=function(p,h){var g,b=[],w=p.length;b[0]=1;for(var y=0;y<w;y+=1)g=p[y-h]||0,b[y+1]=p[y]-g+256&255;return b},a=function(p,h,g){var b,w=[],y=p.length;w[0]=2;for(var S=0;S<y;S+=1)b=g&&g[S]||0,w[S+1]=p[S]-b+256&255;return w},s=function(p,h,g){var b,w,y=[],S=p.length;y[0]=3;for(var A=0;A<S;A+=1)b=p[A-h]||0,w=g&&g[A]||0,y[A+1]=p[A]+256-(b+w>>>1)&255;return y},u=function(p,h,g){var b,w,y,S,A=[],L=p.length;A[0]=4;for(var j=0;j<L;j+=1)b=p[j-h]||0,w=g&&g[j]||0,y=g&&g[j-h]||0,S=l(b,w,y),A[j+1]=p[j]-S+256&255;return A},l=function(p,h,g){if(p===h&&h===g)return p;var b=Math.abs(h-g),w=Math.abs(p-g),y=Math.abs(p+h-g-g);return b<=w&&b<=y?p:w<=y?h:g},c=function(){return[o,i,a,s,u]},f=function(p){var h=p.map(function(g){return g.reduce(function(b,w){return b+Math.abs(w)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(p,h,g,b){var w,y,S,A,L,j,Z,M,I,X,H,P,N,V,_,F=this.decode.FLATE_DECODE,k="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(S=new y$(p)).imgData,y=S.bits,w=S.colorSpace,L=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){I=(M=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,H=new Uint8Array(I*S.colors),X=new Uint8Array(I);var Q,U=S.pixelBitlength-S.bits;for(V=0,_=0;V<I;V++){for(N=M[V],Q=0;Q<U;)H[_++]=N>>>Q&255,Q+=S.bits;X[V]=N>>>Q&255}}if(S.bits===16){I=(M=new Uint32Array(S.decodePixels().buffer)).length,H=new Uint8Array(I*(32/S.pixelBitlength)*S.colors),X=new Uint8Array(I*(32/S.pixelBitlength)),P=S.colors>1,V=0,_=0;for(var ne=0;V<I;)N=M[V++],H[_++]=N>>>0&255,P&&(H[_++]=N>>>16&255,N=M[V++],H[_++]=N>>>0&255),X[ne++]=N>>>16&255;y=8}b!==e.image_compression.NONE&&t()?(p=n(H,S.width*S.colors,S.colors,b),Z=n(X,S.width,1,b)):(p=H,Z=X,F=void 0)}if(S.colorType===3&&(w=this.color_spaces.INDEXED,j=S.palette,S.transparency.indexed)){var ee=S.transparency.indexed,pe=0;for(V=0,I=ee.length;V<I;++V)pe+=ee[V];if((pe/=255)===I-1&&ee.indexOf(0)!==-1)A=[ee.indexOf(0)];else if(pe!==I){for(M=S.decodePixels(),X=new Uint8Array(M.length),V=0,I=M.length;V<I;V++)X[V]=ee[M[V]];Z=n(X,S.width,1)}}var O=function(W){var C;switch(W){case e.image_compression.FAST:C=11;break;case e.image_compression.MEDIUM:C=13;break;case e.image_compression.SLOW:C=14;break;default:C=12}return C}(b);return F===this.decode.FLATE_DECODE&&(k="/Predictor "+O+" "),k+="/Colors "+L+" /BitsPerComponent "+y+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(Z&&this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),{alias:g,data:p,index:h,filter:F,decodeParameters:k,transparency:A,palette:j,sMask:Z,predictor:O,width:S.width,height:S.height,bitsPerComponent:y,colorSpace:w}}}})(st.API),function(e){e.processGIF89A=function(t,n,r,o){var i=new b$(t),a=i.width,s=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var l={data:u,width:a,height:s},c=new l0(100).encode(l,100);return e.processJPEG.call(this,c,n,r,o)},e.processGIF87A=e.processGIF89A}(st.API),$r.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:o,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},$r.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Bt.log("bit decode error:"+n)}},$r.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,o=0;o<t;o++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*o*4,s=0;s<8&&8*o+s<this.width;s++){var u=this.palette[i>>7-s&1];this.data[a+4*s]=u.blue,this.data[a+4*s+1]=u.green,this.data[a+4*s+2]=u.red,this.data[a+4*s+3]=255}n!==0&&(this.pos+=4-n)}},$r.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<e;o++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*o*4,s=i>>4,u=15&i,l=this.palette[s];if(this.data[a]=l.blue,this.data[a+1]=l.green,this.data[a+2]=l.red,this.data[a+3]=255,2*o+1>=this.width)break;l=this.palette[u],this.data[a+4]=l.blue,this.data[a+4+1]=l.green,this.data[a+4+2]=l.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},$r.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(o<this.palette.length){var a=this.palette[o];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},$r.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,s=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,l=i>>15?255:0,c=r*this.width*4+4*o;this.data[c]=u,this.data[c+1]=s,this.data[c+2]=a,this.data[c+3]=l}this.pos+=e}},$r.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,u=(a>>5&n)/n*255|0,l=(a>>11)/t*255|0,c=o*this.width*4+4*i;this.data[c]=l,this.data[c+1]=u,this.data[c+2]=s,this.data[c+3]=255}this.pos+=e}},$r.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=i,this.data[a+1]=o,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},$r.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=i,this.data[s+1]=o,this.data[s+2]=r,this.data[s+3]=a}},$r.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,o){var i=new $r(t,!1),a=i.width,s=i.height,u={data:i.getData(),width:a,height:s},l=new l0(100).encode(u,100);return e.processJPEG.call(this,l,n,r,o)}}(st.API),m4.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,o){var i=new m4(t),a=i.width,s=i.height,u={data:i.getData(),width:a,height:s},l=new l0(100).encode(u,100);return e.processJPEG.call(this,l,n,r,o)}}(st.API),st.API.processRGBA=function(e,t,n){for(var r=e.data,o=r.length,i=new Uint8Array(o/4*3),a=new Uint8Array(o/4),s=0,u=0,l=0;l<o;l+=4){var c=r[l],f=r[l+1],p=r[l+2],h=r[l+3];i[s++]=c,i[s++]=f,i[s++]=p,a[u++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},st.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Wa=st.API,Zl=Wa.getCharWidthsArray=function(e,t){var n,r,o=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:o.metadata.Unicode.widths,u=s.fof?s.fof:1,l=t.kerning?t.kerning:o.metadata.Unicode.kerning,c=l.fof?l.fof:1,f=t.doKerning!==!1,p=0,h=e.length,g=0,b=s[0]||u,w=[];for(n=0;n<h;n++)r=e.charCodeAt(n),typeof o.metadata.widthOfString=="function"?w.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(p=f&&Dt(l[r])==="object"&&!isNaN(parseInt(l[r][g],10))?l[r][g]/c:0,w.push((s[r]||b)/u+p)),g=r;return w},h4=Wa.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),o=t.charSpace||this.internal.getCharSpace();return Wa.processArabic&&(e=Wa.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,o)/n:Zl.apply(this,arguments).reduce(function(i,a){return i+a},0)},p4=function(e,t,n,r){for(var o=[],i=0,a=e.length,s=0;i!==a&&s+t[i]<n;)s+=t[i],i++;o.push(e.slice(0,i));var u=i;for(s=0;i!==a;)s+t[i]>r&&(o.push(e.slice(u,i)),s=0,u=i),s+=t[i],i++;return u!==i&&o.push(e.slice(u,i)),o},v4=function(e,t,n){n||(n={});var r,o,i,a,s,u,l,c=[],f=[c],p=n.textIndent||0,h=0,g=0,b=e.split(" "),w=Zl.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var y=Array(u).join(" "),S=[];b.map(function(L){(L=L.split(/\s*\n/)).length>1?S=S.concat(L.map(function(j,Z){return(Z&&j.length?`
`:"")+j})):S.push(L[0])}),b=S,u=h4.apply(this,[y,n])}for(i=0,a=b.length;i<a;i++){var A=0;if(r=b[i],u&&r[0]==`
`&&(r=r.substr(1),A=1),p+h+(g=(o=Zl.apply(this,[r,n])).reduce(function(L,j){return L+j},0))>t||A){if(g>t){for(s=p4.apply(this,[r,o,t-(p+h),t]),c.push(s.shift()),c=[s.pop()];s.length;)f.push([s.shift()]);g=o.slice(r.length-(c[0]?c[0].length:0)).reduce(function(L,j){return L+j},0)}else c=[r];f.push(c),p=g+u,h=w}else c.push(r),p+=h+g,h=w}return l=u?function(L,j){return(j?y:"")+L.join(" ")}:function(L){return L.join(" ")},f.map(l)},Wa.splitTextToSize=function(e,t,n){var r,o=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/o;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,i.lineIndent=n.lineIndent;var s,u,l=[];for(s=0,u=r.length;s<u;s++)l=l.concat(v4.apply(this,[r[s],a,i]));return l},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},o=0;o<t.length;o++)n[t[o]]="0123456789abcdef"[o],r["0123456789abcdef"[o]]=t[o];var i=function(f){return"0x"+parseInt(f,10).toString(16)},a=e.__fontmetrics__.compress=function(f){var p,h,g,b,w=["{"];for(var y in f){if(p=f[y],isNaN(parseInt(y,10))?h="'"+y+"'":(y=parseInt(y,10),h=(h=i(y).slice(2)).slice(0,-1)+r[h.slice(-1)]),typeof p=="number")p<0?(g=i(p).slice(3),b="-"):(g=i(p).slice(2),b=""),g=b+g.slice(0,-1)+r[g.slice(-1)];else{if(Dt(p)!=="object")throw new Error("Don't know what to do with value type "+Dt(p)+".");g=a(p)}w.push(h+g)}return w.push("}"),w.join("")},s=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,g,b,w={},y=1,S=w,A=[],L="",j="",Z=f.length-1,M=1;M<Z;M+=1)(b=f[M])=="'"?p?(g=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(A.push([S,g]),S={},g=void 0):b=="}"?((h=A.pop())[0][h[1]]=S,g=void 0,S=h[0]):b=="-"?y=-1:g===void 0?n.hasOwnProperty(b)?(L+=n[b],g=parseInt(L,16)*y,y=1,L=""):L+=b:n.hasOwnProperty(b)?(j+=n[b],S[g]=parseInt(j,16)*y,y=1,g=void 0,j=""):j+=b;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},c={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var p=f.font,h=c.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var g=l.Unicode[p.postScriptName];g&&(p.metadata.Unicode.encoding=g,p.encoding=g.codePages[0])}])}(st.API),function(e){var t=function(n){for(var r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);return o};e.API.events.push(["addFont",function(n){var r=void 0,o=n.font,i=n.instance;if(!o.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(r=i.existsFileInVFS(o.postScriptName)===!1?i.loadFile(o.postScriptName):i.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(a,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(vu(s)),a.metadata=e.API.TTFFont.open(s),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(o,r)}}])}(st),function(e){function t(){return(lt.canvg?Promise.resolve(lt.canvg):Zt(()=>import("./index.es-BmcfyYKw.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}st.API.addSvgAsImage=function(n,r,o,i,a,s,u,l){if(isNaN(r)||isNaN(o))throw Bt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Bt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=a;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(g){return g.fromString(f,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(p)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),r,o,i,a,u,l)})}}(),st.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var o=0;o<this.internal.pages[r].length;o++)this.internal.pages[r][o]=this.internal.pages[r][o].replace(t,n);return this},st.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,o,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),u=[],l=0,c=0,f=0;function p(g,b){var w,y=!1;for(w=0;w<g.length;w+=1)g[w]===b&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=s.length;for(f=0;f<h;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if(Dt(e)==="object"){for(o in e)if(i=e[o],p(s,o)&&i!==void 0){if(n[o].type==="boolean"&&typeof i=="boolean")n[o].value=i;else if(n[o].type==="name"&&p(n[o].valueSet,i))n[o].value=i;else if(n[o].type==="integer"&&Number.isInteger(i))n[o].value=i;else if(n[o].type==="array"){for(l=0;l<i.length;l+=1)if(r=!0,i[l].length===1&&typeof i[l][0]=="number")u.push(String(i[l]-1));else if(i[l].length>1){for(c=0;c<i[l].length;c+=1)typeof i[l][c]!="number"&&(r=!1);r===!0&&u.push([i[l][0]-1,i[l][1]-1].join(" "))}n[o].value="["+u.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,b=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?b.push("/"+g+" /"+n[g].value):b.push("/"+g+" "+n[g].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),l=i.length+a.length+s.length+o.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(o+i+a+s+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(st.API),function(e){var t=e.API,n=t.pdfEscape16=function(i,a){for(var s,u=a.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],f=0,p=i.length;f<p;++f){if(s=a.metadata.characterToGlyph(i.charCodeAt(f)),a.metadata.glyIdsUsed.push(s),a.metadata.toUnicode[s]=i.charCodeAt(f),u.indexOf(s)==-1&&(u.push(s),u.push([parseInt(a.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(l[4-s.length],s)}return c.join("")},r=function(i){var a,s,u,l,c,f,p;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],f=0,p=(s=Object.keys(i).sort(function(h,g){return h-g})).length;f<p;f++)a=s[f],u.length>=100&&(c+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(l=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+l+">"));return u.length&&(c+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var s=a.font,u=a.out,l=a.newObject,c=a.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),h="",g=0;g<p.length;g++)h+=String.fromCharCode(p[g]);var b=l();c({data:h,addLength1:!0,objectId:b}),u("endobj");var w=l();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var y=l();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Xa(s.fontName)),u("/FontFile2 "+b+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),u("/Flags "+s.metadata.flags),u("/StemV "+s.metadata.stemV),u("/ItalicAngle "+s.metadata.italicAngle),u("/Ascent "+s.metadata.ascender),u("/Descent "+s.metadata.decender),u("/CapHeight "+s.metadata.capHeight),u(">>"),u("endobj");var S=l();u("<<"),u("/Type /Font"),u("/BaseFont /"+Xa(s.fontName)),u("/FontDescriptor "+y+" 0 R"),u("/W "+e.API.PDFObject.convert(f)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+s.encoding+")"),u(">>"),u(">>"),u("endobj"),s.objectNumber=l(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+w+" 0 R"),u("/BaseFont /"+Xa(s.fontName)),u("/Encoding /"+s.encoding),u("/DescendantFonts ["+S+" 0 R]"),u(">>"),u("endobj"),s.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var s=a.font,u=a.out,l=a.newObject,c=a.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var g=l();c({data:p,addLength1:!0,objectId:g}),u("endobj");var b=l();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:b}),u("endobj");var w=l();u("<<"),u("/Descent "+s.metadata.decender),u("/CapHeight "+s.metadata.capHeight),u("/StemV "+s.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+g+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),u("/FontName /"+Xa(s.fontName)),u("/ItalicAngle "+s.metadata.italicAngle),u("/Ascent "+s.metadata.ascender),u(">>"),u("endobj"),s.objectNumber=l();for(var y=0;y<s.metadata.hmtx.widths.length;y++)s.metadata.hmtx.widths[y]=parseInt(s.metadata.hmtx.widths[y]*(1e3/s.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Xa(s.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),u("endobj"),s.isAlreadyPutted=!0}})(i)}]);var o=function(i){var a,s=i.text||"",u=i.x,l=i.y,c=i.options||{},f=i.mutex||{},p=f.pdfEscape,h=f.activeFontKey,g=f.fonts,b=h,w="",y=0,S="",A=g[b].encoding;if(g[b].encoding!=="Identity-H")return{text:s,x:u,y:l,options:c,mutex:f};for(S=s,b=h,Array.isArray(s)&&(S=s[0]),y=0;y<S.length;y+=1)g[b].metadata.hasOwnProperty("cmap")&&(a=g[b].metadata.cmap.unicode.codeMap[S[y].charCodeAt(0)]),a||S[y].charCodeAt(0)<256&&g[b].metadata.hasOwnProperty("Unicode")?w+=S[y]:w+="";var L="";return parseInt(b.slice(1))<14||A==="WinAnsiEncoding"?L=p(w,b).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(L=n(w,g[b])),f.isHex=!0,{text:L,x:u,y:l,options:c,mutex:f}};t.events.push(["postProcessText",function(i){var a=i.text||"",s=[],u={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var l=0;for(l=0;l<a.length;l+=1)Array.isArray(a[l])&&a[l].length===3?s.push([o(Object.assign({},u,{text:a[l][0]})).text,a[l][1],a[l][2]]):s.push(o(Object.assign({},u,{text:a[l]})).text);i.text=s}else i.text=o(Object.assign({},u,{text:a})).text}])}(st),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(st.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var o,i,a,s,u,l,c,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,A=0;this.__bidiEngine__={};var L=function(P){var N=P.charCodeAt(),V=N>>8,_=b[V];return _!==void 0?f[256*_+(255&N)]:V===252||V===253?"AL":y.test(V)?"L":V===8?"R":"N"},j=function(P){for(var N,V=0;V<P.length;V++){if((N=L(P.charAt(V)))==="L")return!1;if(N==="R")return!0}return!1},Z=function(P,N,V,_){var F,k,Q,U,ne=N[_];switch(ne){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(ne="AN");break;case"AL":S=!0,ne="R";break;case"WS":ne="N";break;case"CS":_<1||_+1>=N.length||(F=V[_-1])!=="EN"&&F!=="AN"||(k=N[_+1])!=="EN"&&k!=="AN"?ne="N":S&&(k="AN"),ne=k===F?k:"N";break;case"ES":ne=(F=_>0?V[_-1]:"B")==="EN"&&_+1<N.length&&N[_+1]==="EN"?"EN":"N";break;case"ET":if(_>0&&V[_-1]==="EN"){ne="EN";break}if(S){ne="N";break}for(Q=_+1,U=N.length;Q<U&&N[Q]==="ET";)Q++;ne=Q<U&&N[Q]==="EN"?"EN":"N";break;case"NSM":if(a&&!s){for(U=N.length,Q=_+1;Q<U&&N[Q]==="NSM";)Q++;if(Q<U){var ee=P[_],pe=ee>=1425&&ee<=2303||ee===64286;if(F=N[Q],pe&&(F==="R"||F==="AL")){ne="R";break}}}ne=_<1||(F=N[_-1])==="B"?"N":V[_-1];break;case"B":S=!1,o=!0,ne=A;break;case"S":i=!0,ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":ne="N"}return ne},M=function(P,N,V){var _=P.split("");return V&&I(_,V,{hiLevel:A}),_.reverse(),N&&N.reverse(),_.join("")},I=function(P,N,V){var _,F,k,Q,U,ne=-1,ee=P.length,pe=0,O=[],W=A?h:p,C=[];for(S=!1,o=!1,i=!1,F=0;F<ee;F++)C[F]=L(P[F]);for(k=0;k<ee;k++){if(U=pe,O[k]=Z(P,C,O,k),_=240&(pe=W[U][g[O[k]]]),pe&=15,N[k]=Q=W[pe][5],_>0)if(_===16){for(F=ne;F<k;F++)N[F]=1;ne=-1}else ne=-1;if(W[pe][6])ne===-1&&(ne=k);else if(ne>-1){for(F=ne;F<k;F++)N[F]=Q;ne=-1}C[k]==="B"&&(N[k]=0),V.hiLevel|=Q}i&&function(D,G,K){for(var te=0;te<K;te++)if(D[te]==="S"){G[te]=A;for(var ce=te-1;ce>=0&&D[ce]==="WS";ce--)G[ce]=A}}(C,N,ee)},X=function(P,N,V,_,F){if(!(F.hiLevel<P)){if(P===1&&A===1&&!o)return N.reverse(),void(V&&V.reverse());for(var k,Q,U,ne,ee=N.length,pe=0;pe<ee;){if(_[pe]>=P){for(U=pe+1;U<ee&&_[U]>=P;)U++;for(ne=pe,Q=U-1;ne<Q;ne++,Q--)k=N[ne],N[ne]=N[Q],N[Q]=k,V&&(k=V[ne],V[ne]=V[Q],V[Q]=k);pe=U}pe++}}},H=function(P,N,V){var _=P.split(""),F={hiLevel:A};return V||(V=[]),I(_,V,F),function(k,Q,U){if(U.hiLevel!==0&&c)for(var ne,ee=0;ee<k.length;ee++)Q[ee]===1&&(ne=w.indexOf(k[ee]))>=0&&(k[ee]=w[ne+1])}(_,V,F),X(2,_,N,V,F),X(1,_,N,V,F),_.join("")};return this.__bidiEngine__.doBidiReorder=function(P,N,V){if(function(F,k){if(k)for(var Q=0;Q<F.length;Q++)k[Q]=Q;s===void 0&&(s=j(F)),l===void 0&&(l=j(F))}(P,N),a||!u||l)if(a&&u&&s^l)A=s?1:0,P=M(P,N,V);else if(!a&&u&&l)A=s?1:0,P=H(P,N,V),P=M(P,N);else if(!a||s||u||l){if(a&&!u&&s^l)P=M(P,N),s?(A=0,P=H(P,N,V)):(A=1,P=H(P,N,V),P=M(P,N));else if(a&&s&&!u&&l)A=1,P=H(P,N,V),P=M(P,N);else if(!a&&!u&&s^l){var _=c;s?(A=1,P=H(P,N,V),A=0,c=!1,P=H(P,N,V),c=_):(A=0,P=H(P,N,V),P=M(P,N),A=1,c=!1,P=H(P,N,V),c=_,P=M(P,N))}}else A=0,P=H(P,N,V);else A=s?1:0,P=H(P,N,V);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,u=P.isOutputVisual,s=P.isInputRtl,l=P.isOutputRtl,c=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var o=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(o)==="[object Array]"){var s=0;for(a=[],s=0;s<o.length;s+=1)Object.prototype.toString.call(o[s])==="[object Array]"?a.push([n.doBidiReorder(o[s][0]),o[s][1],o[s][2]]):a.push([n.doBidiReorder(o[s])]);r.text=a}else r.text=n.doBidiReorder(o);n.setOptions({isInputVisual:!0})}])}(st),st.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Ni(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new q$(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new _$(this.contents),this.head=new x$(this),this.name=new P$(this),this.cmap=new RS(this),this.toUnicode={},this.hhea=new S$(this),this.maxp=new I$(this),this.hmtx=new L$(this),this.post=new N$(this),this.os2=new A$(this),this.loca=new R$(this),this.glyf=new C$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,o,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,s,u,l;for(l=[],a=0,s=(u=this.bbox).length;a<s;a++)t=u[a],l.push(Math.round(t*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(r=255&(o=this.post.italic_angle),(32768&(n=o>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var o,i,a,s;for(a=0,i=0,s=(t=""+t).length;0<=s?i<s:i>s;i=0<=s?++i:--i)o=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(o))+r*(1e3/n)||0;return a*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Zr,Ni=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,o;for(o=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)o.push(this.writeByte(t.charCodeAt(n)));return o},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,o,i,a,s,u;return t=this.readByte(),n=this.readByte(),r=this.readByte(),o=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^o)+16777216*(255^i)+65536*(255^a)+256*(255^s)+(255^u)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*o+16777216*i+65536*a+256*s+u},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,o,i;for(i=[],r=0,o=t.length;r<o;r++)n=t[r],i.push(this.writeByte(n));return i},e}(),_$=function(){var e;function t(n){var r,o,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},o=0,i=this.tableCount;0<=i?o<i:o>i;o=0<=i?++o:--o)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,o,i,a,s,u,l,c,f,p,h,g,b;for(b in h=Object.keys(n).length,u=Math.log(2),f=16*Math.floor(Math.log(h)/u),a=Math.floor(f/u),c=16*h-f,(o=new Ni).writeInt(this.scalarType),o.writeShort(h),o.writeShort(f),o.writeShort(a),o.writeShort(c),i=16*h,l=o.pos+i,s=null,g=[],n)for(p=n[b],o.writeString(b),o.writeInt(e(p)),o.writeInt(l),o.writeInt(p.length),g=g.concat(p),b==="head"&&(s=l),l+=p.length;l%4;)g.push(0),l++;return o.write(g),r=2981146554-e(o.data),o.pos=s+8,o.writeUInt32(r),o.data},e=function(n){var r,o,i,a;for(n=qS.call(n);n.length%4;)n.push(0);for(i=new Ni(n),o=0,r=0,a=n.length;r<a;r=r+=4)o+=i.readUInt32();return 4294967295&o},t}(),w$={}.hasOwnProperty,wo=function(e,t){for(var n in t)w$.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Zr=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var x$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Zr),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Ni).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),y4=function(){function e(t,n){var r,o,i,a,s,u,l,c,f,p,h,g,b,w,y,S,A;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,i=function(){var L,j;for(j=[],u=L=0;0<=p?L<p:L>p;u=0<=p?++L:--L)j.push(t.readUInt16());return j}(),t.pos+=2,b=function(){var L,j;for(j=[],u=L=0;0<=p?L<p:L>p;u=0<=p?++L:--L)j.push(t.readUInt16());return j}(),l=function(){var L,j;for(j=[],u=L=0;0<=p?L<p:L>p;u=0<=p?++L:--L)j.push(t.readUInt16());return j}(),c=function(){var L,j;for(j=[],u=L=0;0<=p?L<p:L>p;u=0<=p?++L:--L)j.push(t.readUInt16());return j}(),o=(this.length-t.pos+this.offset)/2,s=function(){var L,j;for(j=[],u=L=0;0<=o?L<o:L>o;u=0<=o?++L:--L)j.push(t.readUInt16());return j}(),u=y=0,A=i.length;y<A;u=++y)for(w=i[u],r=S=g=b[u];g<=w?S<=w:S>=w;r=g<=w?++S:--S)c[u]===0?a=r+l[u]:(a=s[c[u]/2+(r-g)-(p-u)]||0)!==0&&(a+=l[u]),this.codeMap[r]=65535&a}t.pos=f}return e.encode=function(t,n){var r,o,i,a,s,u,l,c,f,p,h,g,b,w,y,S,A,L,j,Z,M,I,X,H,P,N,V,_,F,k,Q,U,ne,ee,pe,O,W,C,D,G,K,te,ce,Ee,we,ke;switch(_=new Ni,a=Object.keys(t).sort(function(_e,ae){return _e-ae}),n){case"macroman":for(b=0,w=function(){var _e=[];for(g=0;g<256;++g)_e.push(0);return _e}(),S={0:0},i={},F=0,ne=a.length;F<ne;F++)S[ce=t[o=a[F]]]==null&&(S[ce]=++b),i[o]={old:t[o],new:S[t[o]]},w[o]=S[t[o]];return _.writeUInt16(1),_.writeUInt16(0),_.writeUInt32(12),_.writeUInt16(0),_.writeUInt16(262),_.writeUInt16(0),_.write(w),{charMap:i,subtable:_.data,maxGlyphID:b+1};case"unicode":for(N=[],f=[],A=0,S={},r={},y=l=null,k=0,ee=a.length;k<ee;k++)S[j=t[o=a[k]]]==null&&(S[j]=++A),r[o]={old:j,new:S[j]},s=S[j]-o,y!=null&&s===l||(y&&f.push(y),N.push(o),l=s),y=o;for(y&&f.push(y),f.push(65535),N.push(65535),H=2*(X=N.length),I=2*Math.pow(Math.log(X)/Math.LN2,2),p=Math.log(I/2)/Math.LN2,M=2*X-I,u=[],Z=[],h=[],g=Q=0,pe=N.length;Q<pe;g=++Q){if(P=N[g],c=f[g],P===65535){u.push(0),Z.push(0);break}if(P-(V=r[P].new)>=32768)for(u.push(0),Z.push(2*(h.length+X-g)),o=U=P;P<=c?U<=c:U>=c;o=P<=c?++U:--U)h.push(r[o].new);else u.push(V-P),Z.push(0)}for(_.writeUInt16(3),_.writeUInt16(1),_.writeUInt32(12),_.writeUInt16(4),_.writeUInt16(16+8*X+2*h.length),_.writeUInt16(0),_.writeUInt16(H),_.writeUInt16(I),_.writeUInt16(p),_.writeUInt16(M),K=0,O=f.length;K<O;K++)o=f[K],_.writeUInt16(o);for(_.writeUInt16(0),te=0,W=N.length;te<W;te++)o=N[te],_.writeUInt16(o);for(Ee=0,C=u.length;Ee<C;Ee++)s=u[Ee],_.writeUInt16(s);for(we=0,D=Z.length;we<D;we++)L=Z[we],_.writeUInt16(L);for(ke=0,G=h.length;ke<G;ke++)b=h[ke],_.writeUInt16(b);return{charMap:r,subtable:_.data,maxGlyphID:A+1}}},e}(),RS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Zr),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,o,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r=new y4(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var o,i;return r==null&&(r="macroman"),o=y4.encode(n,r),(i=new Ni).writeUInt16(0),i.writeUInt16(1),o.table=i.data.concat(o.subtable),o},t}(),S$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Zr),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),A$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Zr),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,o;for(o=[],r=0;r<10;++r)o.push(n.readByte());return o}(),this.charRange=function(){var r,o;for(o=[],r=0;r<4;++r)o.push(n.readInt());return o}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,o;for(o=[],r=0;r<2;r=++r)o.push(n.readInt());return o}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),N$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Zr),t.prototype.tag="post",t.prototype.parse=function(n){var r,o,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(o=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)r=n.readByte(),i.push(this.names.push(n.readString(r)));return i;case 151552:return o=n.readUInt16(),this.offsets=n.read(o);case 196608:break;case 262144:return this.map=(function(){var s,u,l;for(l=[],a=s=0,u=this.file.maxp.numGlyphs;0<=u?s<u:s>u;a=0<=u?++s:--s)l.push(n.readUInt32());return l}).call(this)}},t}(),E$=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},P$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Zr),t.prototype.tag="name",t.prototype.parse=function(n){var r,o,i,a,s,u,l,c,f,p,h;for(n.pos=this.offset,n.readShort(),r=n.readShort(),u=n.readShort(),o=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)o.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(l={},a=f=0,p=o.length;f<p;a=++f)i=o[a],n.pos=i.offset,c=n.readString(i.length),s=new E$(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),I$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Zr),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),L$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Zr),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,o,i,a,s,u,l;for(n.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)f.push(n.readInt16());return f}(),this.widths=(function(){var c,f,p,h;for(h=[],c=0,f=(p=this.metrics).length;c<f;c++)a=p[c],h.push(a.advance);return h}).call(this),o=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(o));return l},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),qS=[].slice,C$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Zr),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,o,i,a,s,u,l,c,f,p;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,o=a.indexOf(n),(i=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+o,s=(u=new Ni(r.read(i))).readShort(),c=u.readShort(),p=u.readShort(),l=u.readShort(),f=u.readShort(),this.cache[n]=s===-1?new k$(u,c,p,l,f):new O$(u,s,c,p,l,f),this.cache[n]))},t.prototype.encode=function(n,r,o){var i,a,s,u,l;for(s=[],a=[],u=0,l=r.length;u<l;u++)i=n[r[u]],a.push(s.length),i&&(s=s.concat(i.encode(o)));return a.push(s.length),{table:s,offsets:a}},t}(),O$=function(){function e(t,n,r,o,i,a){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=o,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),k$=function(){function e(t,n,r,o,i){var a,s;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=o,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;s=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&s;)a.pos+=1&s?4:2,128&s?a.pos+=8:64&s?a.pos+=4:8&s&&(a.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Ni(qS.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),R$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return wo(t,Zr),t.prototype.tag="loca",t.prototype.parse=function(n){var r,o;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],o=0,i=this.length;o<i;o+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],o=0,i=this.length;o<i;o+=4)a.push(n.readUInt32());return a}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var o=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<o.length;++s)if(o[s]=i,a<r.length&&r[a]==s){++a,o[s]=i;var u=this.offsets[s],l=this.offsets[s+1]-u;l>0&&(i+=l)}for(var c=new Array(4*o.length),f=0;f<o.length;++f)c[4*f+3]=255&o[f],c[4*f+2]=(65280&o[f])>>8,c[4*f+1]=(16711680&o[f])>>16,c[4*f]=(4278190080&o[f])>>24;return c},t}(),q$=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,o,i;for(n in o=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[n],t[n]=o[r];return t},e.prototype.glyphsFor=function(t){var n,r,o,i,a,s,u;for(o={},a=0,s=t.length;a<s;a++)o[i=t[a]]=this.font.glyf.glyphFor(i);for(i in n=[],o)(r=o[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in u=this.glyphsFor(n))r=u[i],o[i]=r;return o},e.prototype.encode=function(t,n){var r,o,i,a,s,u,l,c,f,p,h,g,b,w,y;for(o in r=RS.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),h={0:0},y=r.charMap)h[(u=y[o]).old]=u.new;for(g in p=r.maxGlyphID,a)g in h||(h[g]=p++);return c=function(S){var A,L;for(A in L={},S)L[S[A]]=A;return L}(h),f=Object.keys(c).sort(function(S,A){return S-A}),b=function(){var S,A,L;for(L=[],S=0,A=f.length;S<A;S++)s=f[S],L.push(c[s]);return L}(),i=this.font.glyf.encode(a,b,h),l=this.font.loca.encode(i.offsets,b),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e}();st.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,o,i,a;if(Array.isArray(n))return"["+function(){var s,u,l;for(l=[],s=0,u=n.length;s<u;s++)r=n[s],l.push(t.convert(r));return l}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(o in i=["<<"],n)a=n[o],i.push("/"+o+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+n},t}();const T$={key:0,class:"banner-superior"},M$={class:"ml-2"},D$={class:"project-overlay"},F$={class:"project-metadata"},j$={key:0},$$={__name:"EditorEstructuraMain",setup(e){const t=Ht("proyectoEstructura"),n=Ue(!1),r=Ue([]),o=Ue([]),i=Ue([]),a=Ue([]),{fitView:s,onNodeDoubleClick:u,getNodes:l,getEdges:c,addNodes:f,removeNodes:p}=ut();u(V=>{console.log(V),b.value=V.node,console.log(b.value)});const{mensaje:h,executeAccion:g}=HF();Sr(()=>{r.value=t.value.mapa_nodo.nodos,o.value=t.value.mapa_nodo.conexiones;const V=LM(r.value,o.value,"TB");i.value=V.nodes,a.value=V.edges,setTimeout(()=>{s({padding:.3,maxZoom:.5,minZoom:.5,duration:800})},100)});const b=Ue(null),w=()=>{n.value=!0},y=Ue(!1);kt(h,V=>{y.value=!!V});const S=Qe(()=>[{icon:"mdi-bank-plus",color:"primary",tooltip:"Administrar financiadores",action:w},{icon:"mdi-fit-to-page",color:"info",tooltip:"Ajustar vista",action:()=>s()},{icon:"mdi-image",color:"purple",tooltip:"Exportar a PNG",action:()=>I("png")},{icon:"mdi-image",color:"green",tooltip:"Exportar a JPEG",action:()=>I("jpeg")},{icon:"mdi-file-pdf-box",color:"red",tooltip:"Exportar a PDF",action:X},{icon:"mdi-microsoft-excel",color:"green",tooltip:"Exportar a Excel",action:H},{icon:"mdi-code-json",color:"amber",tooltip:"Exportar a JSON",action:P},{icon:"mdi-graphql",color:"orange",tooltip:"Exportar a GraphML",action:N}]),A={proyecto:ln(()=>Zt(()=>import("./ProyectoNodoForm-Bb9EdFB2.js"),__vite__mapDeps([17,4,5,18,19,6,13,3,7,8,9,10,11,12,2,14,15,16]))),kpi:ln(()=>Zt(()=>import("./KpiNodoForm-BwQ6Mblx.js"),__vite__mapDeps([20,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),objetivogeneral:ln(()=>Zt(()=>import("./ObjetivoGralNodoForm-D5VHvhZm.js"),__vite__mapDeps([21,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),objetivoespecifico:ln(()=>Zt(()=>import("./ObjetivoEspecNodoForm-DH8prtXc.js"),__vite__mapDeps([22,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),objetivoespecificoog:ln(()=>Zt(()=>import("./ObjetivoEspecOgNodoForm-CXplMPjG.js"),__vite__mapDeps([23,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),indicadorog:ln(()=>Zt(()=>import("./IndicadorOgNodoForm-BL5ZmESz.js"),__vite__mapDeps([24,4,5,18,3,6,7,8,9,10,11,12,2,13,14,15,16]))),indicadoroe:ln(()=>Zt(()=>import("./IndicadorOeNodoForm-C5rdevM0.js"),__vite__mapDeps([25,4,5,18,3,6,7,8,9,10,11,12,2,13,14,15,16]))),resultadoog:ln(()=>Zt(()=>import("./ResultadoOgNodoForm-CXUrtrQa.js"),__vite__mapDeps([26,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),resultadooe:ln(()=>Zt(()=>import("./ResultadoOeNodoForm-bp-Xv6bR.js"),__vite__mapDeps([27,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),productooe:ln(()=>Zt(()=>import("./ProductoOeNodoForm-DtbjxAA4.js"),__vite__mapDeps([28,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),productoroe:ln(()=>Zt(()=>import("./ProductoResultOeNodoForm-CI1mszQm.js"),__vite__mapDeps([29,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),indicadorrog:ln(()=>Zt(()=>import("./IndicadorResOgNodoForm-Bjet_5h0.js"),__vite__mapDeps([30,4,5,18,3,6,7,8,9,10,11,12,2,13,14,15,16]))),indicadorroe:ln(()=>Zt(()=>import("./IndicadorResOeNodoForm-BweX6q2d.js"),__vite__mapDeps([31,4,5,18,3,6,7,8,9,10,11,12,2,13,14,15,16]))),procesorog:ln(()=>Zt(()=>import("./ProcesoResultadoOgNodoForm-D2y2xsld.js"),__vite__mapDeps([32,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),procesoroe:ln(()=>Zt(()=>import("./ProcesoResultadoOeNodoForm-C2ZI0Cac.js"),__vite__mapDeps([33,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),procesopoe:ln(()=>Zt(()=>import("./ProcesoProdOeNodoForm-CWYqjwk9.js"),__vite__mapDeps([34,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),actividadrog:ln(()=>Zt(()=>import("./ActividadResOgNodoForm-DFbXhG4c.js"),__vite__mapDeps([35,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),actividadpoe:ln(()=>Zt(()=>import("./ActividadProdOeNodoForm-Ck_chesE.js"),__vite__mapDeps([36,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),actividadroe:ln(()=>Zt(()=>import("./ActividadResulOeNodoForm-Cmkc8SLa.js"),__vite__mapDeps([37,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),actividad:ln(()=>Zt(()=>import("./ActividadNodoForm-DkHu-IxH.js"),__vite__mapDeps([38,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16]))),productogral:ln(()=>Zt(()=>import("./ProductoGralNodo-C301Sf2Q.js"),__vite__mapDeps([39,4,5,3,6,7,8,9,10,11,12,2,13,14,15,16])))},L=Qe(()=>b.value&&A[b.value.type]||null),j=V=>{alert("actualizar"),console.log(V)},Z=()=>{},M=Ue(null),I=async(V="png")=>{const _=M.value;if(!_){console.error("No se pudo acceder al contenedor del diagrama");return}try{const F=_.$el,k={backgroundColor:"#ffffff",quality:.95,pixelRatio:2,filter:ne=>{var ee,pe,O;return!((ee=ne.classList)!=null&&ee.contains("vue-flow__controls")||(pe=ne.classList)!=null&&pe.contains("vue-flow__minimap")||(O=ne.classList)!=null&&O.contains("tool-panel"))}};let Q;switch(V){case"png":Q=await J3(F,k);break;case"jpeg":Q=await Dj(F,k);break;case"svg":Q=await fS(F,k);break;default:throw new Error(`Tipo de exportación no soportado: ${V}`)}const U=document.createElement("a");U.href=Q,U.download=`diagrama-${new Date().toISOString().slice(0,10)}.${V}`,U.click()}catch(F){console.error("Error al exportar diagrama:",F),alert(`Error al exportar: ${F.message}`)}},X=async()=>{const V=M.value;if(!V){console.error("No se pudo acceder al contenedor del diagrama");return}try{y.value=!0,h.value="Generando PDF, por favor espere...";const _=V.$el,k=await J3(_,{backgroundColor:"#ffffff",pixelRatio:2,filter:D=>{var G,K,te;return!((G=D.classList)!=null&&G.contains("vue-flow__controls")||(K=D.classList)!=null&&K.contains("vue-flow__minimap")||(te=D.classList)!=null&&te.contains("tool-panel"))}}),Q=new st({orientation:"landscape",unit:"mm"}),U=Q.internal.pageSize.getWidth(),ne=Q.internal.pageSize.getHeight(),ee=Q.getImageProperties(k),pe=U-20,O=ee.height*pe/ee.width,W=(U-pe)/2,C=(ne-O)/2;Q.addImage(k,"PNG",W,C,pe,O),Q.save(`diagrama-${new Date().toISOString().slice(0,10)}.pdf`),y.value=!1}catch(_){console.error("Error al exportar a PDF:",_),h.value=`Error al generar PDF: ${_.message}`,setTimeout(()=>{y.value=!1},5e3)}},H=()=>{var V;try{y.value=!0,h.value="Generando Excel, por favor espere...";const _=Bi.book_new();if(t.value){const ne=[["INFORMACIÓN DEL PROYECTO"],["Código",t.value.codigo||""],["Nombre",t.value.nombre||""],["Descripción",t.value.descripcion||""],["Fecha creación",t.value.createdAt||""],["Última actualización",t.value.updatedAt||""]],ee=Bi.aoa_to_sheet(ne);Bi.book_append_sheet(_,ee,"Proyecto")}const F=[["NODOS DEL DIAGRAMA"],["ID","Tipo","Título","Descripción","Fecha creación"]];l.value.forEach(ne=>{var ee,pe,O;F.push([ne.id,ne.type||"",((ee=ne.data)==null?void 0:ee.title)||"",((pe=ne.data)==null?void 0:pe.description)||"",((O=ne.data)==null?void 0:O.createdAt)||""])});const k=Bi.aoa_to_sheet(F);Bi.book_append_sheet(_,k,"Nodos");const Q=[["CONEXIONES"],["ID","Origen","Destino","Tipo","Etiqueta"]];c.value.forEach(ne=>{Q.push([ne.id,ne.source,ne.target,ne.type||"",ne.label||""])});const U=Bi.aoa_to_sheet(Q);Bi.book_append_sheet(_,U,"Conexiones"),qA(_,`diagrama-${((V=t.value)==null?void 0:V.codigo)||"proyecto"}-${new Date().toISOString().slice(0,10)}.xlsx`),y.value=!1}catch(_){console.error("Error al exportar a Excel:",_),h.value=`Error al generar Excel: ${_.message}`,setTimeout(()=>{y.value=!1},5e3)}},P=(V={})=>{var _,F,k,Q;try{y.value=!0,h.value="Generando JSON, por favor espere...";const ne={...{prettyPrint:!0,includeMetadata:!0,includeProjectInfo:!0,includeDiagramData:!0,customFileName:null},...V},ee={};ne.includeMetadata&&(ee.metadata={exportedAt:new Date().toISOString(),exportTool:"Vue Flow Diagram Exporter",version:"1.1"}),ne.includeProjectInfo&&t.value&&(ee.proyecto={id:t.value.id,codigo:t.value.codigo,nombre:t.value.nombre,descripcion:t.value.descripcion,createdAt:t.value.createdAt,updatedAt:t.value.updatedAt}),ne.includeDiagramData&&(ee.diagrama={nodos:l.value.map(G=>({id:G.id,type:G.type,position:G.position,data:G.data,hidden:G.hidden,selected:G.selected,dragging:G.dragging,zIndex:G.zIndex})),edges:c.value.map(G=>({id:G.id,source:G.source,target:G.target,sourceHandle:G.sourceHandle,targetHandle:G.targetHandle,type:G.type,label:G.label,animated:G.animated,data:G.data,hidden:G.hidden,selected:G.selected})),viewport:{x:((_=M.value)==null?void 0:_.viewport.x)||0,y:((F=M.value)==null?void 0:F.viewport.y)||0,zoom:((k=M.value)==null?void 0:k.viewport.zoom)||1}});const pe=ne.prettyPrint?JSON.stringify(ee,null,2):JSON.stringify(ee),O=new Blob([pe],{type:"application/json"}),W=URL.createObjectURL(O),C=ne.customFileName||`diagrama-${((Q=t.value)==null?void 0:Q.codigo)||"proyecto"}-${new Date().toISOString().slice(0,10)}.json`,D=document.createElement("a");D.href=W,D.download=C,document.body.appendChild(D),D.click(),setTimeout(()=>{document.body.removeChild(D),URL.revokeObjectURL(W),y.value=!1},100)}catch(U){console.error("Error al exportar a JSON:",U),h.value=`Error al generar JSON: ${U.message}`,setTimeout(()=>{y.value=!1},5e3)}},N=()=>{var V;try{y.value=!0,h.value="Generando GraphML, por favor espere...";const F=new DOMParser().parseFromString('<?xml version="1.0" encoding="UTF-8"?><graphml xmlns="http://graphml.graphdrawing.org/xmlns"></graphml>',"application/xml"),k=F.documentElement,Q=F.createElement("key");Q.setAttribute("id","d0"),Q.setAttribute("for","node"),Q.setAttribute("attr.name","tipo"),Q.setAttribute("attr.type","string"),k.appendChild(Q);const U=F.createElement("graph");U.setAttribute("id","G"),U.setAttribute("edgedefault","directed"),k.appendChild(U),l.value.forEach(C=>{var K;const D=F.createElement("node");D.setAttribute("id",C.id);const G=F.createElement("data");if(G.setAttribute("key","d0"),G.textContent=C.type||"unknown",D.appendChild(G),(K=C.data)!=null&&K.title){const te=F.createElement("key");te.setAttribute("id","d1"),te.setAttribute("for","node"),te.setAttribute("attr.name","titulo"),te.setAttribute("attr.type","string"),k.insertBefore(te,U);const ce=F.createElement("data");ce.setAttribute("key","d1"),ce.textContent=C.data.title,D.appendChild(ce)}U.appendChild(D)}),c.value.forEach(C=>{const D=F.createElement("edge");D.setAttribute("source",C.source),D.setAttribute("target",C.target),D.setAttribute("id",C.id),U.appendChild(D)});const ee=new XMLSerializer().serializeToString(F),pe=new Blob([ee],{type:"application/xml"}),O=URL.createObjectURL(pe),W=document.createElement("a");W.href=O,W.download=`diagrama-${((V=t.value)==null?void 0:V.codigo)||"proyecto"}-${new Date().toISOString().slice(0,10)}.graphml`,document.body.appendChild(W),W.click(),setTimeout(()=>{document.body.removeChild(W),URL.revokeObjectURL(O),y.value=!1},100)}catch(_){console.error("Error al exportar a GraphML:",_),h.value=`Error al generar GraphML: ${_.message}`,setTimeout(()=>{y.value=!1},5e3)}};return(V,_)=>{const F=Be("v-icon"),k=Be("v-btn"),Q=Be("v-toolbar-title"),U=Be("v-toolbar"),ne=Be("v-tooltip"),ee=Be("v-spacer"),pe=Be("v-alert"),O=Be("v-card-text"),W=Be("v-card"),C=Be("v-expand-transition"),D=Be("v-card-actions"),G=Be("v-dialog");return je(),ct(Cn,null,[le(IA,{name:"fade-slide-down"},{default:ie(()=>[y.value?(je(),ct("div",T$,[le(F,{left:"",small:"",color:"white"},{default:ie(()=>_[39]||(_[39]=[be("mdi-information")])),_:1,__:[39]}),se("span",M$,Re(Ne(h)),1),le(k,{icon:"",variant:"text",onClick:_[0]||(_[0]=K=>y.value=!1),size:"x-small"},{default:ie(()=>[le(F,{small:""},{default:ie(()=>_[40]||(_[40]=[be("mdi-close")])),_:1,__:[40]})]),_:1})])):Lt("",!0)]),_:1}),le(Ne(VI),{ref_key:"vueFlowRef",ref:M,nodes:i.value,edges:a.value,minZoom:.1,maxZoom:2},{"node-proyecto":ie(K=>[le(VM,yt(K,{onAddObjetivoGeneral:_[1]||(_[1]=te=>Ne(g)("addObjetivoGeneral",te)),onAddObjetivoEspecifico:_[2]||(_[2]=te=>Ne(g)("addObjetivoEspecifico",te))}),null,16)]),"node-objetivogeneral":ie(K=>[le(QM,yt(K,{onAddKpi:_[3]||(_[3]=te=>Ne(g)("addKpi",te)),onAddIndicadorObjGeneral:_[4]||(_[4]=te=>Ne(g)("addIndicadorObjGeneral",te)),onAddResultadoObjGeneral:_[5]||(_[5]=te=>Ne(g)("addResultadoObjGeneral",te)),onAddObjetivoEspecificoOg:_[6]||(_[6]=te=>Ne(g)("addObjetivoEspecificoOg",te)),onAddProducto:_[7]||(_[7]=te=>Ne(g)("addProducto",te))}),null,16)]),"node-objetivoespecifico":ie(K=>[le(a9,yt(K,{onAddIndicadorOE:_[8]||(_[8]=te=>Ne(g)("addIndicadorOE",te)),onAddResultadoOE:_[9]||(_[9]=te=>Ne(g)("addResultadoOE",te)),onAddProductoOE:_[10]||(_[10]=te=>Ne(g)("addProductoOE",te)),onAddProducto:_[11]||(_[11]=te=>Ne(g)("addProducto",te))}),null,16)]),"node-objetivoespecificoog":ie(K=>[le(h9,yt(K,{onAddIndicadorOE:_[12]||(_[12]=te=>Ne(g)("addIndicadorOE",te)),onAddResultadoOE:_[13]||(_[13]=te=>Ne(g)("addResultadoOE",te)),onAddProductoOE:_[14]||(_[14]=te=>Ne(g)("addProductoOE",te)),onAddProducto:_[15]||(_[15]=te=>Ne(g)("addProducto",te))}),null,16)]),"node-kpi":ie(K=>[le(y9,di($i(K)),null,16)]),"node-indicadorog":ie(K=>[le(k9,yt(K,{onAddProducto:_[16]||(_[16]=te=>Ne(g)("addProducto",te))}),null,16)]),"node-indicadoroe":ie(K=>[le(H9,yt(K,{onAddProducto:_[17]||(_[17]=te=>Ne(g)("addProducto",te))}),null,16)]),"node-resultadoog":ie(K=>[le(Q9,yt(K,{onAddIndicadorResultadoOg:_[18]||(_[18]=te=>Ne(g)("addIndicadorResultadoOg",te)),onAddProcesosResultadoOg:_[19]||(_[19]=te=>Ne(g)("addProcesosResultadoOg",te)),onAddActividadResOG:_[20]||(_[20]=te=>Ne(g)("addActividadResOG",te)),onAddProducto:_[21]||(_[21]=te=>Ne(g)("addProducto",te))}),null,16)]),"node-resultadooe":ie(K=>[le(aD,yt(K,{onAddIndicadorResultadoOE:_[22]||(_[22]=te=>Ne(g)("addIndicadorResultadoOE",te)),onAddProductoResultadoOE:_[23]||(_[23]=te=>Ne(g)("addProductoResultadoOE",te)),onAddProcesosResultadoOE:_[24]||(_[24]=te=>Ne(g)("addProcesosResultadoOE",te)),onAddActividadResOE:_[25]||(_[25]=te=>Ne(g)("addActividadResOE",te)),onAddProducto:_[26]||(_[26]=te=>Ne(g)("addProducto",te))}),null,16)]),"node-productooe":ie(K=>[le(pD,yt(K,{onAddProcesoProductoOE:_[27]||(_[27]=te=>Ne(g)("addProcesoProductoOE",te)),onAddActividadProdOE:_[28]||(_[28]=te=>Ne(g)("addActividadProdOE",te))}),null,16)]),"node-productoroe":ie(K=>[le(xD,di($i(K)),null,16)]),"node-indicadorrog":ie(K=>[le(MD,yt(K,{onAddProducto:_[29]||(_[29]=te=>Ne(g)("addProducto",te))}),null,16)]),"node-indicadorroe":ie(K=>[le(KD,yt(K,{onAddProducto:_[30]||(_[30]=te=>Ne(g)("addProducto",te))}),null,16)]),"node-procesorog":ie(K=>[le(nF,yt({onAddActividadProcesoResOG:_[31]||(_[31]=te=>Ne(g)("addActividadProcesoResOG",te))},K),null,16)]),"node-procesoroe":ie(K=>[le(uF,yt(K,{onAddActividadProcResOE:_[32]||(_[32]=te=>Ne(g)("addActividadProcResOE",te))}),null,16)]),"node-procesopoe":ie(K=>[le(pF,yt(K,{onAddActividadProcProdOE:_[33]||(_[33]=te=>Ne(g)("addActividadProcProdOE",te))}),null,16)]),"node-actividadrog":ie(K=>[le(NF,di($i(K)),null,16)]),"node-actividadpoe":ie(K=>[le(CF,di($i(K)),null,16)]),"node-actividadroe":ie(K=>[le(TF,di($i(K)),null,16)]),"node-actividad":ie(K=>[le(_F,di($i(K)),null,16)]),"node-productogral":ie(K=>[le(GF,di($i(K)),null,16)]),default:ie(()=>[se("div",D$,[se("div",F$,[_[41]||(_[41]=se("h3",null,"Proyecto",-1)),Ne(t)?(je(),ct("p",j$,"Codigo: "+Re(Ne(t).codigo),1)):Lt("",!0)])]),le(Ne(am),{position:"top-right",class:"tool-panel"},{default:ie(()=>[le(U,{color:"primary",density:"compact",class:"panel-header"},{default:ie(()=>[le(Q,{class:"text-white"},{default:ie(()=>_[42]||(_[42]=[be("Herramientas")])),_:1,__:[42]})]),_:1}),le(U,{density:"compact",class:"button-bar"},{default:ie(()=>[(je(!0),ct(Cn,null,oa(S.value,K=>(je(),nt(ne,{key:K.icon,text:K.tooltip,location:"bottom"},{activator:ie(({props:te})=>[le(k,yt({ref_for:!0},te,{icon:K.icon,color:K.color,variant:"flat",size:"small",class:"ma-1 circular-btn",onClick:K.action}),null,16,["icon","color","onClick"])]),_:2},1032,["text"]))),128))]),_:1}),le(C,null,{default:ie(()=>[b.value?(je(),nt(W,{key:0,class:"node-editor",elevation:"8"},{default:ie(()=>[le(U,{color:"primary",density:"compact",class:"panel-header"},{default:ie(()=>[le(Q,{class:"text-white"},{default:ie(()=>_[43]||(_[43]=[be("Editar Nodo")])),_:1,__:[43]}),le(ee),le(k,{icon:"",variant:"text",onClick:_[34]||(_[34]=K=>b.value=null),class:"text-white"},{default:ie(()=>[le(F,null,{default:ie(()=>_[44]||(_[44]=[be("mdi-close")])),_:1,__:[44]})]),_:1})]),_:1}),le(O,{class:"pa-4",style:{"max-height":"80vh",overflow:"auto"}},{default:ie(()=>[L.value?(je(),nt(gi(L.value),{key:0,node:b.value,onGuardar:j,onCancelar:_[35]||(_[35]=K=>b.value=null),onEliminar:Z},null,40,["node"])):(je(),nt(pe,{key:1,type:"info"},{default:ie(()=>_[45]||(_[45]=[be(" No hay formulario disponible para este tipo de nodo ")])),_:1,__:[45]}))]),_:1})]),_:1})):Lt("",!0)]),_:1})]),_:1}),le(Ne(QI),{variant:"lines"}),le(Ne(Tk),{pannable:"",zoomable:"","mask-color":"rgb(0, 0, 0, 0.7)"}),le(Ne(fR),{position:"left"})]),_:1},8,["nodes","edges"]),le(G,{modelValue:n.value,"onUpdate:modelValue":_[38]||(_[38]=K=>n.value=K),"max-width":"800"},{default:ie(()=>[le(W,null,{default:ie(()=>[le(U,{color:"primary",density:"compact"},{default:ie(()=>[le(Q,{class:"text-white"},{default:ie(()=>_[46]||(_[46]=[be("Administrar Financiadores")])),_:1,__:[46]}),le(ee),le(k,{icon:"",onClick:_[36]||(_[36]=K=>n.value=!1),variant:"text",class:"text-white"},{default:ie(()=>[le(F,null,{default:ie(()=>_[47]||(_[47]=[be("mdi-close")])),_:1,__:[47]})]),_:1})]),_:1}),le(O,{class:"pa-4"},{default:ie(()=>[le(BA)]),_:1}),le(D,{class:"pa-4"},{default:ie(()=>[le(ee),le(k,{color:"primary",onClick:_[37]||(_[37]=K=>n.value=!1)},{default:ie(()=>_[48]||(_[48]=[be("Cerrar")])),_:1,__:[48]})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},B$=Xt($$,[["__scopeId","data-v-0d342511"]]),z$={key:1,class:"d-flex flex-column align-center justify-center",style:{height:"100%"}},G$={__name:"ProyectoEstructuraView",setup(e){const t=yA(),r=LA().params.id,o=Qe(()=>a.value),{proyectoEstructuraNodos:i,cargando:a}=CA(t),{obtenerProyectoEstructuraNodosPorId:s}=t;wi("proyectoEstructura",S4(i)),Sr(async()=>{await u()});const u=async()=>{try{await s(r)}catch(l){console.error(l)}};return(l,c)=>{const f=Be("v-progress-circular"),p=Be("v-overlay"),h=Be("v-toolbar-title"),g=Be("v-spacer"),b=Be("v-toolbar"),w=Be("v-card-text"),y=Be("v-card"),S=Be("v-col"),A=Be("v-row"),L=Be("v-container");return je(),nt(L,null,{default:ie(()=>[le(p,{"model-value":o.value,class:"align-center justify-center"},{default:ie(()=>[le(f,{indeterminate:"",color:"primary",size:"64"}),c[0]||(c[0]=se("p",{class:"mt-4 text-h6"},"Cargando proyecto...",-1))]),_:1,__:[0]},8,["model-value"]),o.value?Lt("",!0):(je(),nt(A,{key:0},{default:ie(()=>[le(S,{cols:"12",md:"12"},{default:ie(()=>[le(OA,{titulo:"Estructura",icon:"mdi-file-cog"}),Ne(i)?(je(),nt(kA,{key:0,proyecto:Ne(i)},null,8,["proyecto"])):Lt("",!0),le(y,{class:"mb-4","min-height":"800"},{default:ie(()=>[le(b,{color:"info",density:"compact"},{default:ie(()=>[le(h,null,{default:ie(()=>c[1]||(c[1]=[be("ESTRUCTURA DEL PROYECTO")])),_:1,__:[1]}),le(g)]),_:1}),le(w,{style:{height:"900px",position:"relative"}},{default:ie(()=>[!o.value&&Ne(i)?(je(),nt(B$,{key:0})):(je(),ct("div",z$,[le(f,{indeterminate:"",color:"primary"}),c[2]||(c[2]=se("p",{class:"mt-2"},"Cargando estructura...",-1))]))]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})}}},U$=Xt(G$,[["__scopeId","data-v-b8723c40"]]),nB=Object.freeze(Object.defineProperty({__proto__:null,default:U$},Symbol.toStringTag,{value:"Module"}));export{nB as P,Dt as _,UF as a,HM as b,kM as c,nS as d,Fu as e,Rm as f,Ho as g,qm as h,gs as i,ut as u};
