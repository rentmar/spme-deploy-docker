import{_ as rl,r as c,a as ul,y as sl,o as il,c as B,b as U,d as l,i as s,w as t,e as r,F as ne,u as dl,f,g as I,h as x,l as a,t as u,j as be,k as g,m as z,p as cl}from"./index-BV9e5Yt5.js";import{u as vl}from"./proyectoStore-DvgR2axb.js";import{a as de,b as we,f as ce}from"./formatters-CqNDYFfu.js";import{p as ke}from"./proyectoService-wNf4fISD.js";import{u as pl}from"./useInstanciaGestora-cSU6cze7.js";import{u as fl}from"./useProcedenciaFondos-DCzG2v-v.js";const ml={class:"text-caption text-grey"},_l={class:"d-flex align-center"},gl={class:"text-caption mt-1"},yl={class:"d-flex"},xl={key:0},Vl={key:0},bl={key:1},wl={class:"d-flex justify-end mt-4"},kl={key:2,class:"d-flex align-center justify-space-between mt-2"},Cl={class:"text-caption text-grey"},El={class:"text-center pa-4"},Pl={__name:"ProyectoListView",setup(Ul){const{instancias:Ce,cargarInstancias:Ee}=pl(),Pe=dl(),V=c({show:!1,text:"",color:"success"}),T=c(!1),O=c(!1),ve=c(null),re=c(!1),Y=sl("peiVigente"),d=ul({codigo:"",titulo:"",descripcion:"",pei:Y.value.id,estado:"ES",instancia_gestora:[],creado_por:"Admin",fecha_inicio:null,fecha_finalizacion:null,presupuesto:null,procedencia_fondos:[]}),ue=vl(),{opcionesEntidadFinanciera:Ue,fetchOptions:Ie}=fl(),k=c(!1),Z=c(null),R=c(!1),A=c(null),H=c(null),K=c(""),W=c("datos"),X=c(!1),N=c(1),S=c(10);il(async()=>{await fe()});const Se=B(()=>ue.proyectos),y=B(()=>{if(X.value)return[];let n=Se.value;if(K.value){const e=K.value.toLowerCase();n=n.filter(_=>_.codigo.toLowerCase().includes(e)||_.titulo.toLowerCase().includes(e))}return ee.value.length>0&&(n=n.filter(e=>ee.value.includes(e.estado))),n}),De=B(()=>{const n=(N.value-1)*S.value,e=n+S.value;return y.value.slice(n,e)}),pe=B(()=>Math.ceil(y.value.length/S.value)),$e=B(()=>(N.value-1)*S.value+1),je=B(()=>{const n=N.value*S.value;return n>y.value.length?y.value.length:n}),fe=async()=>{try{k.value=!0,Z.value=null,X.value=!1,await ue.obtenerProyectos(),Ee(),Ie(),ue.proyectos.length===0&&(X.value=!0)}catch(n){Z.value="Error al cargar los proyectos: "+(n.message||"Intente nuevamente más tarde"),console.error("Error al cargar los proyectos",n)}finally{k.value=!1}},h=n=>y.value.filter(e=>e.estado===n).length,Fe=n=>{A.value=n,R.value=!0},ze=async()=>{var n,e;try{k.value=!0,console.log("Borrar"),console.log(A.value.id),await ke.eliminar(A.value.id),V.value={show:!0,text:"Proyecto eliminado exitosamente",color:"success"},await fe()}catch(_){Z.value="Error al eliminar el proyecto: "+(_.message||"Intente nuevamente más tarde"),console.error("Error al eliminar proyecto",_),V.value={show:!0,text:((e=(n=Z.value.response)==null?void 0:n.data)==null?void 0:e.message)||"Error al crear el proyecto",color:"error"}}finally{k.value=!1,R.value=!1}},Te=()=>{alert("Exportar a Excel")},Ne=n=>{H.value=H.value===n?null:n},ee=c([]),qe=[{text:"En Estructuración",value:"ES"},{text:"En Planificacion",value:"EP"}],le=c(!1),me=c(null),C=c([]),E=c(0),q=c(null),Le=[n=>{if(!n||n.length===0)return!0;const e=10*1024*1024;for(const _ of n)if(_.size>e)return"El tamaño máximo por archivo es 10MB";return!0}],Me=n=>{me.value=n,le.value=!0,C.value=[],E.value=0,q.value=null},_e=()=>{le.value=!1,C.value=[],E.value=0,q.value=null},Be=async()=>{if(!(!C.value||C.value.length===0))try{q.value=null,E.value=0;const n=setInterval(()=>{E.value+=10,E.value>=100&&(clearInterval(n),setTimeout(()=>{_e(),alert("Documentos subidos exitosamente")},500))},300)}catch(n){q.value="Error al subir los documentos: "+(n.message||"Intente nuevamente"),console.error("Error al subir documentos",n)}},Oe=[n=>!!n||"El código es requerido",n=>n&&n.length<=20||"Máximo 20 caracteres",n=>/^[A-Z0-9-]+$/.test(n)||"Solo mayúsculas, números y guiones"],Re=[n=>!!n||"El título es requerido",n=>n&&n.length<=200||"Máximo 200 caracteres",n=>/^[\w\sáéíóúÁÉÍÓÚñÑ.,;:¿?¡!()-]+$/.test(n)||"Caracteres no válidos"],ge=async()=>{const{valid:n}=await ve.value.validate();n&&(O.value=!0)},Ae=async()=>{var n,e,_;try{const i=await ke.crear(d);if(console.log(i),!((n=i==null?void 0:i.data)!=null&&n.id))throw new Error("No se recibió un ID válido");const v=i.data.id;V.value={show:!0,text:"Proyecto creado exitosamente",color:"success"},setTimeout(()=>{Pe.push(`/proyecto/${v}/estructura/`)},1500),O.value=!1,T.value=!1}catch(i){console.error("Error al crear proyecto:",i),V.value={show:!0,text:((_=(e=i.response)==null?void 0:e.data)==null?void 0:_.message)||"Error al crear el proyecto",color:"error"}}},Ge=()=>{Object.assign(d,{codigo:"",titulo:"",descripcion:"",pei:Y.value.id,estado:"ES",instancia_gestora:[],creado_por:"Admin",fecha_inicio:null,fecha_finalizacion:null,presupuesto:null,procedencia_fondos:[]})},Je=()=>{Ge(),T.value=!1};return(n,e)=>{const _=r("v-progress-linear"),i=r("v-icon"),v=r("v-btn"),D=r("v-card-text"),b=r("v-card"),L=r("v-card-title"),P=r("v-text-field"),ye=r("v-chip"),Qe=r("v-chip-group"),Ye=r("v-avatar"),$=r("v-list-item-title"),M=r("v-list-item-subtitle"),j=r("v-tooltip"),w=r("v-list-item"),G=r("v-tab"),Ze=r("v-tabs"),m=r("v-col"),F=r("v-row"),J=r("v-window-item"),Q=r("v-alert"),He=r("v-window"),Ke=r("v-expand-transition"),se=r("v-list"),We=r("v-pagination"),ie=r("v-select"),te=r("v-spacer"),oe=r("v-card-actions"),ae=r("v-dialog"),xe=r("v-container"),Xe=r("v-card-subtitle"),he=r("v-file-input"),el=r("v-toolbar"),ll=r("v-textarea"),tl=r("v-number-input"),ol=r("v-divider"),al=r("v-form"),nl=r("v-snackbar");return f(),U(ne,null,[l(xe,null,{default:t(()=>[k.value?(f(),I(_,{key:0,indeterminate:"",color:"primary",height:"4",class:"mb-4"})):x("",!0),X.value&&!k.value?(f(),I(b,{key:1,class:"mb-4"},{default:t(()=>[l(D,{class:"text-center py-8"},{default:t(()=>[l(i,{size:"64",color:"grey lighten-1"},{default:t(()=>e[30]||(e[30]=[a("mdi-database-remove")])),_:1,__:[30]}),e[33]||(e[33]=s("h3",{class:"text-h5 mt-4"},"No hay proyectos registrados",-1)),e[34]||(e[34]=s("p",{class:"text-grey mt-2"},"Parece que aún no has creado ningún proyecto",-1)),l(v,{color:"primary",onClick:e[0]||(e[0]=o=>T.value=!0),class:"mt-4"},{default:t(()=>[l(i,{left:""},{default:t(()=>e[31]||(e[31]=[a("mdi-plus")])),_:1,__:[31]}),e[32]||(e[32]=a(" Crear primer proyecto "))]),_:1,__:[32]})]),_:1,__:[33,34]})]),_:1})):(f(),I(F,{key:2},{default:t(()=>[l(m,{cols:"12",md:"9",lg:"9"},{default:t(()=>[l(b,{class:"pa-4",elevation:"2"},{default:t(()=>[l(L,{class:"d-flex justify-space-between align-center"},{default:t(()=>[e[35]||(e[35]=s("span",null,"Lista de Proyectos",-1)),s("span",ml,"Total: "+u(y.value.length),1)]),_:1,__:[35]}),l(D,{class:"pt-0 pb-4"},{default:t(()=>[l(P,{modelValue:K.value,"onUpdate:modelValue":e[1]||(e[1]=o=>K.value=o),label:"Buscar proyectos (por código o título)","prepend-inner-icon":"mdi-magnify",variant:"outlined",clearable:"",density:"comfortable",onInput:e[2]||(e[2]=o=>N.value=1)},null,8,["modelValue"]),l(Qe,{modelValue:ee.value,"onUpdate:modelValue":e[3]||(e[3]=o=>ee.value=o),multiple:"",column:"",class:"mt-2"},{default:t(()=>[(f(),U(ne,null,be(qe,o=>l(ye,{key:o.value,value:o.value,filter:"",color:g(de)(o.value),variant:"outlined"},{default:t(()=>[a(u(o.text),1)]),_:2},1032,["value","color"])),64))]),_:1},8,["modelValue"])]),_:1}),k.value?x("",!0):(f(),I(se,{key:0,class:"py-0"},{default:t(()=>[(f(!0),U(ne,null,be(De.value,o=>(f(),U(ne,{key:o.id},[l(w,{value:o,class:"mb-2"},{prepend:t(()=>[l(Ye,{color:g(de)(o.estado),class:"mr-4"},{default:t(()=>[l(i,{dark:""},{default:t(()=>e[36]||(e[36]=[a("mdi-notebook")])),_:1,__:[36]})]),_:2},1032,["color"])]),append:t(()=>[s("div",yl,[l(j,{text:"Ver detalles",location:"top"},{activator:t(({props:p})=>[l(v,z({ref_for:!0},p,{icon:"mdi-eye-outline",variant:"text",color:"primary",to:`/proyecto/${o.id}/detalle`}),null,16,["to"])]),_:2},1024),l(j,{text:"Editar",location:"top"},{activator:t(({props:p})=>[l(v,z({ref_for:!0},p,{icon:"mdi-pencil",variant:"text",color:"warning",to:`/proyecto/${o.id}/editar`}),null,16,["to"])]),_:2},1024),l(j,{text:"Eliminar",location:"top"},{activator:t(({props:p})=>[l(v,z({ref_for:!0},p,{icon:"mdi-delete",variant:"text",color:"error",onClick:Ve=>Fe(o)}),null,16,["onClick"])]),_:2},1024),l(j,{text:"Marco Lógico",location:"top"},{activator:t(({props:p})=>[l(v,z({ref_for:!0},p,{icon:"mdi-sitemap",variant:"text",color:"secondary",to:`/proyecto/${o.id}/marco-logico`}),null,16,["to"])]),_:2},1024),l(j,{text:"Estructura",location:"top"},{activator:t(({props:p})=>[l(v,z({ref_for:!0},p,{icon:"mdi-file-cog",variant:"text",color:"secondary",to:`/proyecto/${o.id}/estructura`}),null,16,["to"])]),_:2},1024),l(j,{text:"Cargar documentos",location:"top"},{activator:t(({props:p})=>[l(v,z({ref_for:!0},p,{icon:"mdi-upload",variant:"text",color:"teal",onClick:Ve=>Me(o)}),null,16,["onClick"])]),_:2},1024),l(j,{text:"Vista rápida",location:"top"},{activator:t(({props:p})=>[l(v,z({ref_for:!0},p,{icon:"mdi-chevron-down",variant:"text",color:"info",onClick:Ve=>Ne(o.id),class:{"rotate-180":H.value===o.id}}),null,16,["onClick","class"])]),_:2},1024)])]),default:t(()=>[l($,{class:"font-weight-bold"},{default:t(()=>[a(u(o.titulo),1)]),_:2},1024),l(M,{class:"mt-1"},{default:t(()=>[s("div",_l,[l(ye,{small:"",color:g(de)(o.estado),"text-color":"white",class:"mr-2"},{default:t(()=>[a(u(g(we)(o.estado)),1)]),_:2},1032,["color"]),s("span",null,"Código: "+u(o.codigo),1)]),s("div",gl,u(o.descripcion),1)]),_:2},1024)]),_:2},1032,["value"]),l(Ke,null,{default:t(()=>[H.value===o.id?(f(),U("div",xl,[l(b,{elevation:"0",class:"ml-10 mr-4 mb-4 bg-grey-lighten-4"},{default:t(()=>[l(Ze,{modelValue:W.value,"onUpdate:modelValue":e[4]||(e[4]=p=>W.value=p),color:"primary",grow:""},{default:t(()=>[l(G,{value:"datos"},{default:t(()=>[l(i,{left:""},{default:t(()=>e[37]||(e[37]=[a("mdi-information")])),_:1,__:[37]}),e[38]||(e[38]=a(" Datos "))]),_:1,__:[38]}),l(G,{value:"objetivos"},{default:t(()=>[l(i,{left:""},{default:t(()=>e[39]||(e[39]=[a("mdi-target")])),_:1,__:[39]}),e[40]||(e[40]=a(" Objetivos "))]),_:1,__:[40]}),l(G,{value:"resultados"},{default:t(()=>[l(i,{left:""},{default:t(()=>e[41]||(e[41]=[a("mdi-check-all")])),_:1,__:[41]}),e[42]||(e[42]=a(" Resultados "))]),_:1,__:[42]}),l(G,{value:"productos"},{default:t(()=>[l(i,{left:""},{default:t(()=>e[43]||(e[43]=[a("mdi-package-variant")])),_:1,__:[43]}),e[44]||(e[44]=a(" Productos "))]),_:1,__:[44]}),l(G,{value:"indicadores"},{default:t(()=>[l(i,{left:""},{default:t(()=>e[45]||(e[45]=[a("mdi-chart-bar")])),_:1,__:[45]}),e[46]||(e[46]=a(" Indicadores "))]),_:1,__:[46]})]),_:1},8,["modelValue"]),l(D,{class:"pt-4"},{default:t(()=>[l(He,{modelValue:W.value,"onUpdate:modelValue":e[5]||(e[5]=p=>W.value=p)},{default:t(()=>[l(J,{value:"datos"},{default:t(()=>[l(F,null,{default:t(()=>[l(m,{cols:"12",md:"6"},{default:t(()=>[s("p",null,[e[47]||(e[47]=s("strong",null,"Descripción:",-1)),a(" "+u(o.descripcion),1)]),s("p",null,[e[48]||(e[48]=s("strong",null,"Estado:",-1)),a(" "+u(g(we)(o.estado)),1)]),s("p",null,[e[49]||(e[49]=s("strong",null,"Código:",-1)),a(" "+u(o.codigo),1)]),s("p",null,[e[50]||(e[50]=s("strong",null,"Instancia gestora:",-1)),a(" "+u(o.instancia_gestora),1)])]),_:2},1024),l(m,{cols:"12",md:"6"},{default:t(()=>[s("p",null,[e[51]||(e[51]=s("strong",null,"Fecha de creación:",-1)),a(" "+u(g(ce)(o.fecha_creacion)),1)]),s("p",null,[e[52]||(e[52]=s("strong",null,"Creado por:",-1)),a(" "+u(o.creado_por),1)]),o.fecha_inicio?(f(),U("p",Vl,[e[53]||(e[53]=s("strong",null,"Fecha inicio:",-1)),a(" "+u(g(ce)(o.fecha_inicio)),1)])):x("",!0),o.fecha_finalizacion?(f(),U("p",bl,[e[54]||(e[54]=s("strong",null,"Fecha finalización:",-1)),a(" "+u(g(ce)(o.fecha_finalizacion)),1)])):x("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),l(J,{value:"objetivos"},{default:t(()=>[l(Q,{type:"info",variant:"tonal"},{default:t(()=>e[55]||(e[55]=[a(" Información de objetivos disponible en la vista completa ")])),_:1,__:[55]})]),_:1}),l(J,{value:"resultados"},{default:t(()=>[l(Q,{type:"info",variant:"tonal"},{default:t(()=>e[56]||(e[56]=[a(" Información de resultados disponible en la vista completa ")])),_:1,__:[56]})]),_:1}),l(J,{value:"productos"},{default:t(()=>[l(Q,{type:"info",variant:"tonal"},{default:t(()=>e[57]||(e[57]=[a(" Información de productos disponible en la vista completa ")])),_:1,__:[57]})]),_:1}),l(J,{value:"indicadores"},{default:t(()=>[l(Q,{type:"info",variant:"tonal"},{default:t(()=>e[58]||(e[58]=[a(" Información de indicadores disponible en la vista completa ")])),_:1,__:[58]})]),_:1})]),_:2},1032,["modelValue"]),s("div",wl,[l(v,{color:"primary",variant:"text",size:"small",to:`/proyecto/${o.id}/detalle`},{default:t(()=>e[59]||(e[59]=[a(" Ver detalles completos ")])),_:2,__:[59]},1032,["to"])])]),_:2},1024)]),_:2},1024)])):x("",!0)]),_:2},1024)],64))),128)),y.value.length===0&&!k.value?(f(),I(w,{key:0},{default:t(()=>[l($,{class:"text-grey"},{default:t(()=>e[60]||(e[60]=[a("No se encontraron proyectos")])),_:1,__:[60]})]),_:1})):x("",!0)]),_:1})),pe.value>1?(f(),I(We,{key:1,modelValue:N.value,"onUpdate:modelValue":e[6]||(e[6]=o=>N.value=o),length:pe.value,"total-visible":7,class:"mt-4"},null,8,["modelValue","length"])):x("",!0),y.value.length>0?(f(),U("div",kl,[s("span",Cl," Mostrando "+u($e.value)+"-"+u(je.value)+" de "+u(y.value.length),1),l(ie,{modelValue:S.value,"onUpdate:modelValue":e[7]||(e[7]=o=>S.value=o),items:[5,10,20,50],label:"Items por página",density:"compact",style:{"max-width":"150px"},variant:"outlined"},null,8,["modelValue"])])):x("",!0)]),_:1})]),_:1}),l(m,{cols:"12",md:"3",lg:"3"},{default:t(()=>[l(b,{class:"mb-4",elevation:"2"},{default:t(()=>[l(L,{class:"primary white--text"},{default:t(()=>[l(i,{left:""},{default:t(()=>e[61]||(e[61]=[a("mdi-cog")])),_:1,__:[61]}),e[62]||(e[62]=a(" Acciones "))]),_:1,__:[62]}),l(se,{density:"comfortable"},{default:t(()=>[l(w,{onClick:e[8]||(e[8]=o=>T.value=!0),title:"Nuevo Proyecto","prepend-icon":"mdi-plus-circle",class:"text-primary"}),l(w,{title:"Exportar lista","prepend-icon":"mdi-file-export",onClick:Te})]),_:1})]),_:1}),l(b,{elevation:"2"},{default:t(()=>[l(L,{class:"primary white--text"},{default:t(()=>[l(i,{left:""},{default:t(()=>e[63]||(e[63]=[a("mdi-chart-box")])),_:1,__:[63]}),e[64]||(e[64]=a(" Estadísticas "))]),_:1,__:[64]}),l(se,{density:"comfortable"},{default:t(()=>[l(w,null,{prepend:t(()=>[l(i,{color:"primary"},{default:t(()=>e[65]||(e[65]=[a("mdi-file-document-multiple")])),_:1,__:[65]})]),default:t(()=>[l($,null,{default:t(()=>e[66]||(e[66]=[a("Total proyectos")])),_:1,__:[66]}),l(M,{class:"text-right"},{default:t(()=>[a(u(y.value.length),1)]),_:1})]),_:1}),l(w,null,{prepend:t(()=>[l(i,{color:"warning"},{default:t(()=>e[67]||(e[67]=[a("mdi-cog-box")])),_:1,__:[67]})]),default:t(()=>[l($,null,{default:t(()=>e[68]||(e[68]=[a("En Estructuración")])),_:1,__:[68]}),l(M,{class:"text-right"},{default:t(()=>[a(u(h("ES")),1)]),_:1})]),_:1}),l(w,null,{prepend:t(()=>[l(i,{color:"success"},{default:t(()=>e[69]||(e[69]=[a("mdi-play-circle")])),_:1,__:[69]})]),default:t(()=>[l($,null,{default:t(()=>e[70]||(e[70]=[a("En ejecucion")])),_:1,__:[70]}),l(M,{class:"text-right"},{default:t(()=>[a(u(h("EJ")),1)]),_:1})]),_:1}),l(w,null,{prepend:t(()=>[l(i,{color:"info"},{default:t(()=>e[71]||(e[71]=[a("mdi-check-circle")])),_:1,__:[71]})]),default:t(()=>[l($,null,{default:t(()=>e[72]||(e[72]=[a("Completados")])),_:1,__:[72]}),l(M,{class:"text-right"},{default:t(()=>[a(u(h("CO")),1)]),_:1})]),_:1}),l(w,null,{prepend:t(()=>[l(i,{color:"error"},{default:t(()=>e[73]||(e[73]=[a("mdi-pause-octagon")])),_:1,__:[73]})]),default:t(()=>[l($,null,{default:t(()=>e[74]||(e[74]=[a("Suspendido")])),_:1,__:[74]}),l(M,{class:"text-right"},{default:t(()=>[a(u(h("SU")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})),l(ae,{modelValue:R.value,"onUpdate:modelValue":e[10]||(e[10]=o=>R.value=o),"max-width":"400"},{default:t(()=>[l(b,null,{default:t(()=>[l(L,{class:"text-h5"},{default:t(()=>e[75]||(e[75]=[a("Confirmar eliminación")])),_:1,__:[75]}),l(D,null,{default:t(()=>[a(' ¿Estás seguro de que deseas eliminar el PROYECTO: "'+u(A.value.titulo)+'", con CODIGO:"'+u(A.value.codigo)+'"? ',1)]),_:1}),l(oe,null,{default:t(()=>[l(te),l(v,{color:"grey",onClick:e[9]||(e[9]=o=>R.value=!1)},{default:t(()=>e[76]||(e[76]=[a("Cancelar")])),_:1,__:[76]}),l(v,{color:"error",onClick:ze},{default:t(()=>e[77]||(e[77]=[a("Eliminar")])),_:1,__:[77]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(ae,{modelValue:le.value,"onUpdate:modelValue":e[12]||(e[12]=o=>le.value=o),"max-width":"600"},{default:t(()=>[l(b,null,{default:t(()=>[l(L,{class:"text-h5"},{default:t(()=>[l(i,{left:""},{default:t(()=>e[78]||(e[78]=[a("mdi-upload")])),_:1,__:[78]}),e[79]||(e[79]=a(" Cargar documentos "))]),_:1,__:[79]}),l(Xe,null,{default:t(()=>{var o;return[a(" Proyecto: "+u((o=me.value)==null?void 0:o.titulo),1)]}),_:1}),l(D,null,{default:t(()=>[l(he,{modelValue:C.value,"onUpdate:modelValue":e[11]||(e[11]=o=>C.value=o),multiple:"",label:"Seleccionar archivos","prepend-icon":"mdi-paperclip",variant:"outlined",rules:Le,accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png"},null,8,["modelValue"]),q.value?(f(),I(Q,{key:0,type:"error",variant:"tonal",class:"mt-3"},{default:t(()=>[a(u(q.value),1)]),_:1})):x("",!0),E.value>0&&E.value<100?(f(),I(_,{key:1,"model-value":E.value,height:"20",color:"light-blue",class:"mt-3"},{default:t(({value:o})=>[s("strong",null,u(Math.ceil(o))+"%",1)]),_:1},8,["model-value"])):x("",!0)]),_:1}),l(oe,null,{default:t(()=>[l(te),l(v,{color:"grey",onClick:_e},{default:t(()=>e[80]||(e[80]=[a("Cancelar")])),_:1,__:[80]}),l(v,{color:"primary",onClick:Be,disabled:!C.value||C.value.length===0},{default:t(()=>e[81]||(e[81]=[a(" Subir ")])),_:1,__:[81]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s("div",El,[l(ae,{modelValue:T.value,"onUpdate:modelValue":e[25]||(e[25]=o=>T.value=o),"max-width":"800",persistent:""},{default:t(()=>[l(b,null,{default:t(()=>[l(el,{color:"primary",title:"Nuevo Proyecto"}),l(D,null,{default:t(()=>[l(al,{ref_key:"form",ref:ve,modelValue:re.value,"onUpdate:modelValue":e[24]||(e[24]=o=>re.value=o),onSubmit:cl(ge,["prevent"])},{default:t(()=>[l(xe,null,{default:t(()=>[l(F,null,{default:t(()=>[l(m,{cols:"12"},{default:t(()=>[l(P,{modelValue:d.codigo,"onUpdate:modelValue":e[13]||(e[13]=o=>d.codigo=o),label:"Código *",rules:Oe,counter:"20",required:"",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12"},{default:t(()=>[l(P,{modelValue:d.titulo,"onUpdate:modelValue":e[14]||(e[14]=o=>d.titulo=o),label:"Título *",rules:Re,counter:"200",required:"",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),l(F,null,{default:t(()=>[l(m,{cols:"12"},{default:t(()=>[l(ll,{modelValue:d.descripcion,"onUpdate:modelValue":e[15]||(e[15]=o=>d.descripcion=o),label:"Descripción",rows:"3",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),l(F,null,{default:t(()=>[l(m,{cols:"12",md:"6"},{default:t(()=>[l(P,{variant:"outlined",modelValue:g(Y).titulo,"onUpdate:modelValue":e[16]||(e[16]=o=>g(Y).titulo=o),label:"Pertenece a",readonly:""},null,8,["modelValue"])]),_:1}),l(m,{cols:"12",md:"6"},{default:t(()=>[l(ie,{variant:"outlined",modelValue:d.instancia_gestora,"onUpdate:modelValue":e[17]||(e[17]=o=>d.instancia_gestora=o),label:"Instancia gestora*",items:g(Ce),"item-title":"instancia","item-value":"id",multiple:"",chips:"","return-object":!1,rules:[o=>!!o||"La instancia gestora es requerida"]},null,8,["modelValue","items","rules"])]),_:1})]),_:1}),l(F,null,{default:t(()=>[l(m,{cols:"12",md:"6"},{default:t(()=>[l(P,{modelValue:d.creado_por,"onUpdate:modelValue":e[18]||(e[18]=o=>d.creado_por=o),label:"Creado por",counter:"150",variant:"outlined",readonly:""},null,8,["modelValue"])]),_:1}),l(m,{cols:"12",md:"6"},{default:t(()=>[l(tl,{reverse:!1,modelValue:d.presupuesto,"onUpdate:modelValue":e[19]||(e[19]=o=>d.presupuesto=o),controlVariant:"default",label:"Presupuesto",hideInput:!1,inset:!1,variant:"outlined",precision:2},null,8,["modelValue"])]),_:1}),l(m,{cols:"12",md:"6"},{default:t(()=>[a(u(d.procedencia_fondos)+" ",1),l(ie,{variant:"outlined",modelValue:d.procedencia_fondos,"onUpdate:modelValue":e[20]||(e[20]=o=>d.procedencia_fondos=o),label:"Procedencia de Fondos*",items:g(Ue),"item-title":"financiera","item-value":"id",multiple:"",chips:"","return-object":!1,rules:[o=>!!o||"La instancia gestora es requerida"]},null,8,["modelValue","items","rules"])]),_:1})]),_:1}),l(ol,{class:"my-4"}),l(F,null,{default:t(()=>[l(m,{cols:"12",md:"4"},{default:t(()=>[l(P,{label:"Fecha de creación",modelValue:d.fecha_creacion,"onUpdate:modelValue":e[21]||(e[21]=o=>d.fecha_creacion=o),type:"date",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12",md:"4"},{default:t(()=>[l(P,{label:"Fecha de inicio",modelValue:d.fecha_inicio,"onUpdate:modelValue":e[22]||(e[22]=o=>d.fecha_inicio=o),type:"date",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(m,{cols:"12",md:"4"},{default:t(()=>[l(P,{label:"Fecha de finalización",modelValue:d.fecha_finalizacion,"onUpdate:modelValue":e[23]||(e[23]=o=>d.fecha_finalizacion=o),type:"date",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(oe,null,{default:t(()=>[l(te),l(v,{color:"error",variant:"text",onClick:Je},{default:t(()=>e[82]||(e[82]=[a(" Cancelar ")])),_:1,__:[82]}),l(v,{color:"success",variant:"elevated",disabled:!re.value,onClick:ge},{default:t(()=>e[83]||(e[83]=[a(" Guardar ")])),_:1,__:[83]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(ae,{modelValue:O.value,"onUpdate:modelValue":e[27]||(e[27]=o=>O.value=o),"max-width":"400"},{default:t(()=>[l(b,null,{default:t(()=>[l(L,{class:"text-h5"},{default:t(()=>e[84]||(e[84]=[a("Confirmar creación")])),_:1,__:[84]}),l(D,null,{default:t(()=>e[85]||(e[85]=[a(" ¿Está seguro que desea crear este proyecto? ")])),_:1,__:[85]}),l(oe,null,{default:t(()=>[l(te),l(v,{color:"secondary",variant:"text",onClick:e[26]||(e[26]=o=>O.value=!1)},{default:t(()=>e[86]||(e[86]=[a(" No ")])),_:1,__:[86]}),l(v,{color:"primary",variant:"elevated",onClick:Ae},{default:t(()=>e[87]||(e[87]=[a(" Sí, crear ")])),_:1,__:[87]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),l(nl,{modelValue:V.value.show,"onUpdate:modelValue":e[29]||(e[29]=o=>V.value.show=o),color:V.value.color,timeout:"3000"},{actions:t(()=>[l(v,{variant:"text",onClick:e[28]||(e[28]=o=>V.value.show=!1)},{default:t(()=>e[88]||(e[88]=[a(" Cerrar ")])),_:1,__:[88]})]),default:t(()=>[a(u(V.value.text)+" ",1)]),_:1},8,["modelValue","color"])],64)}}},zl=rl(Pl,[["__scopeId","data-v-98c095ac"]]);export{zl as default};
