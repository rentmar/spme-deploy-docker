import{a2 as c,c as f,r as y}from"./index-BV9e5Yt5.js";const u={obtenerTodo:async()=>{try{return(await c.get("/instancia-gestora/")).data}catch(r){throw console.error("Axios: Error, lista de Instancias Gestoras",r),r}},obtenerPorId:async r=>{try{return(await c.get("/instancia-gestora/"+r+"/")).data}catch(t){throw console.error("Axios: Error, instancia gestora con ID: "+r,t),t}},crear:async r=>{try{return await c.post("/instancia-gestora/",r)}catch(t){throw console.log("Axios, no se creo la nueva instancia gestora",t),t}},actualizar:async(r,t)=>{try{return(await c.put("/instancia-gestora/"+r+"/",t)).data}catch(o){throw console.error("Axios: No se pudo actualizar la instacion gestora con ID: "+r,o),o}},eliminar:async r=>{try{return(await c.delete("/instancia-gestora/"+r+"/")).data}catch(t){throw console.error("Axios: No se pudo eliminar la instacia gestora con ID: "+r,t),t}}},s=y([]),l=y(!1),i=y(!1);function I(){async function r(){l.value=!0;try{s.value=await u.obtenerTodo()}catch(a){i.value=a}finally{l.value=!1}}async function t(a){try{const e=await u.crear(a);s.value.push(e)}catch(e){throw i.value=e,e}}async function o(a,e){try{const n=await u.actualizar(a,e),p=s.value.findIndex(h=>h.id===a);p!==-1&&(s.value[p]=n)}catch(n){throw i.value=n,n}}async function g(a){try{await u.eliminar(a),s.value=s.value.filter(e=>e.id!==a)}catch(e){throw i.value=e,e}}const d=f(()=>s.value.map(a=>({id:a.id,text:a.instancia,codigo:a.codigo,clasificador:a.clasificador,raw:a})));return{instancias:s,loading:l,error:i,instanciasParaChips:d,cargarInstancias:r,agregarInstancia:t,actualizarInstancia:o,eliminarInstancia:g,getInstanciasByIds:a=>{if(!a)return[];const e=Array.isArray(a)?a:[a];return d.value.filter(n=>e.includes(n.id))}}}export{I as u};
